<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Scoped.Extrication.RenamingSubstitution</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Markup">\begin{code}</a>
<a id="14" class="Keyword">module</a> <a id="21" href="Scoped.Extrication.RenamingSubstitution.html" class="Module">Scoped.Extrication.RenamingSubstitution</a> <a id="61" class="Keyword">where</a>
<a id="67" class="Markup">\end{code}</a><a id="77" class="Background">

erasure commutes with renaming/substitution

</a><a id="124" class="Markup">\begin{code}</a>
<a id="137" class="Keyword">open</a> <a id="142" class="Keyword">import</a> <a id="149" href="Type.html" class="Module">Type</a>
<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Type.BetaNormal.html" class="Module">Type.BetaNormal</a>
<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="203" class="Keyword">open</a> <a id="208" class="Keyword">import</a> <a id="215" href="Data.Fin.html" class="Module">Data.Fin</a>
<a id="224" class="Keyword">open</a> <a id="229" class="Keyword">import</a> <a id="236" href="Function.html" class="Module">Function</a> <a id="245" class="Keyword">hiding</a> <a id="252" class="Symbol">(</a><a id="253" href="Function.Base.html#4269" class="Function Operator">_∋_</a><a id="256" class="Symbol">)</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="308" class="Symbol">as</a> <a id="311" class="Module">Eq</a>
<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Algorithmic.html" class="Module">Algorithmic</a> <a id="338" class="Symbol">as</a> <a id="341" class="Module">A</a>
<a id="343" class="Keyword">open</a> <a id="348" class="Keyword">import</a> <a id="355" href="Type.RenamingSubstitution.html" class="Module">Type.RenamingSubstitution</a> <a id="381" class="Symbol">as</a> <a id="384" class="Module">T</a>
<a id="386" class="Keyword">open</a> <a id="391" class="Keyword">import</a> <a id="398" href="Type.BetaNormal.html" class="Module">Type.BetaNormal</a>
<a id="414" class="Keyword">open</a> <a id="419" class="Keyword">import</a> <a id="426" href="Type.BetaNBE.html" class="Module">Type.BetaNBE</a>
<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Type.BetaNBE.Completeness.html" class="Module">Type.BetaNBE.Completeness</a>
<a id="477" class="Keyword">open</a> <a id="482" class="Keyword">import</a> <a id="489" href="Type.BetaNBE.RenamingSubstitution.html" class="Module">Type.BetaNBE.RenamingSubstitution</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Scoped.html" class="Module">Scoped</a>
<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Scoped.Extrication.html" class="Module">Scoped.Extrication</a>
<a id="573" class="Keyword">open</a> <a id="578" class="Keyword">import</a> <a id="585" href="Algorithmic.RenamingSubstitution.html" class="Module">Algorithmic.RenamingSubstitution</a> <a id="618" class="Symbol">as</a> <a id="621" class="Module">AS</a>
<a id="624" class="Keyword">open</a> <a id="629" class="Keyword">import</a> <a id="636" href="Scoped.RenamingSubstitution.html" class="Module">Scoped.RenamingSubstitution</a> <a id="664" class="Symbol">as</a> <a id="667" class="Module">SS</a>
<a id="670" class="Keyword">open</a> <a id="675" class="Keyword">import</a> <a id="682" href="Builtin.html" class="Module">Builtin</a>

<a id="691" class="Comment">-- type renamings</a>

<a id="710" class="Keyword">open</a> <a id="715" class="Keyword">import</a> <a id="722" href="Data.Product.html" class="Module">Data.Product</a> <a id="735" class="Keyword">renaming</a> <a id="744" class="Symbol">(</a><a id="745" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="749" class="Symbol">to</a> <a id="_,_"></a><a id="752" href="Scoped.Extrication.RenamingSubstitution.html#752" class="InductiveConstructor Operator">_,,_</a><a id="756" class="Symbol">)</a>

<a id="backVar"></a><a id="759" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="767" class="Symbol">:</a> <a id="769" class="Symbol">∀{</a><a id="771" href="Scoped.Extrication.RenamingSubstitution.html#771" class="Bound">Γ</a><a id="772" class="Symbol">}</a> <a id="774" class="Symbol">→</a> <a id="776" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a> <a id="780" class="Symbol">(</a><a id="781" href="Scoped.Extrication.html#694" class="Function">len⋆</a> <a id="786" href="Scoped.Extrication.RenamingSubstitution.html#771" class="Bound">Γ</a><a id="787" class="Symbol">)</a> <a id="789" class="Symbol">→</a> <a id="791" href="Agda.Builtin.Sigma.html#166" class="Record">Σ</a> <a id="793" href="Type.html#596" class="Datatype">Kind</a> <a id="798" class="Symbol">λ</a> <a id="800" href="Scoped.Extrication.RenamingSubstitution.html#800" class="Bound">J</a> <a id="802" class="Symbol">→</a> <a id="804" href="Scoped.Extrication.RenamingSubstitution.html#771" class="Bound">Γ</a> <a id="806" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="809" href="Scoped.Extrication.RenamingSubstitution.html#800" class="Bound">J</a>
<a id="811" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="819" class="Symbol">{</a><a id="820" href="Scoped.Extrication.RenamingSubstitution.html#820" class="Bound">Γ</a> <a id="822" href="Type.html#992" class="InductiveConstructor Operator">,⋆</a> <a id="825" href="Scoped.Extrication.RenamingSubstitution.html#825" class="Bound">K</a><a id="826" class="Symbol">}</a> <a id="828" href="Data.Fin.Base.html#1088" class="InductiveConstructor">zero</a>    <a id="836" class="Symbol">=</a> <a id="838" href="Scoped.Extrication.RenamingSubstitution.html#825" class="Bound">K</a> <a id="840" href="Scoped.Extrication.RenamingSubstitution.html#752" class="InductiveConstructor Operator">,,</a> <a id="843" href="Type.html#1347" class="InductiveConstructor">Z</a>
<a id="845" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="853" class="Symbol">{</a><a id="854" href="Scoped.Extrication.RenamingSubstitution.html#854" class="Bound">Γ</a> <a id="856" href="Type.html#992" class="InductiveConstructor Operator">,⋆</a> <a id="859" href="Scoped.Extrication.RenamingSubstitution.html#859" class="Bound">K</a><a id="860" class="Symbol">}</a> <a id="862" class="Symbol">(</a><a id="863" href="Data.Fin.Base.html#1119" class="InductiveConstructor">suc</a> <a id="867" href="Scoped.Extrication.RenamingSubstitution.html#867" class="Bound">i</a><a id="868" class="Symbol">)</a> <a id="870" class="Symbol">=</a> <a id="872" class="Keyword">let</a> <a id="876" href="Scoped.Extrication.RenamingSubstitution.html#876" class="Bound">J</a> <a id="878" href="Scoped.Extrication.RenamingSubstitution.html#752" class="InductiveConstructor Operator">,,</a> <a id="881" href="Scoped.Extrication.RenamingSubstitution.html#881" class="Bound">α</a> <a id="883" class="Symbol">=</a> <a id="885" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="893" href="Scoped.Extrication.RenamingSubstitution.html#867" class="Bound">i</a> <a id="895" class="Keyword">in</a> <a id="898" href="Scoped.Extrication.RenamingSubstitution.html#876" class="Bound">J</a> <a id="900" href="Scoped.Extrication.RenamingSubstitution.html#752" class="InductiveConstructor Operator">,,</a> <a id="903" href="Type.html#1400" class="InductiveConstructor">S</a> <a id="905" href="Scoped.Extrication.RenamingSubstitution.html#881" class="Bound">α</a>

<a id="lem-backVar₁"></a><a id="908" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="921" class="Symbol">:</a> <a id="923" class="Symbol">∀{</a><a id="925" href="Scoped.Extrication.RenamingSubstitution.html#925" class="Bound">Γ</a> <a id="927" href="Scoped.Extrication.RenamingSubstitution.html#927" class="Bound">J</a><a id="928" class="Symbol">}(</a><a id="930" href="Scoped.Extrication.RenamingSubstitution.html#930" class="Bound">α</a> <a id="932" class="Symbol">:</a> <a id="934" href="Scoped.Extrication.RenamingSubstitution.html#925" class="Bound">Γ</a> <a id="936" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="939" href="Scoped.Extrication.RenamingSubstitution.html#927" class="Bound">J</a><a id="940" class="Symbol">)</a> <a id="942" class="Symbol">→</a> <a id="944" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="950" class="Symbol">(</a><a id="951" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="959" class="Symbol">(</a><a id="960" href="Scoped.Extrication.html#754" class="Function">extricateVar⋆</a> <a id="974" href="Scoped.Extrication.RenamingSubstitution.html#930" class="Bound">α</a><a id="975" class="Symbol">))</a> <a id="978" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="980" href="Scoped.Extrication.RenamingSubstitution.html#927" class="Bound">J</a>
<a id="982" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="995" href="Type.html#1347" class="InductiveConstructor">Z</a> <a id="997" class="Symbol">=</a> <a id="999" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1004" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="1017" class="Symbol">(</a><a id="1018" href="Type.html#1400" class="InductiveConstructor">S</a> <a id="1020" href="Scoped.Extrication.RenamingSubstitution.html#1020" class="Bound">α</a><a id="1021" class="Symbol">)</a> <a id="1023" class="Symbol">=</a> <a id="1025" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="1038" href="Scoped.Extrication.RenamingSubstitution.html#1020" class="Bound">α</a>

<a id="lem-S"></a><a id="1041" href="Scoped.Extrication.RenamingSubstitution.html#1041" class="Function">lem-S</a> <a id="1047" class="Symbol">:</a> <a id="1049" class="Symbol">∀{</a><a id="1051" href="Scoped.Extrication.RenamingSubstitution.html#1051" class="Bound">Φ</a> <a id="1053" href="Scoped.Extrication.RenamingSubstitution.html#1053" class="Bound">K</a> <a id="1055" href="Scoped.Extrication.RenamingSubstitution.html#1055" class="Bound">J</a> <a id="1057" href="Scoped.Extrication.RenamingSubstitution.html#1057" class="Bound">J&#39;</a><a id="1059" class="Symbol">}</a> <a id="1061" class="Symbol">→</a> <a id="1063" class="Symbol">(</a><a id="1064" href="Scoped.Extrication.RenamingSubstitution.html#1064" class="Bound">p</a> <a id="1066" class="Symbol">:</a> <a id="1068" href="Scoped.Extrication.RenamingSubstitution.html#1055" class="Bound">J</a> <a id="1070" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1072" href="Scoped.Extrication.RenamingSubstitution.html#1057" class="Bound">J&#39;</a><a id="1074" class="Symbol">)</a> <a id="1076" class="Symbol">→</a> <a id="1078" class="Symbol">(</a><a id="1079" href="Scoped.Extrication.RenamingSubstitution.html#1079" class="Bound">α</a> <a id="1081" class="Symbol">:</a> <a id="1083" href="Scoped.Extrication.RenamingSubstitution.html#1051" class="Bound">Φ</a> <a id="1085" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="1088" href="Scoped.Extrication.RenamingSubstitution.html#1055" class="Bound">J</a><a id="1089" class="Symbol">)</a>
  <a id="1093" class="Symbol">→</a> <a id="1095" href="Type.html#1400" class="InductiveConstructor">S</a> <a id="1097" class="Symbol">(</a><a id="1098" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">Eq.subst</a> <a id="1107" class="Symbol">(</a><a id="1108" href="Scoped.Extrication.RenamingSubstitution.html#1051" class="Bound">Φ</a> <a id="1110" href="Type.html#1313" class="Datatype Operator">∋⋆_</a><a id="1113" class="Symbol">)</a> <a id="1115" href="Scoped.Extrication.RenamingSubstitution.html#1064" class="Bound">p</a> <a id="1117" href="Scoped.Extrication.RenamingSubstitution.html#1079" class="Bound">α</a><a id="1118" class="Symbol">)</a> <a id="1120" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1122" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">Eq.subst</a> <a id="1131" class="Symbol">(</a><a id="1132" href="Scoped.Extrication.RenamingSubstitution.html#1051" class="Bound">Φ</a> <a id="1134" href="Type.html#992" class="InductiveConstructor Operator">,⋆</a> <a id="1137" href="Scoped.Extrication.RenamingSubstitution.html#1053" class="Bound">K</a> <a id="1139" href="Type.html#1313" class="Datatype Operator">∋⋆_</a><a id="1142" class="Symbol">)</a> <a id="1144" href="Scoped.Extrication.RenamingSubstitution.html#1064" class="Bound">p</a> <a id="1146" class="Symbol">(</a><a id="1147" href="Type.html#1400" class="InductiveConstructor">S</a> <a id="1149" href="Scoped.Extrication.RenamingSubstitution.html#1079" class="Bound">α</a><a id="1150" class="Symbol">)</a>
<a id="1152" href="Scoped.Extrication.RenamingSubstitution.html#1041" class="Function">lem-S</a> <a id="1158" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1163" href="Scoped.Extrication.RenamingSubstitution.html#1163" class="Bound">α</a> <a id="1165" class="Symbol">=</a> <a id="1167" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="lem-backVar"></a><a id="1173" href="Scoped.Extrication.RenamingSubstitution.html#1173" class="Function">lem-backVar</a> <a id="1185" class="Symbol">:</a> <a id="1187" class="Symbol">∀{</a><a id="1189" href="Scoped.Extrication.RenamingSubstitution.html#1189" class="Bound">Γ</a> <a id="1191" href="Scoped.Extrication.RenamingSubstitution.html#1191" class="Bound">J</a><a id="1192" class="Symbol">}(</a><a id="1194" href="Scoped.Extrication.RenamingSubstitution.html#1194" class="Bound">α</a> <a id="1196" class="Symbol">:</a> <a id="1198" href="Scoped.Extrication.RenamingSubstitution.html#1189" class="Bound">Γ</a> <a id="1200" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="1203" href="Scoped.Extrication.RenamingSubstitution.html#1191" class="Bound">J</a><a id="1204" class="Symbol">)</a>
  <a id="1208" class="Symbol">→</a> <a id="1210" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">Eq.subst</a> <a id="1219" class="Symbol">(</a><a id="1220" href="Scoped.Extrication.RenamingSubstitution.html#1189" class="Bound">Γ</a> <a id="1222" href="Type.html#1313" class="Datatype Operator">∋⋆_</a><a id="1225" class="Symbol">)</a> <a id="1227" class="Symbol">(</a><a id="1228" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="1241" href="Scoped.Extrication.RenamingSubstitution.html#1194" class="Bound">α</a><a id="1242" class="Symbol">)</a> <a id="1244" class="Symbol">(</a><a id="1245" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1251" class="Symbol">(</a><a id="1252" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="1260" class="Symbol">(</a><a id="1261" href="Scoped.Extrication.html#754" class="Function">extricateVar⋆</a> <a id="1275" href="Scoped.Extrication.RenamingSubstitution.html#1194" class="Bound">α</a><a id="1276" class="Symbol">)))</a> <a id="1280" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1282" href="Scoped.Extrication.RenamingSubstitution.html#1194" class="Bound">α</a>
<a id="1284" href="Scoped.Extrication.RenamingSubstitution.html#1173" class="Function">lem-backVar</a> <a id="1296" href="Type.html#1347" class="InductiveConstructor">Z</a> <a id="1298" class="Symbol">=</a> <a id="1300" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1305" href="Scoped.Extrication.RenamingSubstitution.html#1173" class="Function">lem-backVar</a> <a id="1317" class="Symbol">(</a><a id="1318" href="Type.html#1400" class="InductiveConstructor">S</a> <a id="1320" href="Scoped.Extrication.RenamingSubstitution.html#1320" class="Bound">α</a><a id="1321" class="Symbol">)</a> <a id="1323" class="Symbol">=</a> <a id="1325" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a>
  <a id="1333" class="Symbol">(</a><a id="1334" href="Relation.Binary.PropositionalEquality.Core.html#980" class="Function">sym</a> <a id="1338" class="Symbol">(</a><a id="1339" href="Scoped.Extrication.RenamingSubstitution.html#1041" class="Function">lem-S</a> <a id="1345" class="Symbol">(</a><a id="1346" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="1359" href="Scoped.Extrication.RenamingSubstitution.html#1320" class="Bound">α</a><a id="1360" class="Symbol">)</a> <a id="1362" class="Symbol">(</a><a id="1363" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1369" class="Symbol">(</a><a id="1370" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="1378" class="Symbol">(</a><a id="1379" href="Scoped.Extrication.html#754" class="Function">extricateVar⋆</a> <a id="1393" href="Scoped.Extrication.RenamingSubstitution.html#1320" class="Bound">α</a><a id="1394" class="Symbol">)))))</a>
  <a id="1402" class="Symbol">(</a><a id="1403" href="Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="1408" href="Type.html#1400" class="InductiveConstructor">S</a> <a id="1410" class="Symbol">(</a><a id="1411" href="Scoped.Extrication.RenamingSubstitution.html#1173" class="Function">lem-backVar</a> <a id="1423" href="Scoped.Extrication.RenamingSubstitution.html#1320" class="Bound">α</a><a id="1424" class="Symbol">))</a>

<a id="extricateRenNf⋆"></a><a id="1428" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="1444" class="Symbol">:</a> <a id="1446" class="Symbol">∀{</a><a id="1448" href="Scoped.Extrication.RenamingSubstitution.html#1448" class="Bound">Γ</a> <a id="1450" href="Scoped.Extrication.RenamingSubstitution.html#1450" class="Bound">Δ</a><a id="1451" class="Symbol">}(</a><a id="1453" href="Scoped.Extrication.RenamingSubstitution.html#1453" class="Bound">ρ⋆</a> <a id="1456" class="Symbol">:</a> <a id="1458" class="Symbol">∀</a> <a id="1460" class="Symbol">{</a><a id="1461" href="Scoped.Extrication.RenamingSubstitution.html#1461" class="Bound">J</a><a id="1462" class="Symbol">}</a> <a id="1464" class="Symbol">→</a> <a id="1466" href="Scoped.Extrication.RenamingSubstitution.html#1448" class="Bound">Γ</a> <a id="1468" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="1471" href="Scoped.Extrication.RenamingSubstitution.html#1461" class="Bound">J</a> <a id="1473" class="Symbol">→</a> <a id="1475" href="Scoped.Extrication.RenamingSubstitution.html#1450" class="Bound">Δ</a> <a id="1477" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="1480" href="Scoped.Extrication.RenamingSubstitution.html#1461" class="Bound">J</a><a id="1481" class="Symbol">)</a> 
  <a id="1486" class="Symbol">→</a> <a id="1488" href="Scoped.RenamingSubstitution.html#238" class="Function">Ren⋆</a> <a id="1493" class="Symbol">(</a><a id="1494" href="Scoped.Extrication.html#694" class="Function">len⋆</a> <a id="1499" href="Scoped.Extrication.RenamingSubstitution.html#1448" class="Bound">Γ</a><a id="1500" class="Symbol">)</a> <a id="1502" class="Symbol">(</a><a id="1503" href="Scoped.Extrication.html#694" class="Function">len⋆</a> <a id="1508" href="Scoped.Extrication.RenamingSubstitution.html#1450" class="Bound">Δ</a><a id="1509" class="Symbol">)</a>
<a id="1511" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="1527" href="Scoped.Extrication.RenamingSubstitution.html#1527" class="Bound">ρ⋆</a> <a id="1530" href="Scoped.Extrication.RenamingSubstitution.html#1530" class="Bound">x</a> <a id="1532" class="Symbol">=</a> <a id="1534" href="Scoped.Extrication.html#754" class="Function">extricateVar⋆</a> <a id="1548" class="Symbol">(</a><a id="1549" href="Scoped.Extrication.RenamingSubstitution.html#1527" class="Bound">ρ⋆</a> <a id="1552" class="Symbol">(</a><a id="1553" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1559" class="Symbol">(</a><a id="1560" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="1568" href="Scoped.Extrication.RenamingSubstitution.html#1530" class="Bound">x</a><a id="1569" class="Symbol">)))</a>

<a id="lift⋆-ext"></a><a id="1574" href="Scoped.Extrication.RenamingSubstitution.html#1574" class="Function">lift⋆-ext</a> <a id="1584" class="Symbol">:</a> <a id="1586" class="Symbol">∀{</a><a id="1588" href="Scoped.Extrication.RenamingSubstitution.html#1588" class="Bound">Γ</a> <a id="1590" href="Scoped.Extrication.RenamingSubstitution.html#1590" class="Bound">Δ</a> <a id="1592" href="Scoped.Extrication.RenamingSubstitution.html#1592" class="Bound">K</a><a id="1593" class="Symbol">}</a>
  <a id="1597" class="Symbol">→</a> <a id="1599" class="Symbol">(</a><a id="1600" href="Scoped.Extrication.RenamingSubstitution.html#1600" class="Bound">ρ⋆</a> <a id="1603" class="Symbol">:</a> <a id="1605" class="Symbol">∀</a> <a id="1607" class="Symbol">{</a><a id="1608" href="Scoped.Extrication.RenamingSubstitution.html#1608" class="Bound">J</a><a id="1609" class="Symbol">}</a> <a id="1611" class="Symbol">→</a> <a id="1613" href="Scoped.Extrication.RenamingSubstitution.html#1588" class="Bound">Γ</a> <a id="1615" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="1618" href="Scoped.Extrication.RenamingSubstitution.html#1608" class="Bound">J</a> <a id="1620" class="Symbol">→</a> <a id="1622" href="Scoped.Extrication.RenamingSubstitution.html#1590" class="Bound">Δ</a> <a id="1624" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="1627" href="Scoped.Extrication.RenamingSubstitution.html#1608" class="Bound">J</a><a id="1628" class="Symbol">)</a>
  <a id="1632" class="Symbol">→</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Scoped.Extrication.RenamingSubstitution.html#1635" class="Bound">α</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a> <a id="1643" class="Symbol">(</a><a id="1644" href="Scoped.Extrication.html#694" class="Function">len⋆</a> <a id="1649" class="Symbol">(</a><a id="1650" href="Scoped.Extrication.RenamingSubstitution.html#1588" class="Bound">Γ</a> <a id="1652" href="Type.html#992" class="InductiveConstructor Operator">,⋆</a> <a id="1655" href="Scoped.Extrication.RenamingSubstitution.html#1592" class="Bound">K</a><a id="1656" class="Symbol">)))</a>
  <a id="1662" class="Symbol">→</a> <a id="1664" href="Scoped.RenamingSubstitution.html#283" class="Function">lift⋆</a> <a id="1670" class="Symbol">(</a><a id="1671" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="1687" href="Scoped.Extrication.RenamingSubstitution.html#1600" class="Bound">ρ⋆</a><a id="1689" class="Symbol">)</a> <a id="1691" href="Scoped.Extrication.RenamingSubstitution.html#1635" class="Bound">α</a> <a id="1693" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1695" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="1711" class="Symbol">(</a><a id="1712" href="Type.RenamingSubstitution.html#550" class="Function">T.ext</a> <a id="1718" href="Scoped.Extrication.RenamingSubstitution.html#1600" class="Bound">ρ⋆</a> <a id="1721" class="Symbol">{</a><a id="1722" class="Argument">K</a> <a id="1724" class="Symbol">=</a> <a id="1726" href="Scoped.Extrication.RenamingSubstitution.html#1592" class="Bound">K</a><a id="1727" class="Symbol">})</a> <a id="1730" href="Scoped.Extrication.RenamingSubstitution.html#1635" class="Bound">α</a> <a id="1732" class="Comment">-- </a>
<a id="1736" href="Scoped.Extrication.RenamingSubstitution.html#1574" class="Function">lift⋆-ext</a> <a id="1746" href="Scoped.Extrication.RenamingSubstitution.html#1746" class="Bound">ρ⋆</a> <a id="1749" href="Data.Fin.Base.html#1088" class="InductiveConstructor">zero</a> <a id="1754" class="Symbol">=</a> <a id="1756" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1761" href="Scoped.Extrication.RenamingSubstitution.html#1574" class="Function">lift⋆-ext</a> <a id="1771" href="Scoped.Extrication.RenamingSubstitution.html#1771" class="Bound">ρ⋆</a> <a id="1774" class="Symbol">(</a><a id="1775" href="Data.Fin.Base.html#1119" class="InductiveConstructor">suc</a> <a id="1779" href="Scoped.Extrication.RenamingSubstitution.html#1779" class="Bound">α</a><a id="1780" class="Symbol">)</a> <a id="1782" class="Symbol">=</a> <a id="1784" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="lem-extricateVar⋆"></a><a id="1790" href="Scoped.Extrication.RenamingSubstitution.html#1790" class="Function">lem-extricateVar⋆</a> <a id="1808" class="Symbol">:</a>  <a id="1811" class="Symbol">∀{</a><a id="1813" href="Scoped.Extrication.RenamingSubstitution.html#1813" class="Bound">Γ</a> <a id="1815" href="Scoped.Extrication.RenamingSubstitution.html#1815" class="Bound">Δ</a> <a id="1817" href="Scoped.Extrication.RenamingSubstitution.html#1817" class="Bound">J</a> <a id="1819" href="Scoped.Extrication.RenamingSubstitution.html#1819" class="Bound">J&#39;</a><a id="1821" class="Symbol">}</a>
  <a id="1825" class="Symbol">→</a> <a id="1827" class="Symbol">(</a><a id="1828" href="Scoped.Extrication.RenamingSubstitution.html#1828" class="Bound">ρ⋆</a> <a id="1831" class="Symbol">:</a> <a id="1833" class="Symbol">∀</a> <a id="1835" class="Symbol">{</a><a id="1836" href="Scoped.Extrication.RenamingSubstitution.html#1836" class="Bound">J</a><a id="1837" class="Symbol">}</a> <a id="1839" class="Symbol">→</a> <a id="1841" href="Scoped.Extrication.RenamingSubstitution.html#1813" class="Bound">Γ</a> <a id="1843" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="1846" href="Scoped.Extrication.RenamingSubstitution.html#1836" class="Bound">J</a> <a id="1848" class="Symbol">→</a> <a id="1850" href="Scoped.Extrication.RenamingSubstitution.html#1815" class="Bound">Δ</a> <a id="1852" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="1855" href="Scoped.Extrication.RenamingSubstitution.html#1836" class="Bound">J</a><a id="1856" class="Symbol">)</a>
  <a id="1860" class="Symbol">→</a> <a id="1862" class="Symbol">(</a><a id="1863" href="Scoped.Extrication.RenamingSubstitution.html#1863" class="Bound">α</a> <a id="1865" class="Symbol">:</a> <a id="1867" href="Scoped.Extrication.RenamingSubstitution.html#1813" class="Bound">Γ</a> <a id="1869" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="1872" href="Scoped.Extrication.RenamingSubstitution.html#1817" class="Bound">J</a><a id="1873" class="Symbol">)</a>
  <a id="1877" class="Symbol">→</a> <a id="1879" class="Symbol">(</a><a id="1880" href="Scoped.Extrication.RenamingSubstitution.html#1880" class="Bound">p</a> <a id="1882" class="Symbol">:</a> <a id="1884" href="Scoped.Extrication.RenamingSubstitution.html#1817" class="Bound">J</a> <a id="1886" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1888" href="Scoped.Extrication.RenamingSubstitution.html#1819" class="Bound">J&#39;</a><a id="1890" class="Symbol">)</a>
  <a id="1894" class="Symbol">→</a> <a id="1896" href="Scoped.Extrication.html#754" class="Function">extricateVar⋆</a> <a id="1910" class="Symbol">(</a><a id="1911" href="Scoped.Extrication.RenamingSubstitution.html#1828" class="Bound">ρ⋆</a> <a id="1914" href="Scoped.Extrication.RenamingSubstitution.html#1863" class="Bound">α</a><a id="1915" class="Symbol">)</a> <a id="1917" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1919" href="Scoped.Extrication.html#754" class="Function">extricateVar⋆</a> <a id="1933" class="Symbol">(</a><a id="1934" href="Scoped.Extrication.RenamingSubstitution.html#1828" class="Bound">ρ⋆</a> <a id="1937" class="Symbol">(</a><a id="1938" href="Relation.Binary.PropositionalEquality.Core.html#1076" class="Function">Eq.subst</a> <a id="1947" class="Symbol">(</a><a id="1948" href="Scoped.Extrication.RenamingSubstitution.html#1813" class="Bound">Γ</a> <a id="1950" href="Type.html#1313" class="Datatype Operator">∋⋆_</a><a id="1953" class="Symbol">)</a> <a id="1955" href="Scoped.Extrication.RenamingSubstitution.html#1880" class="Bound">p</a> <a id="1957" href="Scoped.Extrication.RenamingSubstitution.html#1863" class="Bound">α</a><a id="1958" class="Symbol">))</a>
<a id="1961" href="Scoped.Extrication.RenamingSubstitution.html#1790" class="Function">lem-extricateVar⋆</a> <a id="1979" href="Scoped.Extrication.RenamingSubstitution.html#1979" class="Bound">ρ⋆</a> <a id="1982" href="Scoped.Extrication.RenamingSubstitution.html#1982" class="Bound">α</a> <a id="1984" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1989" class="Symbol">=</a> <a id="1991" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="ren-extricateNf⋆"></a><a id="1997" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2014" class="Symbol">:</a>  <a id="2017" class="Symbol">∀{</a><a id="2019" href="Scoped.Extrication.RenamingSubstitution.html#2019" class="Bound">Γ</a> <a id="2021" href="Scoped.Extrication.RenamingSubstitution.html#2021" class="Bound">Δ</a> <a id="2023" href="Scoped.Extrication.RenamingSubstitution.html#2023" class="Bound">J</a><a id="2024" class="Symbol">}</a>
  <a id="2028" class="Symbol">→</a> <a id="2030" class="Symbol">(</a><a id="2031" href="Scoped.Extrication.RenamingSubstitution.html#2031" class="Bound">ρ⋆</a> <a id="2034" class="Symbol">:</a> <a id="2036" class="Symbol">∀</a> <a id="2038" class="Symbol">{</a><a id="2039" href="Scoped.Extrication.RenamingSubstitution.html#2039" class="Bound">J</a><a id="2040" class="Symbol">}</a> <a id="2042" class="Symbol">→</a> <a id="2044" href="Scoped.Extrication.RenamingSubstitution.html#2019" class="Bound">Γ</a> <a id="2046" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="2049" href="Scoped.Extrication.RenamingSubstitution.html#2039" class="Bound">J</a> <a id="2051" class="Symbol">→</a> <a id="2053" href="Scoped.Extrication.RenamingSubstitution.html#2021" class="Bound">Δ</a> <a id="2055" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="2058" href="Scoped.Extrication.RenamingSubstitution.html#2039" class="Bound">J</a><a id="2059" class="Symbol">)</a>
  <a id="2063" class="Symbol">→</a> <a id="2065" class="Symbol">(</a><a id="2066" href="Scoped.Extrication.RenamingSubstitution.html#2066" class="Bound">A</a> <a id="2068" class="Symbol">:</a> <a id="2070" href="Scoped.Extrication.RenamingSubstitution.html#2019" class="Bound">Γ</a> <a id="2072" href="Type.BetaNormal.html#860" class="Datatype Operator">⊢Nf⋆</a> <a id="2077" href="Scoped.Extrication.RenamingSubstitution.html#2023" class="Bound">J</a><a id="2078" class="Symbol">)</a>
  <a id="2082" class="Symbol">→</a> <a id="2084" href="Scoped.RenamingSubstitution.html#384" class="Function">ren⋆</a> <a id="2089" class="Symbol">(</a><a id="2090" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="2106" href="Scoped.Extrication.RenamingSubstitution.html#2031" class="Bound">ρ⋆</a><a id="2108" class="Symbol">)</a> <a id="2110" class="Symbol">(</a><a id="2111" href="Scoped.Extrication.html#876" class="Function">extricateNf⋆</a> <a id="2124" href="Scoped.Extrication.RenamingSubstitution.html#2066" class="Bound">A</a><a id="2125" class="Symbol">)</a> <a id="2127" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2129" href="Scoped.Extrication.html#876" class="Function">extricateNf⋆</a> <a id="2142" class="Symbol">(</a><a id="2143" href="Type.BetaNormal.html#1674" class="Function">renNf</a> <a id="2149" href="Scoped.Extrication.RenamingSubstitution.html#2031" class="Bound">ρ⋆</a> <a id="2152" href="Scoped.Extrication.RenamingSubstitution.html#2066" class="Bound">A</a><a id="2153" class="Symbol">)</a>

<a id="ren-extricateNe⋆"></a><a id="2156" href="Scoped.Extrication.RenamingSubstitution.html#2156" class="Function">ren-extricateNe⋆</a> <a id="2173" class="Symbol">:</a>  <a id="2176" class="Symbol">∀{</a><a id="2178" href="Scoped.Extrication.RenamingSubstitution.html#2178" class="Bound">Γ</a> <a id="2180" href="Scoped.Extrication.RenamingSubstitution.html#2180" class="Bound">Δ</a> <a id="2182" href="Scoped.Extrication.RenamingSubstitution.html#2182" class="Bound">J</a><a id="2183" class="Symbol">}</a>
  <a id="2187" class="Symbol">→</a> <a id="2189" class="Symbol">(</a><a id="2190" href="Scoped.Extrication.RenamingSubstitution.html#2190" class="Bound">ρ⋆</a> <a id="2193" class="Symbol">:</a> <a id="2195" class="Symbol">∀</a> <a id="2197" class="Symbol">{</a><a id="2198" href="Scoped.Extrication.RenamingSubstitution.html#2198" class="Bound">J</a><a id="2199" class="Symbol">}</a> <a id="2201" class="Symbol">→</a> <a id="2203" href="Scoped.Extrication.RenamingSubstitution.html#2178" class="Bound">Γ</a> <a id="2205" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="2208" href="Scoped.Extrication.RenamingSubstitution.html#2198" class="Bound">J</a> <a id="2210" class="Symbol">→</a> <a id="2212" href="Scoped.Extrication.RenamingSubstitution.html#2180" class="Bound">Δ</a> <a id="2214" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="2217" href="Scoped.Extrication.RenamingSubstitution.html#2198" class="Bound">J</a><a id="2218" class="Symbol">)</a>
  <a id="2222" class="Symbol">→</a> <a id="2224" class="Symbol">(</a><a id="2225" href="Scoped.Extrication.RenamingSubstitution.html#2225" class="Bound">A</a> <a id="2227" class="Symbol">:</a> <a id="2229" href="Scoped.Extrication.RenamingSubstitution.html#2178" class="Bound">Γ</a> <a id="2231" href="Type.BetaNormal.html#893" class="Datatype Operator">⊢Ne⋆</a> <a id="2236" href="Scoped.Extrication.RenamingSubstitution.html#2182" class="Bound">J</a><a id="2237" class="Symbol">)</a>
  <a id="2241" class="Symbol">→</a> <a id="2243" href="Scoped.RenamingSubstitution.html#384" class="Function">ren⋆</a> <a id="2248" class="Symbol">(</a><a id="2249" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="2265" href="Scoped.Extrication.RenamingSubstitution.html#2190" class="Bound">ρ⋆</a><a id="2267" class="Symbol">)</a> <a id="2269" class="Symbol">(</a><a id="2270" href="Scoped.Extrication.html#932" class="Function">extricateNe⋆</a> <a id="2283" href="Scoped.Extrication.RenamingSubstitution.html#2225" class="Bound">A</a><a id="2284" class="Symbol">)</a> <a id="2286" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2288" href="Scoped.Extrication.html#932" class="Function">extricateNe⋆</a> <a id="2301" class="Symbol">(</a><a id="2302" href="Type.BetaNormal.html#1770" class="Function">renNe</a> <a id="2308" href="Scoped.Extrication.RenamingSubstitution.html#2190" class="Bound">ρ⋆</a> <a id="2311" href="Scoped.Extrication.RenamingSubstitution.html#2225" class="Bound">A</a><a id="2312" class="Symbol">)</a>
<a id="2314" href="Scoped.Extrication.RenamingSubstitution.html#2156" class="Function">ren-extricateNe⋆</a> <a id="2331" href="Scoped.Extrication.RenamingSubstitution.html#2331" class="Bound">ρ⋆</a> <a id="2334" class="Symbol">(</a><a id="2335" href="Type.BetaNormal.html#928" class="InductiveConstructor">`</a> <a id="2337" href="Scoped.Extrication.RenamingSubstitution.html#2337" class="Bound">x</a><a id="2338" class="Symbol">)</a>   <a id="2342" class="Symbol">=</a> <a id="2344" href="Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a>
  <a id="2351" href="Scoped.html#1418" class="InductiveConstructor">`</a>
  <a id="2355" class="Symbol">(</a><a id="2356" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a> <a id="2362" class="Symbol">(</a><a id="2363" href="Scoped.Extrication.RenamingSubstitution.html#1790" class="Function">lem-extricateVar⋆</a> <a id="2381" href="Scoped.Extrication.RenamingSubstitution.html#2331" class="Bound">ρ⋆</a> <a id="2384" class="Symbol">(</a><a id="2385" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="2391" class="Symbol">(</a><a id="2392" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="2400" class="Symbol">(</a><a id="2401" href="Scoped.Extrication.html#754" class="Function">extricateVar⋆</a> <a id="2415" href="Scoped.Extrication.RenamingSubstitution.html#2337" class="Bound">x</a><a id="2416" class="Symbol">)))</a> <a id="2420" class="Symbol">(</a><a id="2421" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="2434" href="Scoped.Extrication.RenamingSubstitution.html#2337" class="Bound">x</a><a id="2435" class="Symbol">))</a>
  <a id="2440" class="Symbol">(</a><a id="2441" href="Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="2446" class="Symbol">(</a><a id="2447" href="Scoped.Extrication.html#754" class="Function">extricateVar⋆</a> <a id="2461" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="2463" href="Scoped.Extrication.RenamingSubstitution.html#2331" class="Bound">ρ⋆</a><a id="2465" class="Symbol">)</a> <a id="2467" class="Symbol">(</a><a id="2468" href="Scoped.Extrication.RenamingSubstitution.html#1173" class="Function">lem-backVar</a> <a id="2480" href="Scoped.Extrication.RenamingSubstitution.html#2337" class="Bound">x</a><a id="2481" class="Symbol">)))</a>
<a id="2485" href="Scoped.Extrication.RenamingSubstitution.html#2156" class="Function">ren-extricateNe⋆</a> <a id="2502" href="Scoped.Extrication.RenamingSubstitution.html#2502" class="Bound">ρ⋆</a> <a id="2505" class="Symbol">(</a><a id="2506" href="Scoped.Extrication.RenamingSubstitution.html#2506" class="Bound">A</a> <a id="2508" href="Type.BetaNormal.html#986" class="InductiveConstructor Operator">·</a> <a id="2510" href="Scoped.Extrication.RenamingSubstitution.html#2510" class="Bound">B</a><a id="2511" class="Symbol">)</a> <a id="2513" class="Symbol">=</a>
  <a id="2517" href="Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a> <a id="2523" href="Scoped.html#1584" class="InductiveConstructor Operator">_·_</a> <a id="2527" class="Symbol">(</a><a id="2528" href="Scoped.Extrication.RenamingSubstitution.html#2156" class="Function">ren-extricateNe⋆</a> <a id="2545" href="Scoped.Extrication.RenamingSubstitution.html#2502" class="Bound">ρ⋆</a> <a id="2548" href="Scoped.Extrication.RenamingSubstitution.html#2506" class="Bound">A</a><a id="2549" class="Symbol">)</a> <a id="2551" class="Symbol">(</a><a id="2552" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2569" href="Scoped.Extrication.RenamingSubstitution.html#2502" class="Bound">ρ⋆</a> <a id="2572" href="Scoped.Extrication.RenamingSubstitution.html#2510" class="Bound">B</a><a id="2573" class="Symbol">)</a>

<a id="2576" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2593" href="Scoped.Extrication.RenamingSubstitution.html#2593" class="Bound">ρ⋆</a> <a id="2596" class="Symbol">(</a><a id="2597" href="Type.BetaNormal.html#1087" class="InductiveConstructor">Π</a> <a id="2599" href="Scoped.Extrication.RenamingSubstitution.html#2599" class="Bound">A</a><a id="2600" class="Symbol">)</a>  <a id="2603" class="Symbol">=</a>
  <a id="2607" href="Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="2612" class="Symbol">(</a><a id="2613" href="Scoped.html#1492" class="InductiveConstructor">Π</a> <a id="2615" class="Symbol">_)</a>
       <a id="2625" class="Symbol">(</a><a id="2626" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a> <a id="2632" class="Symbol">(</a><a id="2633" href="Scoped.RenamingSubstitution.html#4119" class="Function">ren⋆-cong</a> <a id="2643" class="Symbol">(</a><a id="2644" href="Scoped.Extrication.RenamingSubstitution.html#1574" class="Function">lift⋆-ext</a> <a id="2654" href="Scoped.Extrication.RenamingSubstitution.html#2593" class="Bound">ρ⋆</a><a id="2656" class="Symbol">)</a> <a id="2658" class="Symbol">(</a><a id="2659" href="Scoped.Extrication.html#876" class="Function">extricateNf⋆</a> <a id="2672" href="Scoped.Extrication.RenamingSubstitution.html#2599" class="Bound">A</a><a id="2673" class="Symbol">))</a>
              <a id="2690" class="Symbol">(</a><a id="2691" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2708" class="Symbol">(</a><a id="2709" href="Type.RenamingSubstitution.html#550" class="Function">T.ext</a> <a id="2715" href="Scoped.Extrication.RenamingSubstitution.html#2593" class="Bound">ρ⋆</a><a id="2717" class="Symbol">)</a> <a id="2719" href="Scoped.Extrication.RenamingSubstitution.html#2599" class="Bound">A</a><a id="2720" class="Symbol">))</a>
<a id="2723" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2740" href="Scoped.Extrication.RenamingSubstitution.html#2740" class="Bound">ρ⋆</a> <a id="2743" class="Symbol">(</a><a id="2744" href="Scoped.Extrication.RenamingSubstitution.html#2744" class="Bound">A</a> <a id="2746" href="Type.BetaNormal.html#1155" class="InductiveConstructor Operator">⇒</a> <a id="2748" href="Scoped.Extrication.RenamingSubstitution.html#2748" class="Bound">B</a><a id="2749" class="Symbol">)</a>  <a id="2752" class="Symbol">=</a>
  <a id="2756" href="Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a> <a id="2762" href="Scoped.html#1446" class="InductiveConstructor Operator">_⇒_</a> <a id="2766" class="Symbol">(</a><a id="2767" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2784" href="Scoped.Extrication.RenamingSubstitution.html#2740" class="Bound">ρ⋆</a> <a id="2787" href="Scoped.Extrication.RenamingSubstitution.html#2744" class="Bound">A</a><a id="2788" class="Symbol">)</a> <a id="2790" class="Symbol">(</a><a id="2791" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2808" href="Scoped.Extrication.RenamingSubstitution.html#2740" class="Bound">ρ⋆</a> <a id="2811" href="Scoped.Extrication.RenamingSubstitution.html#2748" class="Bound">B</a><a id="2812" class="Symbol">)</a>
<a id="2814" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2831" href="Scoped.Extrication.RenamingSubstitution.html#2831" class="Bound">ρ⋆</a> <a id="2834" class="Symbol">(</a><a id="2835" href="Type.BetaNormal.html#1228" class="InductiveConstructor">ƛ</a> <a id="2837" href="Scoped.Extrication.RenamingSubstitution.html#2837" class="Bound">A</a><a id="2838" class="Symbol">)</a>  <a id="2841" class="Symbol">=</a>
  <a id="2845" href="Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="2850" class="Symbol">(</a><a id="2851" href="Scoped.html#1538" class="InductiveConstructor">ƛ</a> <a id="2853" class="Symbol">_)</a>
       <a id="2863" class="Symbol">(</a><a id="2864" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a> <a id="2870" class="Symbol">(</a><a id="2871" href="Scoped.RenamingSubstitution.html#4119" class="Function">ren⋆-cong</a> <a id="2881" class="Symbol">(</a><a id="2882" href="Scoped.Extrication.RenamingSubstitution.html#1574" class="Function">lift⋆-ext</a> <a id="2892" href="Scoped.Extrication.RenamingSubstitution.html#2831" class="Bound">ρ⋆</a><a id="2894" class="Symbol">)</a> <a id="2896" class="Symbol">(</a><a id="2897" href="Scoped.Extrication.html#876" class="Function">extricateNf⋆</a> <a id="2910" href="Scoped.Extrication.RenamingSubstitution.html#2837" class="Bound">A</a><a id="2911" class="Symbol">))</a> <a id="2914" class="Symbol">(</a><a id="2915" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2932" class="Symbol">(</a><a id="2933" href="Type.RenamingSubstitution.html#550" class="Function">T.ext</a> <a id="2939" href="Scoped.Extrication.RenamingSubstitution.html#2831" class="Bound">ρ⋆</a><a id="2941" class="Symbol">)</a> <a id="2943" href="Scoped.Extrication.RenamingSubstitution.html#2837" class="Bound">A</a><a id="2944" class="Symbol">))</a>
<a id="2947" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2964" href="Scoped.Extrication.RenamingSubstitution.html#2964" class="Bound">ρ⋆</a> <a id="2967" class="Symbol">(</a><a id="2968" href="Type.BetaNormal.html#1305" class="InductiveConstructor">ne</a> <a id="2971" href="Scoped.Extrication.RenamingSubstitution.html#2971" class="Bound">A</a><a id="2972" class="Symbol">)</a>   <a id="2976" class="Symbol">=</a> <a id="2978" href="Scoped.Extrication.RenamingSubstitution.html#2156" class="Function">ren-extricateNe⋆</a> <a id="2995" href="Scoped.Extrication.RenamingSubstitution.html#2964" class="Bound">ρ⋆</a> <a id="2998" href="Scoped.Extrication.RenamingSubstitution.html#2971" class="Bound">A</a>
<a id="3000" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="3017" href="Scoped.Extrication.RenamingSubstitution.html#3017" class="Bound">ρ⋆</a> <a id="3020" class="Symbol">(</a><a id="3021" href="Type.BetaNormal.html#1365" class="InductiveConstructor">con</a> <a id="3025" href="Scoped.Extrication.RenamingSubstitution.html#3025" class="Bound">c</a><a id="3026" class="Symbol">)</a>  <a id="3029" class="Symbol">=</a> <a id="3031" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3036" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="3053" href="Scoped.Extrication.RenamingSubstitution.html#3053" class="Bound">ρ⋆</a> <a id="3056" class="Symbol">(</a><a id="3057" href="Type.BetaNormal.html#1398" class="InductiveConstructor">μ</a> <a id="3059" href="Scoped.Extrication.RenamingSubstitution.html#3059" class="Bound">A</a> <a id="3061" href="Scoped.Extrication.RenamingSubstitution.html#3061" class="Bound">B</a><a id="3062" class="Symbol">)</a>  <a id="3065" class="Symbol">=</a>
  <a id="3069" href="Relation.Binary.PropositionalEquality.html#1524" class="Function">cong₂</a> <a id="3075" href="Scoped.html#1658" class="InductiveConstructor">μ</a> <a id="3077" class="Symbol">(</a><a id="3078" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="3095" href="Scoped.Extrication.RenamingSubstitution.html#3053" class="Bound">ρ⋆</a> <a id="3098" href="Scoped.Extrication.RenamingSubstitution.html#3059" class="Bound">A</a><a id="3099" class="Symbol">)</a> <a id="3101" class="Symbol">(</a><a id="3102" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="3119" href="Scoped.Extrication.RenamingSubstitution.html#3053" class="Bound">ρ⋆</a> <a id="3122" href="Scoped.Extrication.RenamingSubstitution.html#3061" class="Bound">B</a><a id="3123" class="Symbol">)</a>

<a id="extricateSubNf⋆"></a><a id="3126" href="Scoped.Extrication.RenamingSubstitution.html#3126" class="Function">extricateSubNf⋆</a> <a id="3142" class="Symbol">:</a> <a id="3144" class="Symbol">∀{</a><a id="3146" href="Scoped.Extrication.RenamingSubstitution.html#3146" class="Bound">Γ</a> <a id="3148" href="Scoped.Extrication.RenamingSubstitution.html#3148" class="Bound">Δ</a><a id="3149" class="Symbol">}(</a><a id="3151" href="Scoped.Extrication.RenamingSubstitution.html#3151" class="Bound">σ⋆</a> <a id="3154" class="Symbol">:</a> <a id="3156" class="Symbol">∀</a> <a id="3158" class="Symbol">{</a><a id="3159" href="Scoped.Extrication.RenamingSubstitution.html#3159" class="Bound">J</a><a id="3160" class="Symbol">}</a> <a id="3162" class="Symbol">→</a> <a id="3164" href="Scoped.Extrication.RenamingSubstitution.html#3146" class="Bound">Γ</a> <a id="3166" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="3169" href="Scoped.Extrication.RenamingSubstitution.html#3159" class="Bound">J</a> <a id="3171" class="Symbol">→</a> <a id="3173" href="Scoped.Extrication.RenamingSubstitution.html#3148" class="Bound">Δ</a> <a id="3175" href="Type.BetaNormal.html#860" class="Datatype Operator">⊢Nf⋆</a> <a id="3180" href="Scoped.Extrication.RenamingSubstitution.html#3159" class="Bound">J</a><a id="3181" class="Symbol">)</a> 
  <a id="3186" class="Symbol">→</a> <a id="3188" href="Scoped.RenamingSubstitution.html#1796" class="Function">Sub⋆</a> <a id="3193" class="Symbol">(</a><a id="3194" href="Scoped.Extrication.html#694" class="Function">len⋆</a> <a id="3199" href="Scoped.Extrication.RenamingSubstitution.html#3146" class="Bound">Γ</a><a id="3200" class="Symbol">)</a> <a id="3202" class="Symbol">(</a><a id="3203" href="Scoped.Extrication.html#694" class="Function">len⋆</a> <a id="3208" href="Scoped.Extrication.RenamingSubstitution.html#3148" class="Bound">Δ</a><a id="3209" class="Symbol">)</a>
<a id="3211" href="Scoped.Extrication.RenamingSubstitution.html#3126" class="Function">extricateSubNf⋆</a> <a id="3227" href="Scoped.Extrication.RenamingSubstitution.html#3227" class="Bound">σ⋆</a> <a id="3230" href="Scoped.Extrication.RenamingSubstitution.html#3230" class="Bound">α</a> <a id="3232" class="Symbol">=</a> <a id="3234" href="Scoped.Extrication.html#876" class="Function">extricateNf⋆</a> <a id="3247" class="Symbol">(</a><a id="3248" href="Scoped.Extrication.RenamingSubstitution.html#3227" class="Bound">σ⋆</a> <a id="3251" class="Symbol">(</a><a id="3252" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="3258" class="Symbol">(</a><a id="3259" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="3267" href="Scoped.Extrication.RenamingSubstitution.html#3230" class="Bound">α</a><a id="3268" class="Symbol">)))</a>

<a id="suclem"></a><a id="3273" href="Scoped.Extrication.RenamingSubstitution.html#3273" class="Function">suclem</a> <a id="3280" class="Symbol">:</a> <a id="3282" class="Symbol">∀{</a><a id="3284" href="Scoped.Extrication.RenamingSubstitution.html#3284" class="Bound">Δ</a> <a id="3286" href="Scoped.Extrication.RenamingSubstitution.html#3286" class="Bound">K</a><a id="3287" class="Symbol">}</a> <a id="3289" class="Symbol">→</a> <a id="3291" class="Symbol">(</a><a id="3292" href="Scoped.Extrication.RenamingSubstitution.html#3292" class="Bound">x</a> <a id="3294" class="Symbol">:</a> <a id="3296" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a> <a id="3300" class="Symbol">(</a><a id="3301" href="Scoped.Extrication.html#694" class="Function">len⋆</a> <a id="3306" href="Scoped.Extrication.RenamingSubstitution.html#3284" class="Bound">Δ</a><a id="3307" class="Symbol">))</a> <a id="3310" class="Symbol">→</a> <a id="3312" href="Data.Fin.Base.html#1119" class="InductiveConstructor">Fin.suc</a> <a id="3320" href="Scoped.Extrication.RenamingSubstitution.html#3292" class="Bound">x</a> <a id="3322" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3324" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="3340" class="Symbol">(λ</a> <a id="3343" class="Symbol">{</a><a id="3344" href="Scoped.Extrication.RenamingSubstitution.html#3344" class="Bound">J</a><a id="3345" class="Symbol">}</a> <a id="3347" class="Symbol">→</a> <a id="3349" href="Type.html#1400" class="InductiveConstructor">S</a> <a id="3351" class="Symbol">{</a><a id="3352" class="Argument">K</a> <a id="3354" class="Symbol">=</a> <a id="3356" href="Scoped.Extrication.RenamingSubstitution.html#3286" class="Bound">K</a><a id="3357" class="Symbol">})</a> <a id="3360" href="Scoped.Extrication.RenamingSubstitution.html#3292" class="Bound">x</a>
<a id="3362" href="Scoped.Extrication.RenamingSubstitution.html#3273" class="Function">suclem</a> <a id="3369" class="Symbol">{</a><a id="3370" href="Scoped.Extrication.RenamingSubstitution.html#3370" class="Bound">Δ</a> <a id="3372" href="Type.html#992" class="InductiveConstructor Operator">,⋆</a> <a id="3375" class="Symbol">_}</a> <a id="3378" href="Data.Fin.Base.html#1088" class="InductiveConstructor">zero</a> <a id="3383" class="Symbol">=</a> <a id="3385" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3390" href="Scoped.Extrication.RenamingSubstitution.html#3273" class="Function">suclem</a> <a id="3397" class="Symbol">{</a><a id="3398" href="Scoped.Extrication.RenamingSubstitution.html#3398" class="Bound">Δ</a> <a id="3400" href="Type.html#992" class="InductiveConstructor Operator">,⋆</a> <a id="3403" class="Symbol">_}</a> <a id="3406" class="Symbol">{</a><a id="3407" href="Scoped.Extrication.RenamingSubstitution.html#3407" class="Bound">K</a><a id="3408" class="Symbol">}</a> <a id="3410" class="Symbol">(</a><a id="3411" href="Data.Fin.Base.html#1119" class="InductiveConstructor">suc</a> <a id="3415" href="Scoped.Extrication.RenamingSubstitution.html#3415" class="Bound">x</a><a id="3416" class="Symbol">)</a> <a id="3418" class="Symbol">=</a> <a id="3420" href="Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="3425" href="Data.Fin.Base.html#1119" class="InductiveConstructor">suc</a> <a id="3429" class="Symbol">(</a><a id="3430" href="Scoped.Extrication.RenamingSubstitution.html#3273" class="Function">suclem</a> <a id="3437" class="Symbol">{</a><a id="3438" href="Scoped.Extrication.RenamingSubstitution.html#3398" class="Bound">Δ</a><a id="3439" class="Symbol">}{</a><a id="3441" href="Scoped.Extrication.RenamingSubstitution.html#3407" class="Bound">K</a><a id="3442" class="Symbol">}</a> <a id="3444" href="Scoped.Extrication.RenamingSubstitution.html#3415" class="Bound">x</a><a id="3445" class="Symbol">)</a>

<a id="slift⋆-exts"></a><a id="3448" href="Scoped.Extrication.RenamingSubstitution.html#3448" class="Function">slift⋆-exts</a> <a id="3460" class="Symbol">:</a> <a id="3462" class="Symbol">∀{</a><a id="3464" href="Scoped.Extrication.RenamingSubstitution.html#3464" class="Bound">Γ</a> <a id="3466" href="Scoped.Extrication.RenamingSubstitution.html#3466" class="Bound">Δ</a> <a id="3468" href="Scoped.Extrication.RenamingSubstitution.html#3468" class="Bound">K</a><a id="3469" class="Symbol">}</a>
  <a id="3473" class="Symbol">→</a> <a id="3475" class="Symbol">(</a><a id="3476" href="Scoped.Extrication.RenamingSubstitution.html#3476" class="Bound">σ⋆</a> <a id="3479" class="Symbol">:</a> <a id="3481" class="Symbol">∀</a> <a id="3483" class="Symbol">{</a><a id="3484" href="Scoped.Extrication.RenamingSubstitution.html#3484" class="Bound">J</a><a id="3485" class="Symbol">}</a> <a id="3487" class="Symbol">→</a> <a id="3489" href="Scoped.Extrication.RenamingSubstitution.html#3464" class="Bound">Γ</a> <a id="3491" href="Type.html#1313" class="Datatype Operator">∋⋆</a> <a id="3494" href="Scoped.Extrication.RenamingSubstitution.html#3484" class="Bound">J</a> <a id="3496" class="Symbol">→</a> <a id="3498" href="Scoped.Extrication.RenamingSubstitution.html#3466" class="Bound">Δ</a> <a id="3500" href="Type.BetaNormal.html#860" class="Datatype Operator">⊢Nf⋆</a> <a id="3505" href="Scoped.Extrication.RenamingSubstitution.html#3484" class="Bound">J</a><a id="3506" class="Symbol">)</a>
  <a id="3510" class="Symbol">→</a> <a id="3512" class="Symbol">(</a><a id="3513" href="Scoped.Extrication.RenamingSubstitution.html#3513" class="Bound">α</a> <a id="3515" class="Symbol">:</a> <a id="3517" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a> <a id="3521" class="Symbol">(</a><a id="3522" href="Scoped.Extrication.html#694" class="Function">len⋆</a> <a id="3527" class="Symbol">(</a><a id="3528" href="Scoped.Extrication.RenamingSubstitution.html#3464" class="Bound">Γ</a> <a id="3530" href="Type.html#992" class="InductiveConstructor Operator">,⋆</a> <a id="3533" href="Scoped.Extrication.RenamingSubstitution.html#3468" class="Bound">K</a><a id="3534" class="Symbol">)))</a>
  <a id="3540" class="Symbol">→</a> <a id="3542" href="Scoped.RenamingSubstitution.html#1846" class="Function">slift⋆</a> <a id="3549" class="Symbol">(</a><a id="3550" href="Scoped.Extrication.RenamingSubstitution.html#3126" class="Function">extricateSubNf⋆</a> <a id="3566" href="Scoped.Extrication.RenamingSubstitution.html#3476" class="Bound">σ⋆</a><a id="3568" class="Symbol">)</a> <a id="3570" href="Scoped.Extrication.RenamingSubstitution.html#3513" class="Bound">α</a> <a id="3572" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3574" href="Scoped.Extrication.RenamingSubstitution.html#3126" class="Function">extricateSubNf⋆</a> <a id="3590" class="Symbol">(</a><a id="3591" href="Type.BetaNBE.RenamingSubstitution.html#4864" class="Function">extsNf</a> <a id="3598" href="Scoped.Extrication.RenamingSubstitution.html#3476" class="Bound">σ⋆</a> <a id="3601" class="Symbol">{</a><a id="3602" class="Argument">K</a> <a id="3604" class="Symbol">=</a> <a id="3606" href="Scoped.Extrication.RenamingSubstitution.html#3468" class="Bound">K</a><a id="3607" class="Symbol">})</a> <a id="3610" href="Scoped.Extrication.RenamingSubstitution.html#3513" class="Bound">α</a> <a id="3612" class="Comment">-- </a>
<a id="3616" href="Scoped.Extrication.RenamingSubstitution.html#3448" class="Function">slift⋆-exts</a> <a id="3628" href="Scoped.Extrication.RenamingSubstitution.html#3628" class="Bound">σ⋆</a> <a id="3631" href="Data.Fin.Base.html#1088" class="InductiveConstructor">zero</a> <a id="3636" class="Symbol">=</a> <a id="3638" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3643" href="Scoped.Extrication.RenamingSubstitution.html#3448" class="Function">slift⋆-exts</a> <a id="3655" class="Symbol">{</a><a id="3656" class="Argument">K</a> <a id="3658" class="Symbol">=</a> <a id="3660" href="Scoped.Extrication.RenamingSubstitution.html#3660" class="Bound">K</a><a id="3661" class="Symbol">}</a> <a id="3663" href="Scoped.Extrication.RenamingSubstitution.html#3663" class="Bound">σ⋆</a> <a id="3666" class="Symbol">(</a><a id="3667" href="Data.Fin.Base.html#1119" class="InductiveConstructor">suc</a> <a id="3671" href="Scoped.Extrication.RenamingSubstitution.html#3671" class="Bound">α</a><a id="3672" class="Symbol">)</a> <a id="3674" class="Symbol">=</a> <a id="3676" href="Relation.Binary.PropositionalEquality.Core.html#1025" class="Function">trans</a>
  <a id="3684" class="Symbol">(</a><a id="3685" href="Scoped.RenamingSubstitution.html#4119" class="Function">ren⋆-cong</a> <a id="3695" class="Symbol">(</a><a id="3696" href="Scoped.Extrication.RenamingSubstitution.html#3273" class="Function">suclem</a> <a id="3703" class="Symbol">{</a><a id="3704" class="Argument">K</a> <a id="3706" class="Symbol">=</a> <a id="3708" href="Scoped.Extrication.RenamingSubstitution.html#3660" class="Bound">K</a><a id="3709" class="Symbol">})</a> <a id="3712" class="Symbol">(</a><a id="3713" href="Scoped.Extrication.html#876" class="Function">extricateNf⋆</a> <a id="3726" class="Symbol">(</a><a id="3727" href="Scoped.Extrication.RenamingSubstitution.html#3663" class="Bound">σ⋆</a> <a id="3730" class="Symbol">(</a><a id="3731" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="3737" class="Symbol">(</a><a id="3738" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="3746" href="Scoped.Extrication.RenamingSubstitution.html#3671" class="Bound">α</a><a id="3747" class="Symbol">)))))</a>
  <a id="3755" class="Symbol">(</a><a id="3756" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="3773" href="Type.html#1400" class="InductiveConstructor">S</a> <a id="3775" class="Symbol">(</a><a id="3776" href="Scoped.Extrication.RenamingSubstitution.html#3663" class="Bound">σ⋆</a> <a id="3779" class="Symbol">(</a><a id="3780" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="3786" class="Symbol">(</a><a id="3787" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="3795" href="Scoped.Extrication.RenamingSubstitution.html#3671" class="Bound">α</a><a id="3796" class="Symbol">))))</a>

<a id="3802" class="Comment">{-
sub-extricateNf⋆ :  ∀{Γ Δ J}
  → (σ⋆ : ∀ {J} → Γ ∋⋆ J → Δ ⊢Nf⋆ J)
  → (A : Γ ⊢Nf⋆ J)
  → sub⋆ (extricateSubNf⋆ σ⋆) (extricateNf⋆ A) ≡ extricateNf⋆ (substNf σ⋆ A)

sub-extricateNe⋆ :  ∀{Γ Δ J}
  → (σ⋆ : ∀ {J} → Γ ∋⋆ J → Δ ⊢Nf⋆ J)
  → (A : Γ ⊢NeN⋆ J)
  → sub⋆ (extricateSubNf⋆ σ⋆) (extricateNe⋆ A) ≡ extricateNf⋆ (nf (T.subst (embNf ∘ σ⋆) (embNeN A)))
sub-extricateNe⋆ σ⋆ (` x)   = {!!}
sub-extricateNe⋆ σ⋆ (A · B) = trans (cong₂ _·_ (sub-extricateNe⋆ σ⋆ A) (sub-extricateNf⋆ σ⋆ B)) {!!}
sub-extricateNe⋆ σ⋆ μ1      = refl


sub-extricateNf⋆ σ⋆ (Π {K = K} x A) = cong
  (Π x (extricateK _))
  (trans (trans (sub⋆-cong (slift⋆-exts σ⋆) (extricateNf⋆ A))
                (sub-extricateNf⋆ (extsNf σ⋆) A))
         (cong extricateNf⋆ {x = substNf (extsNf σ⋆) A}{y = reify (eval (T.subst (T.exts (embNf ∘ σ⋆)) (embNf A)) (exte (idEnv _)))}
            (trans (subst-eval (embNf A) idCR (embNf ∘ extsNf σ⋆)) (trans (idext (λ { Z → reflectCR (refl {x = ` Z}) ; (S α) → transCR (transCR (evalCRSubst idCR (ren-embNf S (σ⋆ α))) (ren-eval (embNf (σ⋆ α)) idCR S)) (transCR (symCR (ren-eval (embNf (σ⋆ α)) idCR S)) (idext (λ { Z → reflectCR (refl {x = ` Z}) ; (S β) → symCR (renVal-reflect S (` β))}) (T.weaken (embNf (σ⋆ α)))))}) (embNf A)) (sym (subst-eval (embNf A) (CR,,⋆ (renCR S ∘ idCR) (reflectCR (refl {x = ` Z}))) (T.exts (embNf ∘ σ⋆))))))))
sub-extricateNf⋆ σ⋆ (A ⇒ B) = cong₂ _⇒_ (sub-extricateNf⋆ σ⋆ A) (sub-extricateNf⋆ σ⋆ B)
sub-extricateNf⋆ σ⋆ (ƛ {K = K} x  A) = cong
  (ƛ x (extricateK _))
  (trans (sub⋆-cong (slift⋆-exts σ⋆) (extricateNf⋆ A))
         (trans (sub-extricateNf⋆ (extsNf σ⋆) A)
                (cong extricateNf⋆ {x = substNf (extsNf σ⋆) A}{y = reify (eval (T.subst (T.exts (embNf ∘ σ⋆)) (embNf A)) ((renVal S ∘ idEnv _) ,,⋆ fresh))} (reifyCR (transCR (subst-eval (embNf A) idCR (embNf ∘ extsNf σ⋆)) (transCR (idext (λ { Z → reflectCR {K = K} (refl {x = ` Z}) ; (S α) → transCR (transCR (evalCRSubst idCR (ren-embNf S (σ⋆ α))) (ren-eval (embNf (σ⋆ α)) idCR S)) (transCR (symCR (ren-eval (embNf (σ⋆ α)) idCR S)) (idext (λ { Z → reflectCR (refl {x = ` Z}) ; (S β) → symCR (renVal-reflect S (` β))}) (T.weaken (embNf (σ⋆ α)))) ) }) (embNf A)) (symCR (subst-eval (embNf A) (CR,,⋆ (renCR S ∘ idCR) (reflectCR {K = K} (refl {x = ` Z}))) (T.exts (embNf ∘ σ⋆))))) )))))
sub-extricateNf⋆ σ⋆ (ne A)  = {!!}
sub-extricateNf⋆ σ⋆ (con c) = refl
-}</a>

<a id="6160" class="Comment">{-
-- term level renamings

extricateRen : ∀{Φ Ψ Γ Δ}(ρ⋆ : ∀ {J} → Φ ∋⋆ J → Ψ ∋⋆ J) →
  (ρ : ∀{J}{A : Φ ⊢Nf⋆ J} → Γ ∋ A → Δ ∋ renNf ρ⋆ A)
  → SS.Ren (len Γ) (len Δ)
extricateRen {Γ = Γ ,⋆ J} {Δ} ρ⋆ ρ (T x) = extricateRen
  (ρ⋆ ∘ S)
  (λ {_}{A} x → Eq.subst (Δ ∋_) (sym (renNf-comp A)) (ρ (T x)))
  x
extricateRen {Γ = Γ , A}  {Δ} ρ⋆ ρ Z     = extricateVar (ρ Z)
extricateRen {Γ = Γ , A}  {Δ} ρ⋆ ρ (S x) = extricateRen ρ⋆ (ρ ∘ S) x
-}</a>



<a id="6597" class="Comment">-- these are the two properties of extrication/ren/sub needed to define</a>
<a id="6669" class="Comment">-- extricate—→</a>

<a id="6685" class="Keyword">postulate</a>
  <a id="lem[]"></a><a id="6697" href="Scoped.Extrication.RenamingSubstitution.html#6697" class="Postulate">lem[]</a> <a id="6703" class="Symbol">:</a> <a id="6705" class="Symbol">∀{</a><a id="6707" href="Scoped.Extrication.RenamingSubstitution.html#6707" class="Bound">Φ</a> <a id="6709" href="Scoped.Extrication.RenamingSubstitution.html#6709" class="Bound">Γ</a><a id="6710" class="Symbol">}{</a><a id="6712" href="Scoped.Extrication.RenamingSubstitution.html#6712" class="Bound">A</a> <a id="6714" href="Scoped.Extrication.RenamingSubstitution.html#6714" class="Bound">B</a> <a id="6716" class="Symbol">:</a> <a id="6718" href="Scoped.Extrication.RenamingSubstitution.html#6707" class="Bound">Φ</a> <a id="6720" href="Type.BetaNormal.html#860" class="Datatype Operator">⊢Nf⋆</a> <a id="6725" href="Type.html#615" class="InductiveConstructor">*</a><a id="6726" class="Symbol">}(</a><a id="6728" href="Scoped.Extrication.RenamingSubstitution.html#6728" class="Bound">N</a> <a id="6730" class="Symbol">:</a> <a id="6732" href="Scoped.Extrication.RenamingSubstitution.html#6709" class="Bound">Γ</a> <a id="6734" href="Algorithmic.html#1314" class="InductiveConstructor Operator">,</a> <a id="6736" href="Scoped.Extrication.RenamingSubstitution.html#6712" class="Bound">A</a> <a id="6738" href="Algorithmic.html#5489" class="Datatype Operator">⊢</a> <a id="6740" href="Scoped.Extrication.RenamingSubstitution.html#6714" class="Bound">B</a><a id="6741" class="Symbol">)(</a><a id="6743" href="Scoped.Extrication.RenamingSubstitution.html#6743" class="Bound">W</a> <a id="6745" class="Symbol">:</a> <a id="6747" href="Scoped.Extrication.RenamingSubstitution.html#6709" class="Bound">Γ</a> <a id="6749" href="Algorithmic.html#5489" class="Datatype Operator">⊢</a> <a id="6751" href="Scoped.Extrication.RenamingSubstitution.html#6712" class="Bound">A</a><a id="6752" class="Symbol">)</a>
    <a id="6758" class="Symbol">→</a> <a id="6760" href="Scoped.Extrication.html#3921" class="Function">extricate</a> <a id="6770" href="Scoped.Extrication.RenamingSubstitution.html#6728" class="Bound">N</a> <a id="6772" href="Scoped.RenamingSubstitution.html#3668" class="Function Operator">SS.[</a> <a id="6777" href="Scoped.Extrication.html#3921" class="Function">extricate</a> <a id="6787" href="Scoped.Extrication.RenamingSubstitution.html#6743" class="Bound">W</a> <a id="6789" href="Scoped.RenamingSubstitution.html#3668" class="Function Operator">]</a> <a id="6791" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6793" href="Scoped.Extrication.html#3921" class="Function">extricate</a> <a id="6803" class="Symbol">(</a><a id="6804" href="Scoped.Extrication.RenamingSubstitution.html#6728" class="Bound">N</a> <a id="6806" href="Algorithmic.RenamingSubstitution.html#5243" class="Function Operator">AS.[</a> <a id="6811" href="Scoped.Extrication.RenamingSubstitution.html#6743" class="Bound">W</a> <a id="6813" href="Algorithmic.RenamingSubstitution.html#5243" class="Function Operator">]</a><a id="6814" class="Symbol">)</a>

  <a id="lem[]⋆"></a><a id="6819" href="Scoped.Extrication.RenamingSubstitution.html#6819" class="Postulate">lem[]⋆</a> <a id="6826" class="Symbol">:</a> <a id="6828" class="Symbol">∀{</a><a id="6830" href="Scoped.Extrication.RenamingSubstitution.html#6830" class="Bound">Φ</a> <a id="6832" href="Scoped.Extrication.RenamingSubstitution.html#6832" class="Bound">Γ</a> <a id="6834" href="Scoped.Extrication.RenamingSubstitution.html#6834" class="Bound">K</a><a id="6835" class="Symbol">}{</a><a id="6837" href="Scoped.Extrication.RenamingSubstitution.html#6837" class="Bound">B</a> <a id="6839" class="Symbol">:</a> <a id="6841" href="Scoped.Extrication.RenamingSubstitution.html#6830" class="Bound">Φ</a> <a id="6843" href="Type.html#992" class="InductiveConstructor Operator">,⋆</a> <a id="6846" href="Scoped.Extrication.RenamingSubstitution.html#6834" class="Bound">K</a> <a id="6848" href="Type.BetaNormal.html#860" class="Datatype Operator">⊢Nf⋆</a> <a id="6853" href="Type.html#615" class="InductiveConstructor">*</a><a id="6854" class="Symbol">}(</a><a id="6856" href="Scoped.Extrication.RenamingSubstitution.html#6856" class="Bound">N</a> <a id="6858" class="Symbol">:</a> <a id="6860" href="Scoped.Extrication.RenamingSubstitution.html#6832" class="Bound">Γ</a> <a id="6862" href="Algorithmic.html#1264" class="InductiveConstructor Operator">,⋆</a> <a id="6865" href="Scoped.Extrication.RenamingSubstitution.html#6834" class="Bound">K</a> <a id="6867" href="Algorithmic.html#5489" class="Datatype Operator">⊢</a> <a id="6869" href="Scoped.Extrication.RenamingSubstitution.html#6837" class="Bound">B</a><a id="6870" class="Symbol">)(</a><a id="6872" href="Scoped.Extrication.RenamingSubstitution.html#6872" class="Bound">A</a> <a id="6874" class="Symbol">:</a> <a id="6876" href="Scoped.Extrication.RenamingSubstitution.html#6830" class="Bound">Φ</a> <a id="6878" href="Type.BetaNormal.html#860" class="Datatype Operator">⊢Nf⋆</a> <a id="6883" href="Scoped.Extrication.RenamingSubstitution.html#6834" class="Bound">K</a><a id="6884" class="Symbol">)</a>
    <a id="6890" class="Symbol">→</a> <a id="6892" href="Scoped.Extrication.html#3921" class="Function">extricate</a> <a id="6902" href="Scoped.Extrication.RenamingSubstitution.html#6856" class="Bound">N</a> <a id="6904" href="Scoped.RenamingSubstitution.html#3766" class="Function Operator">SS.[</a> <a id="6909" href="Scoped.Extrication.html#876" class="Function">extricateNf⋆</a> <a id="6922" href="Scoped.Extrication.RenamingSubstitution.html#6872" class="Bound">A</a> <a id="6924" href="Scoped.RenamingSubstitution.html#3766" class="Function Operator">]⋆</a> <a id="6927" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="6929" href="Scoped.Extrication.html#3921" class="Function">extricate</a> <a id="6939" class="Symbol">(</a><a id="6940" href="Scoped.Extrication.RenamingSubstitution.html#6856" class="Bound">N</a> <a id="6942" href="Algorithmic.RenamingSubstitution.html#5745" class="Function Operator">AS.[</a> <a id="6947" href="Scoped.Extrication.RenamingSubstitution.html#6872" class="Bound">A</a> <a id="6949" href="Algorithmic.RenamingSubstitution.html#5745" class="Function Operator">]⋆</a><a id="6951" class="Symbol">)</a>
<a id="6953" class="Markup">\end{code}</a><a id="6963" class="Background">
</a></pre></body></html>