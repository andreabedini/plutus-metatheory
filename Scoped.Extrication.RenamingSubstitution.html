<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Scoped.Extrication.RenamingSubstitution</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Markup">\begin{code}</a>
<a id="14" class="Keyword">module</a> <a id="21" href="Scoped.Extrication.RenamingSubstitution.html" class="Module">Scoped.Extrication.RenamingSubstitution</a> <a id="61" class="Keyword">where</a>
<a id="67" class="Markup">\end{code}</a><a id="77" class="Background">

erasure commutes with renaming/substitution

</a><a id="124" class="Markup">\begin{code}</a>
<a id="137" class="Keyword">open</a> <a id="142" class="Keyword">import</a> <a id="149" href="Type.html" class="Module">Type</a>
<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Type.BetaNormal.html" class="Module">Type.BetaNormal</a>
<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="203" class="Keyword">open</a> <a id="208" class="Keyword">import</a> <a id="215" href="Data.Fin.html" class="Module">Data.Fin</a>
<a id="224" class="Keyword">open</a> <a id="229" class="Keyword">import</a> <a id="236" href="Function.html" class="Module">Function</a> <a id="245" class="Keyword">hiding</a> <a id="252" class="Symbol">(</a><a id="253" href="Function.html#3097" class="Function Operator">_∋_</a><a id="256" class="Symbol">)</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="308" class="Symbol">as</a> <a id="311" class="Module">Eq</a>
<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Algorithmic.html" class="Module">Algorithmic</a> <a id="338" class="Symbol">as</a> <a id="341" class="Module">A</a>
<a id="343" class="Keyword">open</a> <a id="348" class="Keyword">import</a> <a id="355" href="Type.RenamingSubstitution.html" class="Module">Type.RenamingSubstitution</a> <a id="381" class="Symbol">as</a> <a id="384" class="Module">T</a>
<a id="386" class="Keyword">open</a> <a id="391" class="Keyword">import</a> <a id="398" href="Type.BetaNormal.html" class="Module">Type.BetaNormal</a>
<a id="414" class="Keyword">open</a> <a id="419" class="Keyword">import</a> <a id="426" href="Type.BetaNBE.html" class="Module">Type.BetaNBE</a>
<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Type.BetaNBE.Completeness.html" class="Module">Type.BetaNBE.Completeness</a>
<a id="477" class="Keyword">open</a> <a id="482" class="Keyword">import</a> <a id="489" href="Type.BetaNBE.RenamingSubstitution.html" class="Module">Type.BetaNBE.RenamingSubstitution</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Scoped.html" class="Module">Scoped</a>
<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Scoped.Extrication.html" class="Module">Scoped.Extrication</a>
<a id="573" class="Keyword">open</a> <a id="578" class="Keyword">import</a> <a id="585" href="Algorithmic.RenamingSubstitution.html" class="Module">Algorithmic.RenamingSubstitution</a> <a id="618" class="Symbol">as</a> <a id="621" class="Module">AS</a>
<a id="624" class="Keyword">open</a> <a id="629" class="Keyword">import</a> <a id="636" href="Scoped.RenamingSubstitution.html" class="Module">Scoped.RenamingSubstitution</a> <a id="664" class="Symbol">as</a> <a id="667" class="Module">SS</a>
<a id="670" class="Keyword">open</a> <a id="675" class="Keyword">import</a> <a id="682" href="Builtin.html" class="Module">Builtin</a>

<a id="691" class="Comment">-- type renamings</a>

<a id="710" class="Keyword">open</a> <a id="715" class="Keyword">import</a> <a id="722" href="Data.Product.html" class="Module">Data.Product</a> <a id="735" class="Keyword">renaming</a> <a id="744" class="Symbol">(</a><a id="745" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,_</a> <a id="749" class="Symbol">to</a> <a id="752" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,,_</a><a id="756" class="Symbol">)</a>

<a id="backVar"></a><a id="759" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="767" class="Symbol">:</a> <a id="769" class="Symbol">∀{</a><a id="771" href="Scoped.Extrication.RenamingSubstitution.html#771" class="Bound">Γ</a><a id="772" class="Symbol">}</a> <a id="774" class="Symbol">→</a> <a id="776" href="Data.Fin.Base.html#951" class="Datatype">Fin</a> <a id="780" class="Symbol">(</a><a id="781" href="Scoped.Extrication.html#376" class="Function">len⋆</a> <a id="786" href="Scoped.Extrication.RenamingSubstitution.html#771" class="Bound">Γ</a><a id="787" class="Symbol">)</a> <a id="789" class="Symbol">→</a> <a id="791" href="Agda.Builtin.Sigma.html#139" class="Record">Σ</a> <a id="793" href="Type.html#596" class="Datatype">Kind</a> <a id="798" class="Symbol">λ</a> <a id="800" href="Scoped.Extrication.RenamingSubstitution.html#800" class="Bound">J</a> <a id="802" class="Symbol">→</a> <a id="804" href="Scoped.Extrication.RenamingSubstitution.html#771" class="Bound">Γ</a> <a id="806" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="809" href="Scoped.Extrication.RenamingSubstitution.html#800" class="Bound">J</a>
<a id="811" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="819" class="Symbol">{</a><a id="820" href="Scoped.Extrication.RenamingSubstitution.html#820" class="Bound">Γ</a> <a id="822" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="825" href="Scoped.Extrication.RenamingSubstitution.html#825" class="Bound">K</a><a id="826" class="Symbol">}</a> <a id="828" href="Data.Fin.Base.html#973" class="InductiveConstructor">zero</a>    <a id="836" class="Symbol">=</a> <a id="838" href="Scoped.Extrication.RenamingSubstitution.html#825" class="Bound">K</a> <a id="840" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,,</a> <a id="843" href="Type.html#1251" class="InductiveConstructor">Z</a>
<a id="845" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="853" class="Symbol">{</a><a id="854" href="Scoped.Extrication.RenamingSubstitution.html#854" class="Bound">Γ</a> <a id="856" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="859" href="Scoped.Extrication.RenamingSubstitution.html#859" class="Bound">K</a><a id="860" class="Symbol">}</a> <a id="862" class="Symbol">(</a><a id="863" href="Data.Fin.Base.html#1004" class="InductiveConstructor">suc</a> <a id="867" href="Scoped.Extrication.RenamingSubstitution.html#867" class="Bound">i</a><a id="868" class="Symbol">)</a> <a id="870" class="Symbol">=</a> <a id="872" class="Keyword">let</a> <a id="876" href="Scoped.Extrication.RenamingSubstitution.html#876" class="Bound">J</a> <a id="878" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,,</a> <a id="881" href="Scoped.Extrication.RenamingSubstitution.html#881" class="Bound">α</a> <a id="883" class="Symbol">=</a> <a id="885" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="893" href="Scoped.Extrication.RenamingSubstitution.html#867" class="Bound">i</a> <a id="895" class="Keyword">in</a> <a id="898" href="Scoped.Extrication.RenamingSubstitution.html#876" class="Bound">J</a> <a id="900" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,,</a> <a id="903" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="905" href="Scoped.Extrication.RenamingSubstitution.html#881" class="Bound">α</a>

<a id="lem-backVar₁"></a><a id="908" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="921" class="Symbol">:</a> <a id="923" class="Symbol">∀{</a><a id="925" href="Scoped.Extrication.RenamingSubstitution.html#925" class="Bound">Γ</a> <a id="927" href="Scoped.Extrication.RenamingSubstitution.html#927" class="Bound">J</a><a id="928" class="Symbol">}(</a><a id="930" href="Scoped.Extrication.RenamingSubstitution.html#930" class="Bound">α</a> <a id="932" class="Symbol">:</a> <a id="934" href="Scoped.Extrication.RenamingSubstitution.html#925" class="Bound">Γ</a> <a id="936" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="939" href="Scoped.Extrication.RenamingSubstitution.html#927" class="Bound">J</a><a id="940" class="Symbol">)</a> <a id="942" class="Symbol">→</a> <a id="944" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="950" class="Symbol">(</a><a id="951" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="959" class="Symbol">(</a><a id="960" href="Scoped.Extrication.html#569" class="Function">extricateVar⋆</a> <a id="974" href="Scoped.Extrication.RenamingSubstitution.html#930" class="Bound">α</a><a id="975" class="Symbol">))</a> <a id="978" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="980" href="Scoped.Extrication.RenamingSubstitution.html#927" class="Bound">J</a>
<a id="982" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="995" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="997" class="Symbol">=</a> <a id="999" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
<a id="1004" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="1017" class="Symbol">(</a><a id="1018" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1020" href="Scoped.Extrication.RenamingSubstitution.html#1020" class="Bound">α</a><a id="1021" class="Symbol">)</a> <a id="1023" class="Symbol">=</a> <a id="1025" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="1038" href="Scoped.Extrication.RenamingSubstitution.html#1020" class="Bound">α</a>

<a id="lem-S"></a><a id="1041" href="Scoped.Extrication.RenamingSubstitution.html#1041" class="Function">lem-S</a> <a id="1047" class="Symbol">:</a> <a id="1049" class="Symbol">∀{</a><a id="1051" href="Scoped.Extrication.RenamingSubstitution.html#1051" class="Bound">Φ</a> <a id="1053" href="Scoped.Extrication.RenamingSubstitution.html#1053" class="Bound">K</a> <a id="1055" href="Scoped.Extrication.RenamingSubstitution.html#1055" class="Bound">J</a> <a id="1057" href="Scoped.Extrication.RenamingSubstitution.html#1057" class="Bound">J&#39;</a><a id="1059" class="Symbol">}</a> <a id="1061" class="Symbol">→</a> <a id="1063" class="Symbol">(</a><a id="1064" href="Scoped.Extrication.RenamingSubstitution.html#1064" class="Bound">p</a> <a id="1066" class="Symbol">:</a> <a id="1068" href="Scoped.Extrication.RenamingSubstitution.html#1055" class="Bound">J</a> <a id="1070" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="1072" href="Scoped.Extrication.RenamingSubstitution.html#1057" class="Bound">J&#39;</a><a id="1074" class="Symbol">)</a> <a id="1076" class="Symbol">→</a> <a id="1078" class="Symbol">(</a><a id="1079" href="Scoped.Extrication.RenamingSubstitution.html#1079" class="Bound">α</a> <a id="1081" class="Symbol">:</a> <a id="1083" href="Scoped.Extrication.RenamingSubstitution.html#1051" class="Bound">Φ</a> <a id="1085" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1088" href="Scoped.Extrication.RenamingSubstitution.html#1055" class="Bound">J</a><a id="1089" class="Symbol">)</a>
  <a id="1093" class="Symbol">→</a> <a id="1095" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1097" class="Symbol">(</a><a id="1098" href="Relation.Binary.PropositionalEquality.Core.html#978" class="Function">Eq.subst</a> <a id="1107" class="Symbol">(</a><a id="1108" href="Scoped.Extrication.RenamingSubstitution.html#1051" class="Bound">Φ</a> <a id="1110" href="Type.html#1217" class="Datatype Operator">∋⋆_</a><a id="1113" class="Symbol">)</a> <a id="1115" href="Scoped.Extrication.RenamingSubstitution.html#1064" class="Bound">p</a> <a id="1117" href="Scoped.Extrication.RenamingSubstitution.html#1079" class="Bound">α</a><a id="1118" class="Symbol">)</a> <a id="1120" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="1122" href="Relation.Binary.PropositionalEquality.Core.html#978" class="Function">Eq.subst</a> <a id="1131" class="Symbol">(</a><a id="1132" href="Scoped.Extrication.RenamingSubstitution.html#1051" class="Bound">Φ</a> <a id="1134" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="1137" href="Scoped.Extrication.RenamingSubstitution.html#1053" class="Bound">K</a> <a id="1139" href="Type.html#1217" class="Datatype Operator">∋⋆_</a><a id="1142" class="Symbol">)</a> <a id="1144" href="Scoped.Extrication.RenamingSubstitution.html#1064" class="Bound">p</a> <a id="1146" class="Symbol">(</a><a id="1147" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1149" href="Scoped.Extrication.RenamingSubstitution.html#1079" class="Bound">α</a><a id="1150" class="Symbol">)</a>
<a id="1152" href="Scoped.Extrication.RenamingSubstitution.html#1041" class="Function">lem-S</a> <a id="1158" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="1163" href="Scoped.Extrication.RenamingSubstitution.html#1163" class="Bound">α</a> <a id="1165" class="Symbol">=</a> <a id="1167" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

<a id="lem-backVar"></a><a id="1173" href="Scoped.Extrication.RenamingSubstitution.html#1173" class="Function">lem-backVar</a> <a id="1185" class="Symbol">:</a> <a id="1187" class="Symbol">∀{</a><a id="1189" href="Scoped.Extrication.RenamingSubstitution.html#1189" class="Bound">Γ</a> <a id="1191" href="Scoped.Extrication.RenamingSubstitution.html#1191" class="Bound">J</a><a id="1192" class="Symbol">}(</a><a id="1194" href="Scoped.Extrication.RenamingSubstitution.html#1194" class="Bound">α</a> <a id="1196" class="Symbol">:</a> <a id="1198" href="Scoped.Extrication.RenamingSubstitution.html#1189" class="Bound">Γ</a> <a id="1200" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1203" href="Scoped.Extrication.RenamingSubstitution.html#1191" class="Bound">J</a><a id="1204" class="Symbol">)</a>
  <a id="1208" class="Symbol">→</a> <a id="1210" href="Relation.Binary.PropositionalEquality.Core.html#978" class="Function">Eq.subst</a> <a id="1219" class="Symbol">(</a><a id="1220" href="Scoped.Extrication.RenamingSubstitution.html#1189" class="Bound">Γ</a> <a id="1222" href="Type.html#1217" class="Datatype Operator">∋⋆_</a><a id="1225" class="Symbol">)</a> <a id="1227" class="Symbol">(</a><a id="1228" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="1241" href="Scoped.Extrication.RenamingSubstitution.html#1194" class="Bound">α</a><a id="1242" class="Symbol">)</a> <a id="1244" class="Symbol">(</a><a id="1245" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="1251" class="Symbol">(</a><a id="1252" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="1260" class="Symbol">(</a><a id="1261" href="Scoped.Extrication.html#569" class="Function">extricateVar⋆</a> <a id="1275" href="Scoped.Extrication.RenamingSubstitution.html#1194" class="Bound">α</a><a id="1276" class="Symbol">)))</a> <a id="1280" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="1282" href="Scoped.Extrication.RenamingSubstitution.html#1194" class="Bound">α</a>
<a id="1284" href="Scoped.Extrication.RenamingSubstitution.html#1173" class="Function">lem-backVar</a> <a id="1296" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="1298" class="Symbol">=</a> <a id="1300" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
<a id="1305" href="Scoped.Extrication.RenamingSubstitution.html#1173" class="Function">lem-backVar</a> <a id="1317" class="Symbol">(</a><a id="1318" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1320" href="Scoped.Extrication.RenamingSubstitution.html#1320" class="Bound">α</a><a id="1321" class="Symbol">)</a> <a id="1323" class="Symbol">=</a> <a id="1325" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">trans</a>
  <a id="1333" class="Symbol">(</a><a id="1334" href="Relation.Binary.PropositionalEquality.Core.html#874" class="Function">sym</a> <a id="1338" class="Symbol">(</a><a id="1339" href="Scoped.Extrication.RenamingSubstitution.html#1041" class="Function">lem-S</a> <a id="1345" class="Symbol">(</a><a id="1346" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="1359" href="Scoped.Extrication.RenamingSubstitution.html#1320" class="Bound">α</a><a id="1360" class="Symbol">)</a> <a id="1362" class="Symbol">(</a><a id="1363" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="1369" class="Symbol">(</a><a id="1370" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="1378" class="Symbol">(</a><a id="1379" href="Scoped.Extrication.html#569" class="Function">extricateVar⋆</a> <a id="1393" href="Scoped.Extrication.RenamingSubstitution.html#1320" class="Bound">α</a><a id="1394" class="Symbol">)))))</a>
  <a id="1402" class="Symbol">(</a><a id="1403" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a> <a id="1408" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1410" class="Symbol">(</a><a id="1411" href="Scoped.Extrication.RenamingSubstitution.html#1173" class="Function">lem-backVar</a> <a id="1423" href="Scoped.Extrication.RenamingSubstitution.html#1320" class="Bound">α</a><a id="1424" class="Symbol">))</a>

<a id="extricateRenNf⋆"></a><a id="1428" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="1444" class="Symbol">:</a> <a id="1446" class="Symbol">∀{</a><a id="1448" href="Scoped.Extrication.RenamingSubstitution.html#1448" class="Bound">Γ</a> <a id="1450" href="Scoped.Extrication.RenamingSubstitution.html#1450" class="Bound">Δ</a><a id="1451" class="Symbol">}(</a><a id="1453" href="Scoped.Extrication.RenamingSubstitution.html#1453" class="Bound">ρ⋆</a> <a id="1456" class="Symbol">:</a> <a id="1458" class="Symbol">∀</a> <a id="1460" class="Symbol">{</a><a id="1461" href="Scoped.Extrication.RenamingSubstitution.html#1461" class="Bound">J</a><a id="1462" class="Symbol">}</a> <a id="1464" class="Symbol">→</a> <a id="1466" href="Scoped.Extrication.RenamingSubstitution.html#1448" class="Bound">Γ</a> <a id="1468" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1471" href="Scoped.Extrication.RenamingSubstitution.html#1461" class="Bound">J</a> <a id="1473" class="Symbol">→</a> <a id="1475" href="Scoped.Extrication.RenamingSubstitution.html#1450" class="Bound">Δ</a> <a id="1477" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1480" href="Scoped.Extrication.RenamingSubstitution.html#1461" class="Bound">J</a><a id="1481" class="Symbol">)</a> 
  <a id="1486" class="Symbol">→</a> <a id="1488" href="Scoped.RenamingSubstitution.html#224" class="Function">Ren⋆</a> <a id="1493" class="Symbol">(</a><a id="1494" href="Scoped.Extrication.html#376" class="Function">len⋆</a> <a id="1499" href="Scoped.Extrication.RenamingSubstitution.html#1448" class="Bound">Γ</a><a id="1500" class="Symbol">)</a> <a id="1502" class="Symbol">(</a><a id="1503" href="Scoped.Extrication.html#376" class="Function">len⋆</a> <a id="1508" href="Scoped.Extrication.RenamingSubstitution.html#1450" class="Bound">Δ</a><a id="1509" class="Symbol">)</a>
<a id="1511" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="1527" href="Scoped.Extrication.RenamingSubstitution.html#1527" class="Bound">ρ⋆</a> <a id="1530" href="Scoped.Extrication.RenamingSubstitution.html#1530" class="Bound">x</a> <a id="1532" class="Symbol">=</a> <a id="1534" href="Scoped.Extrication.html#569" class="Function">extricateVar⋆</a> <a id="1548" class="Symbol">(</a><a id="1549" href="Scoped.Extrication.RenamingSubstitution.html#1527" class="Bound">ρ⋆</a> <a id="1552" class="Symbol">(</a><a id="1553" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="1559" class="Symbol">(</a><a id="1560" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="1568" href="Scoped.Extrication.RenamingSubstitution.html#1530" class="Bound">x</a><a id="1569" class="Symbol">)))</a>

<a id="lift⋆-ext"></a><a id="1574" href="Scoped.Extrication.RenamingSubstitution.html#1574" class="Function">lift⋆-ext</a> <a id="1584" class="Symbol">:</a> <a id="1586" class="Symbol">∀{</a><a id="1588" href="Scoped.Extrication.RenamingSubstitution.html#1588" class="Bound">Γ</a> <a id="1590" href="Scoped.Extrication.RenamingSubstitution.html#1590" class="Bound">Δ</a> <a id="1592" href="Scoped.Extrication.RenamingSubstitution.html#1592" class="Bound">K</a><a id="1593" class="Symbol">}</a>
  <a id="1597" class="Symbol">→</a> <a id="1599" class="Symbol">(</a><a id="1600" href="Scoped.Extrication.RenamingSubstitution.html#1600" class="Bound">ρ⋆</a> <a id="1603" class="Symbol">:</a> <a id="1605" class="Symbol">∀</a> <a id="1607" class="Symbol">{</a><a id="1608" href="Scoped.Extrication.RenamingSubstitution.html#1608" class="Bound">J</a><a id="1609" class="Symbol">}</a> <a id="1611" class="Symbol">→</a> <a id="1613" href="Scoped.Extrication.RenamingSubstitution.html#1588" class="Bound">Γ</a> <a id="1615" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1618" href="Scoped.Extrication.RenamingSubstitution.html#1608" class="Bound">J</a> <a id="1620" class="Symbol">→</a> <a id="1622" href="Scoped.Extrication.RenamingSubstitution.html#1590" class="Bound">Δ</a> <a id="1624" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1627" href="Scoped.Extrication.RenamingSubstitution.html#1608" class="Bound">J</a><a id="1628" class="Symbol">)</a>
  <a id="1632" class="Symbol">→</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Scoped.Extrication.RenamingSubstitution.html#1635" class="Bound">α</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Data.Fin.Base.html#951" class="Datatype">Fin</a> <a id="1643" class="Symbol">(</a><a id="1644" href="Scoped.Extrication.html#376" class="Function">len⋆</a> <a id="1649" class="Symbol">(</a><a id="1650" href="Scoped.Extrication.RenamingSubstitution.html#1588" class="Bound">Γ</a> <a id="1652" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="1655" href="Scoped.Extrication.RenamingSubstitution.html#1592" class="Bound">K</a><a id="1656" class="Symbol">)))</a>
  <a id="1662" class="Symbol">→</a> <a id="1664" href="Scoped.RenamingSubstitution.html#269" class="Function">lift⋆</a> <a id="1670" class="Symbol">(</a><a id="1671" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="1687" href="Scoped.Extrication.RenamingSubstitution.html#1600" class="Bound">ρ⋆</a><a id="1689" class="Symbol">)</a> <a id="1691" href="Scoped.Extrication.RenamingSubstitution.html#1635" class="Bound">α</a> <a id="1693" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="1695" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="1711" class="Symbol">(</a><a id="1712" href="Type.RenamingSubstitution.html#551" class="Function">T.ext</a> <a id="1718" href="Scoped.Extrication.RenamingSubstitution.html#1600" class="Bound">ρ⋆</a> <a id="1721" class="Symbol">{</a><a id="1722" class="Argument">K</a> <a id="1724" class="Symbol">=</a> <a id="1726" href="Scoped.Extrication.RenamingSubstitution.html#1592" class="Bound">K</a><a id="1727" class="Symbol">})</a> <a id="1730" href="Scoped.Extrication.RenamingSubstitution.html#1635" class="Bound">α</a> <a id="1732" class="Comment">-- </a>
<a id="1736" href="Scoped.Extrication.RenamingSubstitution.html#1574" class="Function">lift⋆-ext</a> <a id="1746" href="Scoped.Extrication.RenamingSubstitution.html#1746" class="Bound">ρ⋆</a> <a id="1749" href="Data.Fin.Base.html#973" class="InductiveConstructor">zero</a> <a id="1754" class="Symbol">=</a> <a id="1756" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
<a id="1761" href="Scoped.Extrication.RenamingSubstitution.html#1574" class="Function">lift⋆-ext</a> <a id="1771" href="Scoped.Extrication.RenamingSubstitution.html#1771" class="Bound">ρ⋆</a> <a id="1774" class="Symbol">(</a><a id="1775" href="Data.Fin.Base.html#1004" class="InductiveConstructor">suc</a> <a id="1779" href="Scoped.Extrication.RenamingSubstitution.html#1779" class="Bound">α</a><a id="1780" class="Symbol">)</a> <a id="1782" class="Symbol">=</a> <a id="1784" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

<a id="lem-extricateVar⋆"></a><a id="1790" href="Scoped.Extrication.RenamingSubstitution.html#1790" class="Function">lem-extricateVar⋆</a> <a id="1808" class="Symbol">:</a>  <a id="1811" class="Symbol">∀{</a><a id="1813" href="Scoped.Extrication.RenamingSubstitution.html#1813" class="Bound">Γ</a> <a id="1815" href="Scoped.Extrication.RenamingSubstitution.html#1815" class="Bound">Δ</a> <a id="1817" href="Scoped.Extrication.RenamingSubstitution.html#1817" class="Bound">J</a> <a id="1819" href="Scoped.Extrication.RenamingSubstitution.html#1819" class="Bound">J&#39;</a><a id="1821" class="Symbol">}</a>
  <a id="1825" class="Symbol">→</a> <a id="1827" class="Symbol">(</a><a id="1828" href="Scoped.Extrication.RenamingSubstitution.html#1828" class="Bound">ρ⋆</a> <a id="1831" class="Symbol">:</a> <a id="1833" class="Symbol">∀</a> <a id="1835" class="Symbol">{</a><a id="1836" href="Scoped.Extrication.RenamingSubstitution.html#1836" class="Bound">J</a><a id="1837" class="Symbol">}</a> <a id="1839" class="Symbol">→</a> <a id="1841" href="Scoped.Extrication.RenamingSubstitution.html#1813" class="Bound">Γ</a> <a id="1843" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1846" href="Scoped.Extrication.RenamingSubstitution.html#1836" class="Bound">J</a> <a id="1848" class="Symbol">→</a> <a id="1850" href="Scoped.Extrication.RenamingSubstitution.html#1815" class="Bound">Δ</a> <a id="1852" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1855" href="Scoped.Extrication.RenamingSubstitution.html#1836" class="Bound">J</a><a id="1856" class="Symbol">)</a>
  <a id="1860" class="Symbol">→</a> <a id="1862" class="Symbol">(</a><a id="1863" href="Scoped.Extrication.RenamingSubstitution.html#1863" class="Bound">α</a> <a id="1865" class="Symbol">:</a> <a id="1867" href="Scoped.Extrication.RenamingSubstitution.html#1813" class="Bound">Γ</a> <a id="1869" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1872" href="Scoped.Extrication.RenamingSubstitution.html#1817" class="Bound">J</a><a id="1873" class="Symbol">)</a>
  <a id="1877" class="Symbol">→</a> <a id="1879" class="Symbol">(</a><a id="1880" href="Scoped.Extrication.RenamingSubstitution.html#1880" class="Bound">p</a> <a id="1882" class="Symbol">:</a> <a id="1884" href="Scoped.Extrication.RenamingSubstitution.html#1817" class="Bound">J</a> <a id="1886" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="1888" href="Scoped.Extrication.RenamingSubstitution.html#1819" class="Bound">J&#39;</a><a id="1890" class="Symbol">)</a>
  <a id="1894" class="Symbol">→</a> <a id="1896" href="Scoped.Extrication.html#569" class="Function">extricateVar⋆</a> <a id="1910" class="Symbol">(</a><a id="1911" href="Scoped.Extrication.RenamingSubstitution.html#1828" class="Bound">ρ⋆</a> <a id="1914" href="Scoped.Extrication.RenamingSubstitution.html#1863" class="Bound">α</a><a id="1915" class="Symbol">)</a> <a id="1917" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="1919" href="Scoped.Extrication.html#569" class="Function">extricateVar⋆</a> <a id="1933" class="Symbol">(</a><a id="1934" href="Scoped.Extrication.RenamingSubstitution.html#1828" class="Bound">ρ⋆</a> <a id="1937" class="Symbol">(</a><a id="1938" href="Relation.Binary.PropositionalEquality.Core.html#978" class="Function">Eq.subst</a> <a id="1947" class="Symbol">(</a><a id="1948" href="Scoped.Extrication.RenamingSubstitution.html#1813" class="Bound">Γ</a> <a id="1950" href="Type.html#1217" class="Datatype Operator">∋⋆_</a><a id="1953" class="Symbol">)</a> <a id="1955" href="Scoped.Extrication.RenamingSubstitution.html#1880" class="Bound">p</a> <a id="1957" href="Scoped.Extrication.RenamingSubstitution.html#1863" class="Bound">α</a><a id="1958" class="Symbol">))</a>
<a id="1961" href="Scoped.Extrication.RenamingSubstitution.html#1790" class="Function">lem-extricateVar⋆</a> <a id="1979" href="Scoped.Extrication.RenamingSubstitution.html#1979" class="Bound">ρ⋆</a> <a id="1982" href="Scoped.Extrication.RenamingSubstitution.html#1982" class="Bound">α</a> <a id="1984" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="1989" class="Symbol">=</a> <a id="1991" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

<a id="ren-extricateNf⋆"></a><a id="1997" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2014" class="Symbol">:</a>  <a id="2017" class="Symbol">∀{</a><a id="2019" href="Scoped.Extrication.RenamingSubstitution.html#2019" class="Bound">Γ</a> <a id="2021" href="Scoped.Extrication.RenamingSubstitution.html#2021" class="Bound">Δ</a> <a id="2023" href="Scoped.Extrication.RenamingSubstitution.html#2023" class="Bound">J</a><a id="2024" class="Symbol">}</a>
  <a id="2028" class="Symbol">→</a> <a id="2030" class="Symbol">(</a><a id="2031" href="Scoped.Extrication.RenamingSubstitution.html#2031" class="Bound">ρ⋆</a> <a id="2034" class="Symbol">:</a> <a id="2036" class="Symbol">∀</a> <a id="2038" class="Symbol">{</a><a id="2039" href="Scoped.Extrication.RenamingSubstitution.html#2039" class="Bound">J</a><a id="2040" class="Symbol">}</a> <a id="2042" class="Symbol">→</a> <a id="2044" href="Scoped.Extrication.RenamingSubstitution.html#2019" class="Bound">Γ</a> <a id="2046" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="2049" href="Scoped.Extrication.RenamingSubstitution.html#2039" class="Bound">J</a> <a id="2051" class="Symbol">→</a> <a id="2053" href="Scoped.Extrication.RenamingSubstitution.html#2021" class="Bound">Δ</a> <a id="2055" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="2058" href="Scoped.Extrication.RenamingSubstitution.html#2039" class="Bound">J</a><a id="2059" class="Symbol">)</a>
  <a id="2063" class="Symbol">→</a> <a id="2065" class="Symbol">(</a><a id="2066" href="Scoped.Extrication.RenamingSubstitution.html#2066" class="Bound">A</a> <a id="2068" class="Symbol">:</a> <a id="2070" href="Scoped.Extrication.RenamingSubstitution.html#2019" class="Bound">Γ</a> <a id="2072" href="Type.BetaNormal.html#885" class="Datatype Operator">⊢Nf⋆</a> <a id="2077" href="Scoped.Extrication.RenamingSubstitution.html#2023" class="Bound">J</a><a id="2078" class="Symbol">)</a>
  <a id="2082" class="Symbol">→</a> <a id="2084" href="Scoped.RenamingSubstitution.html#370" class="Function">ren⋆</a> <a id="2089" class="Symbol">(</a><a id="2090" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="2106" href="Scoped.Extrication.RenamingSubstitution.html#2031" class="Bound">ρ⋆</a><a id="2108" class="Symbol">)</a> <a id="2110" class="Symbol">(</a><a id="2111" href="Scoped.Extrication.html#691" class="Function">extricateNf⋆</a> <a id="2124" href="Scoped.Extrication.RenamingSubstitution.html#2066" class="Bound">A</a><a id="2125" class="Symbol">)</a> <a id="2127" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="2129" href="Scoped.Extrication.html#691" class="Function">extricateNf⋆</a> <a id="2142" class="Symbol">(</a><a id="2143" href="Type.BetaNormal.html#1715" class="Function">renNf</a> <a id="2149" href="Scoped.Extrication.RenamingSubstitution.html#2031" class="Bound">ρ⋆</a> <a id="2152" href="Scoped.Extrication.RenamingSubstitution.html#2066" class="Bound">A</a><a id="2153" class="Symbol">)</a>

<a id="ren-extricateNe⋆"></a><a id="2156" href="Scoped.Extrication.RenamingSubstitution.html#2156" class="Function">ren-extricateNe⋆</a> <a id="2173" class="Symbol">:</a>  <a id="2176" class="Symbol">∀{</a><a id="2178" href="Scoped.Extrication.RenamingSubstitution.html#2178" class="Bound">Γ</a> <a id="2180" href="Scoped.Extrication.RenamingSubstitution.html#2180" class="Bound">Δ</a> <a id="2182" href="Scoped.Extrication.RenamingSubstitution.html#2182" class="Bound">J</a><a id="2183" class="Symbol">}</a>
  <a id="2187" class="Symbol">→</a> <a id="2189" class="Symbol">(</a><a id="2190" href="Scoped.Extrication.RenamingSubstitution.html#2190" class="Bound">ρ⋆</a> <a id="2193" class="Symbol">:</a> <a id="2195" class="Symbol">∀</a> <a id="2197" class="Symbol">{</a><a id="2198" href="Scoped.Extrication.RenamingSubstitution.html#2198" class="Bound">J</a><a id="2199" class="Symbol">}</a> <a id="2201" class="Symbol">→</a> <a id="2203" href="Scoped.Extrication.RenamingSubstitution.html#2178" class="Bound">Γ</a> <a id="2205" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="2208" href="Scoped.Extrication.RenamingSubstitution.html#2198" class="Bound">J</a> <a id="2210" class="Symbol">→</a> <a id="2212" href="Scoped.Extrication.RenamingSubstitution.html#2180" class="Bound">Δ</a> <a id="2214" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="2217" href="Scoped.Extrication.RenamingSubstitution.html#2198" class="Bound">J</a><a id="2218" class="Symbol">)</a>
  <a id="2222" class="Symbol">→</a> <a id="2224" class="Symbol">(</a><a id="2225" href="Scoped.Extrication.RenamingSubstitution.html#2225" class="Bound">A</a> <a id="2227" class="Symbol">:</a> <a id="2229" href="Scoped.Extrication.RenamingSubstitution.html#2178" class="Bound">Γ</a> <a id="2231" href="Type.BetaNormal.html#918" class="Datatype Operator">⊢Ne⋆</a> <a id="2236" href="Scoped.Extrication.RenamingSubstitution.html#2182" class="Bound">J</a><a id="2237" class="Symbol">)</a>
  <a id="2241" class="Symbol">→</a> <a id="2243" href="Scoped.RenamingSubstitution.html#370" class="Function">ren⋆</a> <a id="2248" class="Symbol">(</a><a id="2249" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="2265" href="Scoped.Extrication.RenamingSubstitution.html#2190" class="Bound">ρ⋆</a><a id="2267" class="Symbol">)</a> <a id="2269" class="Symbol">(</a><a id="2270" href="Scoped.Extrication.html#747" class="Function">extricateNe⋆</a> <a id="2283" href="Scoped.Extrication.RenamingSubstitution.html#2225" class="Bound">A</a><a id="2284" class="Symbol">)</a> <a id="2286" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="2288" href="Scoped.Extrication.html#747" class="Function">extricateNe⋆</a> <a id="2301" class="Symbol">(</a><a id="2302" href="Type.BetaNormal.html#1811" class="Function">renNe</a> <a id="2308" href="Scoped.Extrication.RenamingSubstitution.html#2190" class="Bound">ρ⋆</a> <a id="2311" href="Scoped.Extrication.RenamingSubstitution.html#2225" class="Bound">A</a><a id="2312" class="Symbol">)</a>
<a id="2314" href="Scoped.Extrication.RenamingSubstitution.html#2156" class="Function">ren-extricateNe⋆</a> <a id="2331" href="Scoped.Extrication.RenamingSubstitution.html#2331" class="Bound">ρ⋆</a> <a id="2334" class="Symbol">(</a><a id="2335" href="Type.BetaNormal.html#953" class="InductiveConstructor">`</a> <a id="2337" href="Scoped.Extrication.RenamingSubstitution.html#2337" class="Bound">x</a><a id="2338" class="Symbol">)</a>   <a id="2342" class="Symbol">=</a> <a id="2344" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a>
  <a id="2351" href="Scoped.html#584" class="InductiveConstructor">`</a>
  <a id="2355" class="Symbol">(</a><a id="2356" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">trans</a> <a id="2362" class="Symbol">(</a><a id="2363" href="Scoped.Extrication.RenamingSubstitution.html#1790" class="Function">lem-extricateVar⋆</a> <a id="2381" href="Scoped.Extrication.RenamingSubstitution.html#2331" class="Bound">ρ⋆</a> <a id="2384" class="Symbol">(</a><a id="2385" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="2391" class="Symbol">(</a><a id="2392" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="2400" class="Symbol">(</a><a id="2401" href="Scoped.Extrication.html#569" class="Function">extricateVar⋆</a> <a id="2415" href="Scoped.Extrication.RenamingSubstitution.html#2337" class="Bound">x</a><a id="2416" class="Symbol">)))</a> <a id="2420" class="Symbol">(</a><a id="2421" href="Scoped.Extrication.RenamingSubstitution.html#908" class="Function">lem-backVar₁</a> <a id="2434" href="Scoped.Extrication.RenamingSubstitution.html#2337" class="Bound">x</a><a id="2435" class="Symbol">))</a>
  <a id="2440" class="Symbol">(</a><a id="2441" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a> <a id="2446" class="Symbol">(</a><a id="2447" href="Scoped.Extrication.html#569" class="Function">extricateVar⋆</a> <a id="2461" href="Function.html#805" class="Function Operator">∘</a> <a id="2463" href="Scoped.Extrication.RenamingSubstitution.html#2331" class="Bound">ρ⋆</a><a id="2465" class="Symbol">)</a> <a id="2467" class="Symbol">(</a><a id="2468" href="Scoped.Extrication.RenamingSubstitution.html#1173" class="Function">lem-backVar</a> <a id="2480" href="Scoped.Extrication.RenamingSubstitution.html#2337" class="Bound">x</a><a id="2481" class="Symbol">)))</a>
<a id="2485" href="Scoped.Extrication.RenamingSubstitution.html#2156" class="Function">ren-extricateNe⋆</a> <a id="2502" href="Scoped.Extrication.RenamingSubstitution.html#2502" class="Bound">ρ⋆</a> <a id="2505" class="Symbol">(</a><a id="2506" href="Scoped.Extrication.RenamingSubstitution.html#2506" class="Bound">A</a> <a id="2508" href="Type.BetaNormal.html#1011" class="InductiveConstructor Operator">·</a> <a id="2510" href="Scoped.Extrication.RenamingSubstitution.html#2510" class="Bound">B</a><a id="2511" class="Symbol">)</a> <a id="2513" class="Symbol">=</a>
  <a id="2517" href="Relation.Binary.PropositionalEquality.html#1362" class="Function">cong₂</a> <a id="2523" href="Scoped.html#780" class="InductiveConstructor Operator">_·_</a> <a id="2527" class="Symbol">(</a><a id="2528" href="Scoped.Extrication.RenamingSubstitution.html#2156" class="Function">ren-extricateNe⋆</a> <a id="2545" href="Scoped.Extrication.RenamingSubstitution.html#2502" class="Bound">ρ⋆</a> <a id="2548" href="Scoped.Extrication.RenamingSubstitution.html#2506" class="Bound">A</a><a id="2549" class="Symbol">)</a> <a id="2551" class="Symbol">(</a><a id="2552" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2569" href="Scoped.Extrication.RenamingSubstitution.html#2502" class="Bound">ρ⋆</a> <a id="2572" href="Scoped.Extrication.RenamingSubstitution.html#2510" class="Bound">B</a><a id="2573" class="Symbol">)</a>
<a id="2575" href="Scoped.Extrication.RenamingSubstitution.html#2156" class="Function">ren-extricateNe⋆</a> <a id="2592" href="Scoped.Extrication.RenamingSubstitution.html#2592" class="Bound">ρ⋆</a> <a id="2595" href="Type.BetaNormal.html#1093" class="InductiveConstructor">μ1</a>      <a id="2603" class="Symbol">=</a> <a id="2605" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

<a id="2611" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2628" href="Scoped.Extrication.RenamingSubstitution.html#2628" class="Bound">ρ⋆</a> <a id="2631" class="Symbol">(</a><a id="2632" href="Type.BetaNormal.html#1205" class="InductiveConstructor">Π</a> <a id="2634" href="Scoped.Extrication.RenamingSubstitution.html#2634" class="Bound">x</a> <a id="2636" href="Scoped.Extrication.RenamingSubstitution.html#2636" class="Bound">A</a><a id="2637" class="Symbol">)</a>  <a id="2640" class="Symbol">=</a>
  <a id="2644" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a> <a id="2649" class="Symbol">(</a><a id="2650" href="Scoped.html#658" class="InductiveConstructor">Π</a> <a id="2652" href="Scoped.Extrication.RenamingSubstitution.html#2634" class="Bound">x</a> <a id="2654" class="Symbol">(</a><a id="2655" href="Scoped.Extrication.html#471" class="Function">extricateK</a> <a id="2666" class="Symbol">_))</a>
       <a id="2677" class="Symbol">(</a><a id="2678" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">trans</a> <a id="2684" class="Symbol">(</a><a id="2685" href="Scoped.RenamingSubstitution.html#4221" class="Function">ren⋆-cong</a> <a id="2695" class="Symbol">(</a><a id="2696" href="Scoped.Extrication.RenamingSubstitution.html#1574" class="Function">lift⋆-ext</a> <a id="2706" href="Scoped.Extrication.RenamingSubstitution.html#2628" class="Bound">ρ⋆</a><a id="2708" class="Symbol">)</a> <a id="2710" class="Symbol">(</a><a id="2711" href="Scoped.Extrication.html#691" class="Function">extricateNf⋆</a> <a id="2724" href="Scoped.Extrication.RenamingSubstitution.html#2636" class="Bound">A</a><a id="2725" class="Symbol">))</a>
              <a id="2742" class="Symbol">(</a><a id="2743" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2760" class="Symbol">(</a><a id="2761" href="Type.RenamingSubstitution.html#551" class="Function">T.ext</a> <a id="2767" href="Scoped.Extrication.RenamingSubstitution.html#2628" class="Bound">ρ⋆</a><a id="2769" class="Symbol">)</a> <a id="2771" href="Scoped.Extrication.RenamingSubstitution.html#2636" class="Bound">A</a><a id="2772" class="Symbol">))</a>
<a id="2775" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2792" href="Scoped.Extrication.RenamingSubstitution.html#2792" class="Bound">ρ⋆</a> <a id="2795" class="Symbol">(</a><a id="2796" href="Scoped.Extrication.RenamingSubstitution.html#2796" class="Bound">A</a> <a id="2798" href="Type.BetaNormal.html#1286" class="InductiveConstructor Operator">⇒</a> <a id="2800" href="Scoped.Extrication.RenamingSubstitution.html#2800" class="Bound">B</a><a id="2801" class="Symbol">)</a>  <a id="2804" class="Symbol">=</a>
  <a id="2808" href="Relation.Binary.PropositionalEquality.html#1362" class="Function">cong₂</a> <a id="2814" href="Scoped.html#612" class="InductiveConstructor Operator">_⇒_</a> <a id="2818" class="Symbol">(</a><a id="2819" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2836" href="Scoped.Extrication.RenamingSubstitution.html#2792" class="Bound">ρ⋆</a> <a id="2839" href="Scoped.Extrication.RenamingSubstitution.html#2796" class="Bound">A</a><a id="2840" class="Symbol">)</a> <a id="2842" class="Symbol">(</a><a id="2843" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2860" href="Scoped.Extrication.RenamingSubstitution.html#2792" class="Bound">ρ⋆</a> <a id="2863" href="Scoped.Extrication.RenamingSubstitution.html#2800" class="Bound">B</a><a id="2864" class="Symbol">)</a>
<a id="2866" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="2883" href="Scoped.Extrication.RenamingSubstitution.html#2883" class="Bound">ρ⋆</a> <a id="2886" class="Symbol">(</a><a id="2887" href="Type.BetaNormal.html#1359" class="InductiveConstructor">ƛ</a> <a id="2889" href="Scoped.Extrication.RenamingSubstitution.html#2889" class="Bound">x</a> <a id="2891" href="Scoped.Extrication.RenamingSubstitution.html#2891" class="Bound">A</a><a id="2892" class="Symbol">)</a>  <a id="2895" class="Symbol">=</a>
  <a id="2899" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a> <a id="2904" class="Symbol">(</a><a id="2905" href="Scoped.html#719" class="InductiveConstructor">ƛ</a> <a id="2907" href="Scoped.Extrication.RenamingSubstitution.html#2889" class="Bound">x</a> <a id="2909" class="Symbol">(</a><a id="2910" href="Scoped.Extrication.html#471" class="Function">extricateK</a> <a id="2921" class="Symbol">_))</a>
       <a id="2932" class="Symbol">(</a><a id="2933" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">trans</a> <a id="2939" class="Symbol">(</a><a id="2940" href="Scoped.RenamingSubstitution.html#4221" class="Function">ren⋆-cong</a> <a id="2950" class="Symbol">(</a><a id="2951" href="Scoped.Extrication.RenamingSubstitution.html#1574" class="Function">lift⋆-ext</a> <a id="2961" href="Scoped.Extrication.RenamingSubstitution.html#2883" class="Bound">ρ⋆</a><a id="2963" class="Symbol">)</a> <a id="2965" class="Symbol">(</a><a id="2966" href="Scoped.Extrication.html#691" class="Function">extricateNf⋆</a> <a id="2979" href="Scoped.Extrication.RenamingSubstitution.html#2891" class="Bound">A</a><a id="2980" class="Symbol">))</a> <a id="2983" class="Symbol">(</a><a id="2984" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="3001" class="Symbol">(</a><a id="3002" href="Type.RenamingSubstitution.html#551" class="Function">T.ext</a> <a id="3008" href="Scoped.Extrication.RenamingSubstitution.html#2883" class="Bound">ρ⋆</a><a id="3010" class="Symbol">)</a> <a id="3012" href="Scoped.Extrication.RenamingSubstitution.html#2891" class="Bound">A</a><a id="3013" class="Symbol">))</a>
<a id="3016" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="3033" href="Scoped.Extrication.RenamingSubstitution.html#3033" class="Bound">ρ⋆</a> <a id="3036" class="Symbol">(</a><a id="3037" href="Type.BetaNormal.html#1449" class="InductiveConstructor">ne</a> <a id="3040" href="Scoped.Extrication.RenamingSubstitution.html#3040" class="Bound">A</a><a id="3041" class="Symbol">)</a>   <a id="3045" class="Symbol">=</a> <a id="3047" href="Scoped.Extrication.RenamingSubstitution.html#2156" class="Function">ren-extricateNe⋆</a> <a id="3064" href="Scoped.Extrication.RenamingSubstitution.html#3033" class="Bound">ρ⋆</a> <a id="3067" href="Scoped.Extrication.RenamingSubstitution.html#3040" class="Bound">A</a>
<a id="3069" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="3086" href="Scoped.Extrication.RenamingSubstitution.html#3086" class="Bound">ρ⋆</a> <a id="3089" class="Symbol">(</a><a id="3090" href="Type.BetaNormal.html#1509" class="InductiveConstructor">con</a> <a id="3094" href="Scoped.Extrication.RenamingSubstitution.html#3094" class="Bound">c</a><a id="3095" class="Symbol">)</a>  <a id="3098" class="Symbol">=</a> <a id="3100" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

<a id="extricateSubNf⋆"></a><a id="3106" href="Scoped.Extrication.RenamingSubstitution.html#3106" class="Function">extricateSubNf⋆</a> <a id="3122" class="Symbol">:</a> <a id="3124" class="Symbol">∀{</a><a id="3126" href="Scoped.Extrication.RenamingSubstitution.html#3126" class="Bound">Γ</a> <a id="3128" href="Scoped.Extrication.RenamingSubstitution.html#3128" class="Bound">Δ</a><a id="3129" class="Symbol">}(</a><a id="3131" href="Scoped.Extrication.RenamingSubstitution.html#3131" class="Bound">σ⋆</a> <a id="3134" class="Symbol">:</a> <a id="3136" class="Symbol">∀</a> <a id="3138" class="Symbol">{</a><a id="3139" href="Scoped.Extrication.RenamingSubstitution.html#3139" class="Bound">J</a><a id="3140" class="Symbol">}</a> <a id="3142" class="Symbol">→</a> <a id="3144" href="Scoped.Extrication.RenamingSubstitution.html#3126" class="Bound">Γ</a> <a id="3146" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="3149" href="Scoped.Extrication.RenamingSubstitution.html#3139" class="Bound">J</a> <a id="3151" class="Symbol">→</a> <a id="3153" href="Scoped.Extrication.RenamingSubstitution.html#3128" class="Bound">Δ</a> <a id="3155" href="Type.BetaNormal.html#885" class="Datatype Operator">⊢Nf⋆</a> <a id="3160" href="Scoped.Extrication.RenamingSubstitution.html#3139" class="Bound">J</a><a id="3161" class="Symbol">)</a> 
  <a id="3166" class="Symbol">→</a> <a id="3168" href="Scoped.RenamingSubstitution.html#1840" class="Function">Sub⋆</a> <a id="3173" class="Symbol">(</a><a id="3174" href="Scoped.Extrication.html#376" class="Function">len⋆</a> <a id="3179" href="Scoped.Extrication.RenamingSubstitution.html#3126" class="Bound">Γ</a><a id="3180" class="Symbol">)</a> <a id="3182" class="Symbol">(</a><a id="3183" href="Scoped.Extrication.html#376" class="Function">len⋆</a> <a id="3188" href="Scoped.Extrication.RenamingSubstitution.html#3128" class="Bound">Δ</a><a id="3189" class="Symbol">)</a>
<a id="3191" href="Scoped.Extrication.RenamingSubstitution.html#3106" class="Function">extricateSubNf⋆</a> <a id="3207" href="Scoped.Extrication.RenamingSubstitution.html#3207" class="Bound">σ⋆</a> <a id="3210" href="Scoped.Extrication.RenamingSubstitution.html#3210" class="Bound">α</a> <a id="3212" class="Symbol">=</a> <a id="3214" href="Scoped.Extrication.html#691" class="Function">extricateNf⋆</a> <a id="3227" class="Symbol">(</a><a id="3228" href="Scoped.Extrication.RenamingSubstitution.html#3207" class="Bound">σ⋆</a> <a id="3231" class="Symbol">(</a><a id="3232" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="3238" class="Symbol">(</a><a id="3239" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="3247" href="Scoped.Extrication.RenamingSubstitution.html#3210" class="Bound">α</a><a id="3248" class="Symbol">)))</a>

<a id="suclem"></a><a id="3253" href="Scoped.Extrication.RenamingSubstitution.html#3253" class="Function">suclem</a> <a id="3260" class="Symbol">:</a> <a id="3262" class="Symbol">∀{</a><a id="3264" href="Scoped.Extrication.RenamingSubstitution.html#3264" class="Bound">Δ</a> <a id="3266" href="Scoped.Extrication.RenamingSubstitution.html#3266" class="Bound">K</a><a id="3267" class="Symbol">}</a> <a id="3269" class="Symbol">→</a> <a id="3271" class="Symbol">(</a><a id="3272" href="Scoped.Extrication.RenamingSubstitution.html#3272" class="Bound">x</a> <a id="3274" class="Symbol">:</a> <a id="3276" href="Data.Fin.Base.html#951" class="Datatype">Fin</a> <a id="3280" class="Symbol">(</a><a id="3281" href="Scoped.Extrication.html#376" class="Function">len⋆</a> <a id="3286" href="Scoped.Extrication.RenamingSubstitution.html#3264" class="Bound">Δ</a><a id="3287" class="Symbol">))</a> <a id="3290" class="Symbol">→</a> <a id="3292" href="Data.Fin.Base.html#1004" class="InductiveConstructor">Fin.suc</a> <a id="3300" href="Scoped.Extrication.RenamingSubstitution.html#3272" class="Bound">x</a> <a id="3302" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="3304" href="Scoped.Extrication.RenamingSubstitution.html#1428" class="Function">extricateRenNf⋆</a> <a id="3320" class="Symbol">(λ</a> <a id="3323" class="Symbol">{</a><a id="3324" href="Scoped.Extrication.RenamingSubstitution.html#3324" class="Bound">J</a><a id="3325" class="Symbol">}</a> <a id="3327" class="Symbol">→</a> <a id="3329" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="3331" class="Symbol">{</a><a id="3332" class="Argument">K</a> <a id="3334" class="Symbol">=</a> <a id="3336" href="Scoped.Extrication.RenamingSubstitution.html#3266" class="Bound">K</a><a id="3337" class="Symbol">})</a> <a id="3340" href="Scoped.Extrication.RenamingSubstitution.html#3272" class="Bound">x</a>
<a id="3342" href="Scoped.Extrication.RenamingSubstitution.html#3253" class="Function">suclem</a> <a id="3349" class="Symbol">{</a><a id="3350" href="Scoped.Extrication.RenamingSubstitution.html#3350" class="Bound">Δ</a> <a id="3352" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="3355" class="Symbol">_}</a> <a id="3358" href="Data.Fin.Base.html#973" class="InductiveConstructor">zero</a> <a id="3363" class="Symbol">=</a> <a id="3365" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
<a id="3370" href="Scoped.Extrication.RenamingSubstitution.html#3253" class="Function">suclem</a> <a id="3377" class="Symbol">{</a><a id="3378" href="Scoped.Extrication.RenamingSubstitution.html#3378" class="Bound">Δ</a> <a id="3380" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="3383" class="Symbol">_}</a> <a id="3386" class="Symbol">{</a><a id="3387" href="Scoped.Extrication.RenamingSubstitution.html#3387" class="Bound">K</a><a id="3388" class="Symbol">}</a> <a id="3390" class="Symbol">(</a><a id="3391" href="Data.Fin.Base.html#1004" class="InductiveConstructor">suc</a> <a id="3395" href="Scoped.Extrication.RenamingSubstitution.html#3395" class="Bound">x</a><a id="3396" class="Symbol">)</a> <a id="3398" class="Symbol">=</a> <a id="3400" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a> <a id="3405" href="Data.Fin.Base.html#1004" class="InductiveConstructor">suc</a> <a id="3409" class="Symbol">(</a><a id="3410" href="Scoped.Extrication.RenamingSubstitution.html#3253" class="Function">suclem</a> <a id="3417" class="Symbol">{</a><a id="3418" href="Scoped.Extrication.RenamingSubstitution.html#3378" class="Bound">Δ</a><a id="3419" class="Symbol">}{</a><a id="3421" href="Scoped.Extrication.RenamingSubstitution.html#3387" class="Bound">K</a><a id="3422" class="Symbol">}</a> <a id="3424" href="Scoped.Extrication.RenamingSubstitution.html#3395" class="Bound">x</a><a id="3425" class="Symbol">)</a>

<a id="slift⋆-exts"></a><a id="3428" href="Scoped.Extrication.RenamingSubstitution.html#3428" class="Function">slift⋆-exts</a> <a id="3440" class="Symbol">:</a> <a id="3442" class="Symbol">∀{</a><a id="3444" href="Scoped.Extrication.RenamingSubstitution.html#3444" class="Bound">Γ</a> <a id="3446" href="Scoped.Extrication.RenamingSubstitution.html#3446" class="Bound">Δ</a> <a id="3448" href="Scoped.Extrication.RenamingSubstitution.html#3448" class="Bound">K</a><a id="3449" class="Symbol">}</a>
  <a id="3453" class="Symbol">→</a> <a id="3455" class="Symbol">(</a><a id="3456" href="Scoped.Extrication.RenamingSubstitution.html#3456" class="Bound">σ⋆</a> <a id="3459" class="Symbol">:</a> <a id="3461" class="Symbol">∀</a> <a id="3463" class="Symbol">{</a><a id="3464" href="Scoped.Extrication.RenamingSubstitution.html#3464" class="Bound">J</a><a id="3465" class="Symbol">}</a> <a id="3467" class="Symbol">→</a> <a id="3469" href="Scoped.Extrication.RenamingSubstitution.html#3444" class="Bound">Γ</a> <a id="3471" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="3474" href="Scoped.Extrication.RenamingSubstitution.html#3464" class="Bound">J</a> <a id="3476" class="Symbol">→</a> <a id="3478" href="Scoped.Extrication.RenamingSubstitution.html#3446" class="Bound">Δ</a> <a id="3480" href="Type.BetaNormal.html#885" class="Datatype Operator">⊢Nf⋆</a> <a id="3485" href="Scoped.Extrication.RenamingSubstitution.html#3464" class="Bound">J</a><a id="3486" class="Symbol">)</a>
  <a id="3490" class="Symbol">→</a> <a id="3492" class="Symbol">(</a><a id="3493" href="Scoped.Extrication.RenamingSubstitution.html#3493" class="Bound">α</a> <a id="3495" class="Symbol">:</a> <a id="3497" href="Data.Fin.Base.html#951" class="Datatype">Fin</a> <a id="3501" class="Symbol">(</a><a id="3502" href="Scoped.Extrication.html#376" class="Function">len⋆</a> <a id="3507" class="Symbol">(</a><a id="3508" href="Scoped.Extrication.RenamingSubstitution.html#3444" class="Bound">Γ</a> <a id="3510" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="3513" href="Scoped.Extrication.RenamingSubstitution.html#3448" class="Bound">K</a><a id="3514" class="Symbol">)))</a>
  <a id="3520" class="Symbol">→</a> <a id="3522" href="Scoped.RenamingSubstitution.html#1890" class="Function">slift⋆</a> <a id="3529" class="Symbol">(</a><a id="3530" href="Scoped.Extrication.RenamingSubstitution.html#3106" class="Function">extricateSubNf⋆</a> <a id="3546" href="Scoped.Extrication.RenamingSubstitution.html#3456" class="Bound">σ⋆</a><a id="3548" class="Symbol">)</a> <a id="3550" href="Scoped.Extrication.RenamingSubstitution.html#3493" class="Bound">α</a> <a id="3552" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="3554" href="Scoped.Extrication.RenamingSubstitution.html#3106" class="Function">extricateSubNf⋆</a> <a id="3570" class="Symbol">(</a><a id="3571" href="Type.BetaNBE.RenamingSubstitution.html#4380" class="Function">extsNf</a> <a id="3578" href="Scoped.Extrication.RenamingSubstitution.html#3456" class="Bound">σ⋆</a> <a id="3581" class="Symbol">{</a><a id="3582" class="Argument">K</a> <a id="3584" class="Symbol">=</a> <a id="3586" href="Scoped.Extrication.RenamingSubstitution.html#3448" class="Bound">K</a><a id="3587" class="Symbol">})</a> <a id="3590" href="Scoped.Extrication.RenamingSubstitution.html#3493" class="Bound">α</a> <a id="3592" class="Comment">-- </a>
<a id="3596" href="Scoped.Extrication.RenamingSubstitution.html#3428" class="Function">slift⋆-exts</a> <a id="3608" href="Scoped.Extrication.RenamingSubstitution.html#3608" class="Bound">σ⋆</a> <a id="3611" href="Data.Fin.Base.html#973" class="InductiveConstructor">zero</a> <a id="3616" class="Symbol">=</a> <a id="3618" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
<a id="3623" href="Scoped.Extrication.RenamingSubstitution.html#3428" class="Function">slift⋆-exts</a> <a id="3635" class="Symbol">{</a><a id="3636" class="Argument">K</a> <a id="3638" class="Symbol">=</a> <a id="3640" href="Scoped.Extrication.RenamingSubstitution.html#3640" class="Bound">K</a><a id="3641" class="Symbol">}</a> <a id="3643" href="Scoped.Extrication.RenamingSubstitution.html#3643" class="Bound">σ⋆</a> <a id="3646" class="Symbol">(</a><a id="3647" href="Data.Fin.Base.html#1004" class="InductiveConstructor">suc</a> <a id="3651" href="Scoped.Extrication.RenamingSubstitution.html#3651" class="Bound">α</a><a id="3652" class="Symbol">)</a> <a id="3654" class="Symbol">=</a> <a id="3656" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">trans</a>
  <a id="3664" class="Symbol">(</a><a id="3665" href="Scoped.RenamingSubstitution.html#4221" class="Function">ren⋆-cong</a> <a id="3675" class="Symbol">(</a><a id="3676" href="Scoped.Extrication.RenamingSubstitution.html#3253" class="Function">suclem</a> <a id="3683" class="Symbol">{</a><a id="3684" class="Argument">K</a> <a id="3686" class="Symbol">=</a> <a id="3688" href="Scoped.Extrication.RenamingSubstitution.html#3640" class="Bound">K</a><a id="3689" class="Symbol">})</a> <a id="3692" class="Symbol">(</a><a id="3693" href="Scoped.Extrication.html#691" class="Function">extricateNf⋆</a> <a id="3706" class="Symbol">(</a><a id="3707" href="Scoped.Extrication.RenamingSubstitution.html#3643" class="Bound">σ⋆</a> <a id="3710" class="Symbol">(</a><a id="3711" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="3717" class="Symbol">(</a><a id="3718" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="3726" href="Scoped.Extrication.RenamingSubstitution.html#3651" class="Bound">α</a><a id="3727" class="Symbol">)))))</a>
  <a id="3735" class="Symbol">(</a><a id="3736" href="Scoped.Extrication.RenamingSubstitution.html#1997" class="Function">ren-extricateNf⋆</a> <a id="3753" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="3755" class="Symbol">(</a><a id="3756" href="Scoped.Extrication.RenamingSubstitution.html#3643" class="Bound">σ⋆</a> <a id="3759" class="Symbol">(</a><a id="3760" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="3766" class="Symbol">(</a><a id="3767" href="Scoped.Extrication.RenamingSubstitution.html#759" class="Function">backVar</a> <a id="3775" href="Scoped.Extrication.RenamingSubstitution.html#3651" class="Bound">α</a><a id="3776" class="Symbol">))))</a>

<a id="3782" class="Comment">{-
sub-extricateNf⋆ :  ∀{Γ Δ J}
  → (σ⋆ : ∀ {J} → Γ ∋⋆ J → Δ ⊢Nf⋆ J)
  → (A : Γ ⊢Nf⋆ J)
  → sub⋆ (extricateSubNf⋆ σ⋆) (extricateNf⋆ A) ≡ extricateNf⋆ (substNf σ⋆ A)

sub-extricateNe⋆ :  ∀{Γ Δ J}
  → (σ⋆ : ∀ {J} → Γ ∋⋆ J → Δ ⊢Nf⋆ J)
  → (A : Γ ⊢NeN⋆ J)
  → sub⋆ (extricateSubNf⋆ σ⋆) (extricateNe⋆ A) ≡ extricateNf⋆ (nf (T.subst (embNf ∘ σ⋆) (embNeN A)))
sub-extricateNe⋆ σ⋆ (` x)   = {!!}
sub-extricateNe⋆ σ⋆ (A · B) = trans (cong₂ _·_ (sub-extricateNe⋆ σ⋆ A) (sub-extricateNf⋆ σ⋆ B)) {!!}
sub-extricateNe⋆ σ⋆ μ1      = refl


sub-extricateNf⋆ σ⋆ (Π {K = K} x A) = cong
  (Π x (extricateK _))
  (trans (trans (sub⋆-cong (slift⋆-exts σ⋆) (extricateNf⋆ A))
                (sub-extricateNf⋆ (extsNf σ⋆) A))
         (cong extricateNf⋆ {x = substNf (extsNf σ⋆) A}{y = reify (eval (T.subst (T.exts (embNf ∘ σ⋆)) (embNf A)) (exte (idEnv _)))}
            (trans (subst-eval (embNf A) idCR (embNf ∘ extsNf σ⋆)) (trans (idext (λ { Z → reflectCR (refl {x = ` Z}) ; (S α) → transCR (transCR (evalCRSubst idCR (ren-embNf S (σ⋆ α))) (ren-eval (embNf (σ⋆ α)) idCR S)) (transCR (symCR (ren-eval (embNf (σ⋆ α)) idCR S)) (idext (λ { Z → reflectCR (refl {x = ` Z}) ; (S β) → symCR (renVal-reflect S (` β))}) (T.weaken (embNf (σ⋆ α)))))}) (embNf A)) (sym (subst-eval (embNf A) (CR,,⋆ (renCR S ∘ idCR) (reflectCR (refl {x = ` Z}))) (T.exts (embNf ∘ σ⋆))))))))
sub-extricateNf⋆ σ⋆ (A ⇒ B) = cong₂ _⇒_ (sub-extricateNf⋆ σ⋆ A) (sub-extricateNf⋆ σ⋆ B)
sub-extricateNf⋆ σ⋆ (ƛ {K = K} x  A) = cong
  (ƛ x (extricateK _))
  (trans (sub⋆-cong (slift⋆-exts σ⋆) (extricateNf⋆ A))
         (trans (sub-extricateNf⋆ (extsNf σ⋆) A)
                (cong extricateNf⋆ {x = substNf (extsNf σ⋆) A}{y = reify (eval (T.subst (T.exts (embNf ∘ σ⋆)) (embNf A)) ((renVal S ∘ idEnv _) ,,⋆ fresh))} (reifyCR (transCR (subst-eval (embNf A) idCR (embNf ∘ extsNf σ⋆)) (transCR (idext (λ { Z → reflectCR {K = K} (refl {x = ` Z}) ; (S α) → transCR (transCR (evalCRSubst idCR (ren-embNf S (σ⋆ α))) (ren-eval (embNf (σ⋆ α)) idCR S)) (transCR (symCR (ren-eval (embNf (σ⋆ α)) idCR S)) (idext (λ { Z → reflectCR (refl {x = ` Z}) ; (S β) → symCR (renVal-reflect S (` β))}) (T.weaken (embNf (σ⋆ α)))) ) }) (embNf A)) (symCR (subst-eval (embNf A) (CR,,⋆ (renCR S ∘ idCR) (reflectCR {K = K} (refl {x = ` Z}))) (T.exts (embNf ∘ σ⋆))))) )))))
sub-extricateNf⋆ σ⋆ (ne A)  = {!!}
sub-extricateNf⋆ σ⋆ (con c) = refl
-}</a>

<a id="6140" class="Comment">{-
-- term level renamings

extricateRen : ∀{Φ Ψ Γ Δ}(ρ⋆ : ∀ {J} → Φ ∋⋆ J → Ψ ∋⋆ J) →
  (ρ : ∀{J}{A : Φ ⊢Nf⋆ J} → Γ ∋ A → Δ ∋ renNf ρ⋆ A)
  → SS.Ren (len Γ) (len Δ)
extricateRen {Γ = Γ ,⋆ J} {Δ} ρ⋆ ρ (T x) = extricateRen
  (ρ⋆ ∘ S)
  (λ {_}{A} x → Eq.subst (Δ ∋_) (sym (renNf-comp A)) (ρ (T x)))
  x
extricateRen {Γ = Γ , A}  {Δ} ρ⋆ ρ Z     = extricateVar (ρ Z)
extricateRen {Γ = Γ , A}  {Δ} ρ⋆ ρ (S x) = extricateRen ρ⋆ (ρ ∘ S) x
-}</a>



<a id="6577" class="Comment">-- these are the two properties of extrication/ren/sub needed to define</a>
<a id="6649" class="Comment">-- extricate—→</a>

<a id="6665" class="Keyword">postulate</a>
  <a id="lem[]"></a><a id="6677" href="Scoped.Extrication.RenamingSubstitution.html#6677" class="Postulate">lem[]</a> <a id="6683" class="Symbol">:</a> <a id="6685" class="Symbol">∀{</a><a id="6687" href="Scoped.Extrication.RenamingSubstitution.html#6687" class="Bound">Φ</a> <a id="6689" href="Scoped.Extrication.RenamingSubstitution.html#6689" class="Bound">Γ</a><a id="6690" class="Symbol">}{</a><a id="6692" href="Scoped.Extrication.RenamingSubstitution.html#6692" class="Bound">A</a> <a id="6694" href="Scoped.Extrication.RenamingSubstitution.html#6694" class="Bound">B</a> <a id="6696" class="Symbol">:</a> <a id="6698" href="Scoped.Extrication.RenamingSubstitution.html#6687" class="Bound">Φ</a> <a id="6700" href="Type.BetaNormal.html#885" class="Datatype Operator">⊢Nf⋆</a> <a id="6705" href="Type.html#615" class="InductiveConstructor">*</a><a id="6706" class="Symbol">}(</a><a id="6708" href="Scoped.Extrication.RenamingSubstitution.html#6708" class="Bound">N</a> <a id="6710" class="Symbol">:</a> <a id="6712" href="Scoped.Extrication.RenamingSubstitution.html#6689" class="Bound">Γ</a> <a id="6714" href="Algorithmic.html#1218" class="InductiveConstructor Operator">,</a> <a id="6716" href="Scoped.Extrication.RenamingSubstitution.html#6692" class="Bound">A</a> <a id="6718" href="Algorithmic.html#2242" class="Datatype Operator">⊢</a> <a id="6720" href="Scoped.Extrication.RenamingSubstitution.html#6694" class="Bound">B</a><a id="6721" class="Symbol">)(</a><a id="6723" href="Scoped.Extrication.RenamingSubstitution.html#6723" class="Bound">W</a> <a id="6725" class="Symbol">:</a> <a id="6727" href="Scoped.Extrication.RenamingSubstitution.html#6689" class="Bound">Γ</a> <a id="6729" href="Algorithmic.html#2242" class="Datatype Operator">⊢</a> <a id="6731" href="Scoped.Extrication.RenamingSubstitution.html#6692" class="Bound">A</a><a id="6732" class="Symbol">)</a>
    <a id="6738" class="Symbol">→</a> <a id="6740" href="Scoped.Extrication.html#2469" class="Function">extricate</a> <a id="6750" href="Scoped.Extrication.RenamingSubstitution.html#6708" class="Bound">N</a> <a id="6752" href="Scoped.RenamingSubstitution.html#3770" class="Function Operator">SS.[</a> <a id="6757" href="Scoped.Extrication.html#2469" class="Function">extricate</a> <a id="6767" href="Scoped.Extrication.RenamingSubstitution.html#6723" class="Bound">W</a> <a id="6769" href="Scoped.RenamingSubstitution.html#3770" class="Function Operator">]</a> <a id="6771" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="6773" href="Scoped.Extrication.html#2469" class="Function">extricate</a> <a id="6783" class="Symbol">(</a><a id="6784" href="Scoped.Extrication.RenamingSubstitution.html#6708" class="Bound">N</a> <a id="6786" href="Algorithmic.RenamingSubstitution.html#5697" class="Function Operator">AS.[</a> <a id="6791" href="Scoped.Extrication.RenamingSubstitution.html#6723" class="Bound">W</a> <a id="6793" href="Algorithmic.RenamingSubstitution.html#5697" class="Function Operator">]</a><a id="6794" class="Symbol">)</a>

  <a id="lem[]⋆"></a><a id="6799" href="Scoped.Extrication.RenamingSubstitution.html#6799" class="Postulate">lem[]⋆</a> <a id="6806" class="Symbol">:</a> <a id="6808" class="Symbol">∀{</a><a id="6810" href="Scoped.Extrication.RenamingSubstitution.html#6810" class="Bound">Φ</a> <a id="6812" href="Scoped.Extrication.RenamingSubstitution.html#6812" class="Bound">Γ</a> <a id="6814" href="Scoped.Extrication.RenamingSubstitution.html#6814" class="Bound">K</a><a id="6815" class="Symbol">}{</a><a id="6817" href="Scoped.Extrication.RenamingSubstitution.html#6817" class="Bound">B</a> <a id="6819" class="Symbol">:</a> <a id="6821" href="Scoped.Extrication.RenamingSubstitution.html#6810" class="Bound">Φ</a> <a id="6823" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="6826" href="Scoped.Extrication.RenamingSubstitution.html#6814" class="Bound">K</a> <a id="6828" href="Type.BetaNormal.html#885" class="Datatype Operator">⊢Nf⋆</a> <a id="6833" href="Type.html#615" class="InductiveConstructor">*</a><a id="6834" class="Symbol">}(</a><a id="6836" href="Scoped.Extrication.RenamingSubstitution.html#6836" class="Bound">N</a> <a id="6838" class="Symbol">:</a> <a id="6840" href="Scoped.Extrication.RenamingSubstitution.html#6812" class="Bound">Γ</a> <a id="6842" href="Algorithmic.html#1168" class="InductiveConstructor Operator">,⋆</a> <a id="6845" href="Scoped.Extrication.RenamingSubstitution.html#6814" class="Bound">K</a> <a id="6847" href="Algorithmic.html#2242" class="Datatype Operator">⊢</a> <a id="6849" href="Scoped.Extrication.RenamingSubstitution.html#6817" class="Bound">B</a><a id="6850" class="Symbol">)(</a><a id="6852" href="Scoped.Extrication.RenamingSubstitution.html#6852" class="Bound">A</a> <a id="6854" class="Symbol">:</a> <a id="6856" href="Scoped.Extrication.RenamingSubstitution.html#6810" class="Bound">Φ</a> <a id="6858" href="Type.BetaNormal.html#885" class="Datatype Operator">⊢Nf⋆</a> <a id="6863" href="Scoped.Extrication.RenamingSubstitution.html#6814" class="Bound">K</a><a id="6864" class="Symbol">)</a>
    <a id="6870" class="Symbol">→</a> <a id="6872" href="Scoped.Extrication.html#2469" class="Function">extricate</a> <a id="6882" href="Scoped.Extrication.RenamingSubstitution.html#6836" class="Bound">N</a> <a id="6884" href="Scoped.RenamingSubstitution.html#3868" class="Function Operator">SS.[</a> <a id="6889" href="Scoped.Extrication.html#691" class="Function">extricateNf⋆</a> <a id="6902" href="Scoped.Extrication.RenamingSubstitution.html#6852" class="Bound">A</a> <a id="6904" href="Scoped.RenamingSubstitution.html#3868" class="Function Operator">]⋆</a> <a id="6907" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="6909" href="Scoped.Extrication.html#2469" class="Function">extricate</a> <a id="6919" class="Symbol">(</a><a id="6920" href="Scoped.Extrication.RenamingSubstitution.html#6836" class="Bound">N</a> <a id="6922" href="Algorithmic.RenamingSubstitution.html#6173" class="Function Operator">AS.[</a> <a id="6927" href="Scoped.Extrication.RenamingSubstitution.html#6852" class="Bound">A</a> <a id="6929" href="Algorithmic.RenamingSubstitution.html#6173" class="Function Operator">]⋆</a><a id="6931" class="Symbol">)</a>
<a id="6933" class="Markup">\end{code}</a><a id="6943" class="Background">
</a></pre></body></html>