<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Erasure of (Declarative) terms | Plutus metatheory library</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Erasure of (Declarative) terms" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This repository contains a model of Plutus Core (PLC) written in Agda. We prove metatheoretic properties of the model in Agda and test the production PLC implementation against the model in Haskell by compiling the Agda code to Haskell and executing it." />
<meta property="og:description" content="This repository contains a model of Plutus Core (PLC) written in Agda. We prove metatheoretic properties of the model in Agda and test the production PLC implementation against the model in Haskell by compiling the Agda code to Haskell and executing it." />
<link rel="canonical" href="/plutus-metatheory/Declarative.Erasure.html" />
<meta property="og:url" content="/plutus-metatheory/Declarative.Erasure.html" />
<meta property="og:site_name" content="Plutus metatheory library" />
<script type="application/ld+json">
{"description":"This repository contains a model of Plutus Core (PLC) written in Agda. We prove metatheoretic properties of the model in Agda and test the production PLC implementation against the model in Haskell by compiling the Agda code to Haskell and executing it.","headline":"Erasure of (Declarative) terms","@type":"WebPage","url":"/plutus-metatheory/Declarative.Erasure.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/plutus-metatheory/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/plutus-metatheory/feed.xml" title="Plutus metatheory library" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/plutus-metatheory/">Plutus metatheory library</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/plutus-metatheory/">Table of Contents</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <link rel="stylesheet" href="/plutus-metatheory/assets/css/Agda.css">
    <h1 class="post-title">Erasure of (Declarative) terms</h1>
  </header>

  <div class="post-content">
    <pre class="Agda"><a id="65" class="Keyword">module</a> <a id="72" href="Declarative.Erasure.html" class="Module">Declarative.Erasure</a> <a id="92" class="Keyword">where</a>
</pre>
<pre class="Agda"><a id="107" class="Keyword">open</a> <a id="112" class="Keyword">import</a> <a id="119" href="Declarative.html" class="Module">Declarative</a>
<a id="131" class="Keyword">open</a> <a id="136" class="Keyword">import</a> <a id="143" href="Declarative.RenamingSubstitution.html" class="Module">Declarative.RenamingSubstitution</a> <a id="176" class="Symbol">as</a> <a id="179" class="Module">D</a>
<a id="181" class="Keyword">open</a> <a id="186" class="Keyword">import</a> <a id="193" href="Type.RenamingSubstitution.html" class="Module">Type.RenamingSubstitution</a> <a id="219" class="Symbol">as</a> <a id="222" class="Module">T</a>
<a id="224" class="Keyword">open</a> <a id="229" class="Keyword">import</a> <a id="236" href="Untyped.html" class="Module">Untyped</a>
<a id="244" class="Keyword">open</a> <a id="249" class="Keyword">import</a> <a id="256" href="Untyped.RenamingSubstitution.html" class="Module">Untyped.RenamingSubstitution</a> <a id="285" class="Symbol">as</a> <a id="288" class="Module">U</a>
</pre>
<pre class="Agda"><a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Type.html" class="Module">Type</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Declarative.html" class="Module">Declarative</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Builtin.html" class="Module">Builtin</a> <a id="360" class="Keyword">hiding</a> <a id="367" class="Symbol">(</a><a id="368" href="Builtin.html#2577" class="Postulate">length</a><a id="374" class="Symbol">)</a>
<a id="376" class="Keyword">open</a> <a id="381" class="Keyword">import</a> <a id="388" href="Utils.html" class="Module">Utils</a>
<a id="394" class="Keyword">open</a> <a id="399" class="Keyword">import</a> <a id="406" href="Builtin.Signature.html" class="Module">Builtin.Signature</a> <a id="424" href="Type.html#958" class="Datatype">Ctx⋆</a> <a id="429" href="Type.html#572" class="Datatype">Kind</a> <a id="434" href="Type.html#977" class="InductiveConstructor">∅</a> <a id="436" href="Type.html#988" class="InductiveConstructor Operator">_,⋆_</a> <a id="441" href="Type.html#591" class="InductiveConstructor">*</a> <a id="443" href="Type.html#1330" class="Datatype Operator">_∋⋆_</a> <a id="448" href="Type.html#1364" class="InductiveConstructor">Z</a> <a id="450" href="Type.html#1403" class="InductiveConstructor">S</a> <a id="452" href="Type.html#2011" class="Datatype Operator">_⊢⋆_</a> <a id="457" href="Type.html#2045" class="InductiveConstructor">`</a> <a id="459" href="Type.html#2400" class="InductiveConstructor">con</a>
<a id="463" class="Keyword">open</a> <a id="468" class="Keyword">import</a> <a id="475" href="Builtin.Constant.Term.html" class="Module">Builtin.Constant.Term</a> <a id="497" href="Type.html#958" class="Datatype">Ctx⋆</a> <a id="502" href="Type.html#572" class="Datatype">Kind</a> <a id="507" href="Type.html#591" class="InductiveConstructor">*</a> <a id="509" href="Type.html#2011" class="Datatype Operator">_⊢⋆_</a> <a id="514" href="Type.html#2400" class="InductiveConstructor">con</a>
  <a id="520" class="Keyword">renaming</a> <a id="529" class="Symbol">(</a>TermCon <a id="538" class="Symbol">to</a> TyTermCon<a id="550" class="Symbol">)</a>

<a id="553" class="Keyword">open</a> <a id="558" class="Keyword">import</a> <a id="565" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>
<a id="585" class="Keyword">open</a> <a id="590" class="Keyword">import</a> <a id="597" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="606" class="Keyword">open</a> <a id="611" class="Keyword">import</a> <a id="618" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="627" class="Keyword">using</a> <a id="633" class="Symbol">(</a><a id="634" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a><a id="637" class="Symbol">;</a><a id="638" href="Data.Fin.Base.html#1088" class="InductiveConstructor">zero</a><a id="642" class="Symbol">;</a><a id="643" href="Data.Fin.Base.html#1119" class="InductiveConstructor">suc</a><a id="646" class="Symbol">)</a>
<a id="648" class="Keyword">open</a> <a id="653" class="Keyword">import</a> <a id="660" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="669" class="Keyword">using</a> <a id="675" class="Symbol">(</a><a id="676" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a><a id="678" class="Symbol">;</a> <a id="680" href="Data.Vec.Base.html#1014" class="InductiveConstructor Operator">_∷_</a><a id="683" class="Symbol">;</a><a id="684" href="Data.Vec.Base.html#2670" class="Function Operator">_++_</a><a id="688" class="Symbol">)</a>
<a id="690" class="Keyword">open</a> <a id="695" class="Keyword">import</a> <a id="702" href="Data.List.html" class="Module">Data.List</a> <a id="712" class="Keyword">using</a> <a id="718" class="Symbol">(</a><a id="719" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="723" class="Symbol">;</a><a id="724" href="Data.List.Base.html#4297" class="Function">length</a><a id="730" class="Symbol">;</a><a id="731" href="Data.List.Base.html#9701" class="InductiveConstructor">[]</a><a id="733" class="Symbol">;</a><a id="734" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="737" class="Symbol">)</a>
<a id="739" class="Keyword">open</a> <a id="744" class="Keyword">import</a> <a id="751" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="789" class="Keyword">open</a> <a id="794" class="Keyword">import</a> <a id="801" href="Data.Product.html" class="Module">Data.Product</a> <a id="814" class="Keyword">using</a> <a id="820" class="Symbol">(</a><a id="821" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a><a id="826" class="Symbol">;</a><a id="827" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="832" class="Symbol">)</a>

<a id="len"></a><a id="835" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="839" class="Symbol">:</a> <a id="841" class="Symbol">∀{</a><a id="843" href="Declarative.Erasure.html#843" class="Bound">Φ</a><a id="844" class="Symbol">}</a> <a id="846" class="Symbol">→</a> <a id="848" href="Declarative.html#1523" class="Datatype">Ctx</a> <a id="852" href="Declarative.Erasure.html#843" class="Bound">Φ</a> <a id="854" class="Symbol">→</a> <a id="856" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="858" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="862" href="Declarative.html#1548" class="InductiveConstructor">∅</a>        <a id="871" class="Symbol">=</a> <a id="873" class="Number">0</a>
<a id="875" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="879" class="Symbol">(</a><a id="880" href="Declarative.Erasure.html#880" class="Bound">Γ</a> <a id="882" href="Declarative.html#1560" class="InductiveConstructor Operator">,⋆</a> <a id="885" href="Declarative.Erasure.html#885" class="Bound">K</a><a id="886" class="Symbol">)</a> <a id="888" class="Symbol">=</a> <a id="890" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="894" href="Declarative.Erasure.html#880" class="Bound">Γ</a>
<a id="896" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="900" class="Symbol">(</a><a id="901" href="Declarative.Erasure.html#901" class="Bound">Γ</a> <a id="903" href="Declarative.html#1603" class="InductiveConstructor Operator">,</a> <a id="905" href="Declarative.Erasure.html#905" class="Bound">A</a><a id="906" class="Symbol">)</a>  <a id="909" class="Symbol">=</a> <a id="911" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="915" class="Symbol">(</a><a id="916" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="920" href="Declarative.Erasure.html#901" class="Bound">Γ</a><a id="921" class="Symbol">)</a>

<a id="lenI"></a><a id="924" href="Declarative.Erasure.html#924" class="Function">lenI</a> <a id="929" class="Symbol">:</a> <a id="931" class="Symbol">∀{</a><a id="933" href="Declarative.Erasure.html#933" class="Bound">Φ</a><a id="934" class="Symbol">}</a> <a id="936" class="Symbol">→</a> <a id="938" href="Declarative.html#1523" class="Datatype">Ctx</a> <a id="942" href="Declarative.Erasure.html#933" class="Bound">Φ</a> <a id="944" class="Symbol">→</a> <a id="946" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="948" href="Declarative.Erasure.html#924" class="Function">lenI</a> <a id="953" href="Declarative.html#1548" class="InductiveConstructor">∅</a>        <a id="962" class="Symbol">=</a> <a id="964" class="Number">0</a>
<a id="966" href="Declarative.Erasure.html#924" class="Function">lenI</a> <a id="971" class="Symbol">(</a><a id="972" href="Declarative.Erasure.html#972" class="Bound">Γ</a> <a id="974" href="Declarative.html#1560" class="InductiveConstructor Operator">,⋆</a> <a id="977" href="Declarative.Erasure.html#977" class="Bound">K</a><a id="978" class="Symbol">)</a> <a id="980" class="Symbol">=</a> <a id="982" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="986" class="Symbol">(</a><a id="987" href="Declarative.Erasure.html#924" class="Function">lenI</a> <a id="992" href="Declarative.Erasure.html#972" class="Bound">Γ</a><a id="993" class="Symbol">)</a>
<a id="995" href="Declarative.Erasure.html#924" class="Function">lenI</a> <a id="1000" class="Symbol">(</a><a id="1001" href="Declarative.Erasure.html#1001" class="Bound">Γ</a> <a id="1003" href="Declarative.html#1603" class="InductiveConstructor Operator">,</a> <a id="1005" href="Declarative.Erasure.html#1005" class="Bound">A</a><a id="1006" class="Symbol">)</a>  <a id="1009" class="Symbol">=</a> <a id="1011" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1015" class="Symbol">(</a><a id="1016" href="Declarative.Erasure.html#924" class="Function">lenI</a> <a id="1021" href="Declarative.Erasure.html#1001" class="Bound">Γ</a><a id="1022" class="Symbol">)</a>

<a id="len⋆"></a><a id="1025" href="Declarative.Erasure.html#1025" class="Function">len⋆</a> <a id="1030" class="Symbol">:</a> <a id="1032" href="Type.html#958" class="Datatype">Ctx⋆</a> <a id="1037" class="Symbol">→</a> <a id="1039" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="1041" href="Declarative.Erasure.html#1025" class="Function">len⋆</a> <a id="1046" href="Type.html#977" class="InductiveConstructor">∅</a>        <a id="1055" class="Symbol">=</a> <a id="1057" class="Number">0</a>
<a id="1059" href="Declarative.Erasure.html#1025" class="Function">len⋆</a> <a id="1064" class="Symbol">(</a><a id="1065" href="Declarative.Erasure.html#1065" class="Bound">Γ</a> <a id="1067" href="Type.html#988" class="InductiveConstructor Operator">,⋆</a> <a id="1070" href="Declarative.Erasure.html#1070" class="Bound">K</a><a id="1071" class="Symbol">)</a> <a id="1073" class="Symbol">=</a> <a id="1075" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1079" class="Symbol">(</a><a id="1080" href="Declarative.Erasure.html#1025" class="Function">len⋆</a> <a id="1085" href="Declarative.Erasure.html#1065" class="Bound">Γ</a><a id="1086" class="Symbol">)</a>

<a id="lemma"></a><a id="1089" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1095" class="Symbol">:</a> <a id="1097" class="Symbol">(</a><a id="1098" href="Declarative.Erasure.html#1098" class="Bound">b</a> <a id="1100" class="Symbol">:</a> <a id="1102" href="Builtin.html#211" class="Datatype">Builtin</a><a id="1109" class="Symbol">)</a>
  <a id="1113" class="Symbol">→</a> <a id="1115" href="Declarative.Erasure.html#1025" class="Function">len⋆</a> <a id="1120" class="Symbol">(</a><a id="1121" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1127" class="Symbol">(</a><a id="1128" href="Builtin.Signature.html#878" class="Function">SIG</a> <a id="1132" href="Declarative.Erasure.html#1098" class="Bound">b</a><a id="1133" class="Symbol">))</a> <a id="1136" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1138" href="Data.List.Base.html#4297" class="Function">length</a> <a id="1145" class="Symbol">(</a><a id="1146" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1152" class="Symbol">(</a><a id="1153" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1159" class="Symbol">(</a><a id="1160" href="Builtin.Signature.html#878" class="Function">SIG</a> <a id="1164" href="Declarative.Erasure.html#1098" class="Bound">b</a><a id="1165" class="Symbol">)))</a> <a id="1169" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1171" href="Untyped.html#585" class="Function">arity</a> <a id="1177" href="Declarative.Erasure.html#1098" class="Bound">b</a>
<a id="1179" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1185" href="Builtin.html#233" class="InductiveConstructor">addInteger</a> <a id="1196" class="Symbol">=</a> <a id="1198" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1203" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1209" href="Builtin.html#270" class="InductiveConstructor">subtractInteger</a> <a id="1225" class="Symbol">=</a> <a id="1227" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1232" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1238" href="Builtin.html#307" class="InductiveConstructor">multiplyInteger</a> <a id="1254" class="Symbol">=</a> <a id="1256" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1261" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1267" href="Builtin.html#344" class="InductiveConstructor">divideInteger</a> <a id="1281" class="Symbol">=</a> <a id="1283" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1288" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1294" href="Builtin.html#381" class="InductiveConstructor">quotientInteger</a> <a id="1310" class="Symbol">=</a> <a id="1312" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1317" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1323" href="Builtin.html#418" class="InductiveConstructor">remainderInteger</a> <a id="1340" class="Symbol">=</a> <a id="1342" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1347" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1353" href="Builtin.html#455" class="InductiveConstructor">modInteger</a> <a id="1364" class="Symbol">=</a> <a id="1366" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1371" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1377" href="Builtin.html#492" class="InductiveConstructor">lessThanInteger</a> <a id="1393" class="Symbol">=</a> <a id="1395" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1400" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1406" href="Builtin.html#529" class="InductiveConstructor">lessThanEqualsInteger</a> <a id="1428" class="Symbol">=</a> <a id="1430" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1435" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1441" href="Builtin.html#566" class="InductiveConstructor">greaterThanInteger</a> <a id="1460" class="Symbol">=</a> <a id="1462" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1467" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1473" href="Builtin.html#603" class="InductiveConstructor">greaterThanEqualsInteger</a> <a id="1498" class="Symbol">=</a> <a id="1500" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1505" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1511" href="Builtin.html#640" class="InductiveConstructor">equalsInteger</a> <a id="1525" class="Symbol">=</a> <a id="1527" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1532" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1538" href="Builtin.html#677" class="InductiveConstructor">concatenate</a> <a id="1550" class="Symbol">=</a> <a id="1552" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1557" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1563" href="Builtin.html#714" class="InductiveConstructor">takeByteString</a> <a id="1578" class="Symbol">=</a> <a id="1580" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1585" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1591" href="Builtin.html#751" class="InductiveConstructor">dropByteString</a> <a id="1606" class="Symbol">=</a> <a id="1608" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1613" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1619" href="Builtin.html#788" class="InductiveConstructor">sha2-256</a> <a id="1628" class="Symbol">=</a> <a id="1630" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1635" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1641" href="Builtin.html#825" class="InductiveConstructor">sha3-256</a> <a id="1650" class="Symbol">=</a> <a id="1652" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1657" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1663" href="Builtin.html#862" class="InductiveConstructor">verifySignature</a> <a id="1679" class="Symbol">=</a> <a id="1681" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1686" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1692" href="Builtin.html#899" class="InductiveConstructor">equalsByteString</a> <a id="1709" class="Symbol">=</a> <a id="1711" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1716" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1722" href="Builtin.html#936" class="InductiveConstructor">ifThenElse</a> <a id="1733" class="Symbol">=</a> <a id="1735" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1740" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1746" href="Builtin.html#973" class="InductiveConstructor">charToString</a> <a id="1759" class="Symbol">=</a> <a id="1761" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1766" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1772" href="Builtin.html#1010" class="InductiveConstructor">append</a> <a id="1779" class="Symbol">=</a> <a id="1781" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1786" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1792" href="Builtin.html#1047" class="InductiveConstructor">trace</a> <a id="1798" class="Symbol">=</a> <a id="1800" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="lemma≤"></a><a id="1806" href="Declarative.Erasure.html#1806" class="Function">lemma≤</a> <a id="1813" class="Symbol">:</a> <a id="1815" class="Symbol">(</a><a id="1816" href="Declarative.Erasure.html#1816" class="Bound">b</a> <a id="1818" class="Symbol">:</a> <a id="1820" href="Builtin.html#211" class="Datatype">Builtin</a><a id="1827" class="Symbol">)</a> <a id="1829" class="Symbol">→</a> <a id="1831" href="Declarative.Erasure.html#1025" class="Function">len⋆</a> <a id="1836" class="Symbol">(</a><a id="1837" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1843" class="Symbol">(</a><a id="1844" href="Builtin.Signature.html#878" class="Function">SIG</a> <a id="1848" href="Declarative.Erasure.html#1816" class="Bound">b</a><a id="1849" class="Symbol">))</a> <a id="1852" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1854" href="Data.List.Base.html#4297" class="Function">length</a> <a id="1861" class="Symbol">(</a><a id="1862" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1868" class="Symbol">(</a><a id="1869" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1875" class="Symbol">(</a><a id="1876" href="Builtin.Signature.html#878" class="Function">SIG</a> <a id="1880" href="Declarative.Erasure.html#1816" class="Bound">b</a><a id="1881" class="Symbol">)))</a> <a id="1885" href="Data.Nat.Base.html#3147" class="Datatype Operator">≤‴</a> <a id="1888" href="Untyped.html#585" class="Function">arity</a> <a id="1894" href="Declarative.Erasure.html#1816" class="Bound">b</a>
<a id="1896" href="Declarative.Erasure.html#1806" class="Function">lemma≤</a> <a id="1903" href="Declarative.Erasure.html#1903" class="Bound">b</a> <a id="1905" class="Keyword">rewrite</a> <a id="1913" href="Declarative.Erasure.html#1089" class="Function">lemma</a> <a id="1919" href="Declarative.Erasure.html#1903" class="Bound">b</a> <a id="1921" class="Symbol">=</a> <a id="1923" href="Data.Nat.Base.html#3174" class="InductiveConstructor">≤‴-refl</a>

<a id="eraseVar"></a><a id="1932" href="Declarative.Erasure.html#1932" class="Function">eraseVar</a> <a id="1941" class="Symbol">:</a> <a id="1943" class="Symbol">∀{</a><a id="1945" href="Declarative.Erasure.html#1945" class="Bound">Φ</a> <a id="1947" href="Declarative.Erasure.html#1947" class="Bound">Γ</a><a id="1948" class="Symbol">}{</a><a id="1950" href="Declarative.Erasure.html#1950" class="Bound">A</a> <a id="1952" class="Symbol">:</a> <a id="1954" href="Declarative.Erasure.html#1945" class="Bound">Φ</a> <a id="1956" href="Type.html#2011" class="Datatype Operator">⊢⋆</a> <a id="1959" href="Type.html#591" class="InductiveConstructor">*</a><a id="1960" class="Symbol">}</a> <a id="1962" class="Symbol">→</a> <a id="1964" href="Declarative.Erasure.html#1947" class="Bound">Γ</a> <a id="1966" href="Declarative.html#1844" class="Datatype Operator">∋</a> <a id="1968" href="Declarative.Erasure.html#1950" class="Bound">A</a> <a id="1970" class="Symbol">→</a> <a id="1972" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a> <a id="1976" class="Symbol">(</a><a id="1977" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="1981" href="Declarative.Erasure.html#1947" class="Bound">Γ</a><a id="1982" class="Symbol">)</a>
<a id="1984" href="Declarative.Erasure.html#1932" class="Function">eraseVar</a> <a id="1993" href="Declarative.html#1885" class="InductiveConstructor">Z</a>     <a id="1999" class="Symbol">=</a> <a id="2001" href="Data.Fin.Base.html#1088" class="InductiveConstructor">zero</a> 
<a id="2007" href="Declarative.Erasure.html#1932" class="Function">eraseVar</a> <a id="2016" class="Symbol">(</a><a id="2017" href="Declarative.html#1919" class="InductiveConstructor">S</a> <a id="2019" href="Declarative.Erasure.html#2019" class="Bound">α</a><a id="2020" class="Symbol">)</a> <a id="2022" class="Symbol">=</a> <a id="2024" href="Data.Fin.Base.html#1119" class="InductiveConstructor">suc</a> <a id="2028" class="Symbol">(</a><a id="2029" href="Declarative.Erasure.html#1932" class="Function">eraseVar</a> <a id="2038" href="Declarative.Erasure.html#2019" class="Bound">α</a><a id="2039" class="Symbol">)</a> 
<a id="2042" href="Declarative.Erasure.html#1932" class="Function">eraseVar</a> <a id="2051" class="Symbol">(</a><a id="2052" href="Declarative.html#1965" class="InductiveConstructor">T</a> <a id="2054" href="Declarative.Erasure.html#2054" class="Bound">α</a><a id="2055" class="Symbol">)</a> <a id="2057" class="Symbol">=</a> <a id="2059" href="Declarative.Erasure.html#1932" class="Function">eraseVar</a> <a id="2068" href="Declarative.Erasure.html#2054" class="Bound">α</a>

<a id="eraseTC"></a><a id="2071" href="Declarative.Erasure.html#2071" class="Function">eraseTC</a> <a id="2079" class="Symbol">:</a> <a id="2081" class="Symbol">∀{</a><a id="2083" href="Declarative.Erasure.html#2083" class="Bound">Φ</a><a id="2084" class="Symbol">}{</a><a id="2086" href="Declarative.Erasure.html#2086" class="Bound">Γ</a> <a id="2088" class="Symbol">:</a> <a id="2090" href="Declarative.html#1523" class="Datatype">Ctx</a> <a id="2094" href="Declarative.Erasure.html#2083" class="Bound">Φ</a><a id="2095" class="Symbol">}{</a><a id="2097" href="Declarative.Erasure.html#2097" class="Bound">A</a> <a id="2099" class="Symbol">:</a> <a id="2101" href="Declarative.Erasure.html#2083" class="Bound">Φ</a> <a id="2103" href="Type.html#2011" class="Datatype Operator">⊢⋆</a> <a id="2106" href="Type.html#591" class="InductiveConstructor">*</a><a id="2107" class="Symbol">}</a> <a id="2109" class="Symbol">→</a> <a id="2111" href="Declarative.Erasure.html#541" class="Datatype">TyTermCon</a> <a id="2121" href="Declarative.Erasure.html#2097" class="Bound">A</a> <a id="2123" class="Symbol">→</a> <a id="2125" href="Untyped.html#362" class="Datatype">TermCon</a>
<a id="2133" href="Declarative.Erasure.html#2071" class="Function">eraseTC</a> <a id="2141" class="Symbol">(</a><a id="2142" href="Builtin.Constant.Term.html#362" class="InductiveConstructor">integer</a> <a id="2150" href="Declarative.Erasure.html#2150" class="Bound">i</a><a id="2151" class="Symbol">)</a>    <a id="2156" class="Symbol">=</a> <a id="2158" href="Untyped.html#384" class="InductiveConstructor">integer</a> <a id="2166" href="Declarative.Erasure.html#2150" class="Bound">i</a>
<a id="2168" href="Declarative.Erasure.html#2071" class="Function">eraseTC</a> <a id="2176" class="Symbol">(</a><a id="2177" href="Builtin.Constant.Term.html#419" class="InductiveConstructor">bytestring</a> <a id="2188" href="Declarative.Erasure.html#2188" class="Bound">b</a><a id="2189" class="Symbol">)</a> <a id="2191" class="Symbol">=</a> <a id="2193" href="Untyped.html#411" class="InductiveConstructor">bytestring</a> <a id="2204" href="Declarative.Erasure.html#2188" class="Bound">b</a>
<a id="2206" href="Declarative.Erasure.html#2071" class="Function">eraseTC</a> <a id="2214" class="Symbol">(</a><a id="2215" href="Builtin.Constant.Term.html#488" class="InductiveConstructor">string</a> <a id="2222" href="Declarative.Erasure.html#2222" class="Bound">s</a><a id="2223" class="Symbol">)</a>     <a id="2229" class="Symbol">=</a> <a id="2231" href="Untyped.html#447" class="InductiveConstructor">string</a> <a id="2238" href="Declarative.Erasure.html#2222" class="Bound">s</a>
<a id="2240" href="Declarative.Erasure.html#2071" class="Function">eraseTC</a> <a id="2248" class="Symbol">(</a><a id="2249" href="Builtin.Constant.Term.html#549" class="InductiveConstructor">bool</a> <a id="2254" href="Declarative.Erasure.html#2254" class="Bound">b</a><a id="2255" class="Symbol">)</a>       <a id="2263" class="Symbol">=</a> <a id="2265" href="Untyped.html#479" class="InductiveConstructor">bool</a> <a id="2270" href="Declarative.Erasure.html#2254" class="Bound">b</a> 
<a id="2273" href="Declarative.Erasure.html#2071" class="Function">eraseTC</a> <a id="2281" class="Symbol">(</a><a id="2282" href="Builtin.Constant.Term.html#606" class="InductiveConstructor">char</a> <a id="2287" href="Declarative.Erasure.html#2287" class="Bound">c</a><a id="2288" class="Symbol">)</a>       <a id="2296" class="Symbol">=</a> <a id="2298" href="Untyped.html#509" class="InductiveConstructor">char</a> <a id="2303" href="Declarative.Erasure.html#2287" class="Bound">c</a>
<a id="2305" href="Declarative.Erasure.html#2071" class="Function">eraseTC</a> <a id="2313" href="Builtin.Constant.Term.html#663" class="InductiveConstructor">unit</a>           <a id="2328" class="Symbol">=</a> <a id="2330" href="Untyped.html#539" class="InductiveConstructor">unit</a>

<a id="eraseTel⋆"></a><a id="2336" href="Declarative.Erasure.html#2336" class="Function">eraseTel⋆</a> <a id="2346" class="Symbol">:</a> <a id="2348" class="Symbol">∀{</a><a id="2350" href="Declarative.Erasure.html#2350" class="Bound">Φ</a><a id="2351" class="Symbol">}(</a><a id="2353" href="Declarative.Erasure.html#2353" class="Bound">Γ</a> <a id="2355" class="Symbol">:</a> <a id="2357" href="Declarative.html#1523" class="Datatype">Ctx</a> <a id="2361" href="Declarative.Erasure.html#2350" class="Bound">Φ</a><a id="2362" class="Symbol">)(</a><a id="2364" href="Declarative.Erasure.html#2364" class="Bound">Δ</a> <a id="2366" class="Symbol">:</a> <a id="2368" href="Type.html#958" class="Datatype">Ctx⋆</a><a id="2372" class="Symbol">)</a> <a id="2374" class="Symbol">→</a> <a id="2376" href="Untyped.html#1433" class="Function">Untyped.Tel</a> <a id="2388" class="Symbol">(</a><a id="2389" href="Declarative.Erasure.html#1025" class="Function">len⋆</a> <a id="2394" href="Declarative.Erasure.html#2364" class="Bound">Δ</a><a id="2395" class="Symbol">)</a> <a id="2397" class="Symbol">(</a><a id="2398" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="2402" href="Declarative.Erasure.html#2353" class="Bound">Γ</a><a id="2403" class="Symbol">)</a> 
<a id="2406" href="Declarative.Erasure.html#2336" class="Function">eraseTel⋆</a> <a id="2416" class="Symbol">_</a> <a id="2418" href="Type.html#977" class="InductiveConstructor">∅</a>  <a id="2421" class="Symbol">=</a> <a id="2423" href="Data.Vec.Base.html#995" class="InductiveConstructor">[]</a>
<a id="2426" href="Declarative.Erasure.html#2336" class="Function">eraseTel⋆</a> <a id="2436" href="Declarative.Erasure.html#2436" class="Bound">Γ</a> <a id="2438" class="Symbol">(</a><a id="2439" href="Declarative.Erasure.html#2439" class="Bound">Δ</a> <a id="2441" href="Type.html#988" class="InductiveConstructor Operator">,⋆</a> <a id="2444" href="Declarative.Erasure.html#2444" class="Bound">K</a><a id="2445" class="Symbol">)</a> <a id="2447" class="Symbol">=</a> <a id="2449" href="Declarative.Erasure.html#2336" class="Function">eraseTel⋆</a> <a id="2459" href="Declarative.Erasure.html#2436" class="Bound">Γ</a> <a id="2461" href="Declarative.Erasure.html#2439" class="Bound">Δ</a> <a id="2463" href="Utils.html#2164" class="Function Operator">:&lt;</a> <a id="2466" href="Untyped.html#1570" class="InductiveConstructor">con</a> <a id="2470" href="Untyped.html#539" class="InductiveConstructor">unit</a>

<a id="2476" class="Keyword">open</a> <a id="2481" class="Keyword">import</a> <a id="2488" href="Data.Product.html" class="Module">Data.Product</a> <a id="2501" class="Keyword">renaming</a> <a id="2510" class="Symbol">(</a><a id="2511" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="2515" class="Symbol">to</a> <a id="Sigma._,_"></a><a id="2518" href="Declarative.Erasure.html#2518" class="InductiveConstructor Operator">_,,_</a><a id="2522" class="Symbol">)</a>
<a id="2524" class="Keyword">open</a> <a id="2529" class="Keyword">import</a> <a id="2536" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="2545" class="Keyword">open</a> <a id="2550" class="Keyword">import</a> <a id="2557" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>

<a id="erase"></a><a id="2578" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2584" class="Symbol">:</a> <a id="2586" class="Symbol">∀{</a><a id="2588" href="Declarative.Erasure.html#2588" class="Bound">Φ</a> <a id="2590" href="Declarative.Erasure.html#2590" class="Bound">Γ</a><a id="2591" class="Symbol">}{</a><a id="2593" href="Declarative.Erasure.html#2593" class="Bound">A</a> <a id="2595" class="Symbol">:</a> <a id="2597" href="Declarative.Erasure.html#2588" class="Bound">Φ</a> <a id="2599" href="Type.html#2011" class="Datatype Operator">⊢⋆</a> <a id="2602" href="Type.html#591" class="InductiveConstructor">*</a><a id="2603" class="Symbol">}</a> <a id="2605" class="Symbol">→</a> <a id="2607" href="Declarative.Erasure.html#2590" class="Bound">Γ</a> <a id="2609" href="Declarative.html#4584" class="Datatype Operator">⊢</a> <a id="2611" href="Declarative.Erasure.html#2593" class="Bound">A</a> <a id="2613" class="Symbol">→</a> <a id="2615" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="2619" href="Declarative.Erasure.html#2590" class="Bound">Γ</a> <a id="2621" href="Untyped.html#1416" class="Datatype Operator">⊢</a>

<a id="erase-Sub"></a><a id="2624" href="Declarative.Erasure.html#2624" class="Function">erase-Sub</a> <a id="2634" class="Symbol">:</a> <a id="2636" class="Symbol">∀{</a><a id="2638" href="Declarative.Erasure.html#2638" class="Bound">Φ</a> <a id="2640" href="Declarative.Erasure.html#2640" class="Bound">Ψ</a><a id="2641" class="Symbol">}{</a><a id="2643" href="Declarative.Erasure.html#2643" class="Bound">Γ</a> <a id="2645" class="Symbol">:</a> <a id="2647" href="Declarative.html#1523" class="Datatype">Ctx</a> <a id="2651" href="Declarative.Erasure.html#2638" class="Bound">Φ</a><a id="2652" class="Symbol">}{</a><a id="2654" href="Declarative.Erasure.html#2654" class="Bound">Δ</a> <a id="2656" class="Symbol">:</a> <a id="2658" href="Declarative.html#1523" class="Datatype">Ctx</a> <a id="2662" href="Declarative.Erasure.html#2640" class="Bound">Ψ</a><a id="2663" class="Symbol">}(</a><a id="2665" href="Declarative.Erasure.html#2665" class="Bound">σ⋆</a> <a id="2668" class="Symbol">:</a> <a id="2670" href="Type.RenamingSubstitution.html#3743" class="Function">T.Sub</a> <a id="2676" href="Declarative.Erasure.html#2638" class="Bound">Φ</a> <a id="2678" href="Declarative.Erasure.html#2640" class="Bound">Ψ</a><a id="2679" class="Symbol">)</a>
  <a id="2683" class="Symbol">→</a> <a id="2685" href="Declarative.RenamingSubstitution.html#3250" class="Function">D.Sub</a> <a id="2691" href="Declarative.Erasure.html#2643" class="Bound">Γ</a> <a id="2693" href="Declarative.Erasure.html#2654" class="Bound">Δ</a> <a id="2695" href="Declarative.Erasure.html#2665" class="Bound">σ⋆</a> <a id="2698" class="Symbol">→</a> <a id="2700" href="Untyped.RenamingSubstitution.html#3106" class="Function">U.Sub</a> <a id="2706" class="Symbol">(</a><a id="2707" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="2711" href="Declarative.Erasure.html#2643" class="Bound">Γ</a><a id="2712" class="Symbol">)</a> <a id="2714" class="Symbol">(</a><a id="2715" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="2719" href="Declarative.Erasure.html#2654" class="Bound">Δ</a><a id="2720" class="Symbol">)</a> 

<a id="2724" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2730" class="Symbol">(</a><a id="2731" href="Declarative.html#4624" class="InductiveConstructor">`</a> <a id="2733" href="Declarative.Erasure.html#2733" class="Bound">α</a><a id="2734" class="Symbol">)</a>             <a id="2748" class="Symbol">=</a> <a id="2750" href="Untyped.html#1492" class="InductiveConstructor">`</a> <a id="2752" class="Symbol">(</a><a id="2753" href="Declarative.Erasure.html#1932" class="Function">eraseVar</a> <a id="2762" href="Declarative.Erasure.html#2733" class="Bound">α</a><a id="2763" class="Symbol">)</a>
<a id="2765" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2771" class="Symbol">(</a><a id="2772" href="Declarative.html#4662" class="InductiveConstructor">ƛ</a> <a id="2774" href="Declarative.Erasure.html#2774" class="Bound">t</a><a id="2775" class="Symbol">)</a>             <a id="2789" class="Symbol">=</a> <a id="2791" href="Untyped.html#1516" class="InductiveConstructor">ƛ</a> <a id="2793" class="Symbol">(</a><a id="2794" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2800" href="Declarative.Erasure.html#2774" class="Bound">t</a><a id="2801" class="Symbol">)</a> 
<a id="2804" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2810" class="Symbol">(</a><a id="2811" href="Declarative.Erasure.html#2811" class="Bound">t</a> <a id="2813" href="Declarative.html#4712" class="InductiveConstructor Operator">·</a> <a id="2815" href="Declarative.Erasure.html#2815" class="Bound">u</a><a id="2816" class="Symbol">)</a>           <a id="2828" class="Symbol">=</a> <a id="2830" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2836" href="Declarative.Erasure.html#2811" class="Bound">t</a> <a id="2838" href="Untyped.html#1542" class="InductiveConstructor Operator">·</a> <a id="2840" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2846" href="Declarative.Erasure.html#2815" class="Bound">u</a>
<a id="2848" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2854" class="Symbol">(</a><a id="2855" href="Declarative.html#4778" class="InductiveConstructor">Λ</a> <a id="2857" href="Declarative.Erasure.html#2857" class="Bound">t</a><a id="2858" class="Symbol">)</a>             <a id="2872" class="Symbol">=</a> <a id="2874" href="Untyped.html#1516" class="InductiveConstructor">ƛ</a> <a id="2876" class="Symbol">(</a><a id="2877" href="Untyped.RenamingSubstitution.html#819" class="Function">U.weaken</a> <a id="2886" class="Symbol">(</a><a id="2887" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2893" href="Declarative.Erasure.html#2857" class="Bound">t</a><a id="2894" class="Symbol">))</a>
<a id="2897" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2903" class="Symbol">(</a><a id="2904" href="Declarative.Erasure.html#2904" class="Bound">t</a> <a id="2906" href="Declarative.html#4827" class="InductiveConstructor Operator">·⋆</a> <a id="2909" href="Declarative.Erasure.html#2909" class="Bound">A</a><a id="2910" class="Symbol">)</a>          <a id="2921" class="Symbol">=</a> <a id="2923" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2929" href="Declarative.Erasure.html#2904" class="Bound">t</a> <a id="2931" href="Untyped.html#1542" class="InductiveConstructor Operator">·</a> <a id="2933" href="Untyped.html#3731" class="Function Operator">plc_dummy</a>
<a id="2943" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2949" class="Symbol">(</a><a id="2950" href="Declarative.html#4910" class="InductiveConstructor">wrap</a> <a id="2955" href="Declarative.Erasure.html#2955" class="Bound">A</a> <a id="2957" href="Declarative.Erasure.html#2957" class="Bound">B</a> <a id="2959" href="Declarative.Erasure.html#2959" class="Bound">t</a><a id="2960" class="Symbol">)</a>      <a id="2967" class="Symbol">=</a> <a id="2969" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2975" href="Declarative.Erasure.html#2959" class="Bound">t</a>
<a id="2977" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="2983" class="Symbol">(</a><a id="2984" href="Declarative.html#5076" class="InductiveConstructor">unwrap</a> <a id="2991" href="Declarative.Erasure.html#2991" class="Bound">t</a><a id="2992" class="Symbol">)</a>        <a id="3001" class="Symbol">=</a> <a id="3003" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="3009" href="Declarative.Erasure.html#2991" class="Bound">t</a>
<a id="3011" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="3017" class="Symbol">(</a><a id="3018" href="Declarative.html#5194" class="InductiveConstructor">conv</a> <a id="3023" href="Declarative.Erasure.html#3023" class="Bound">p</a> <a id="3025" href="Declarative.Erasure.html#3025" class="Bound">t</a><a id="3026" class="Symbol">)</a>        <a id="3035" class="Symbol">=</a> <a id="3037" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="3043" href="Declarative.Erasure.html#3025" class="Bound">t</a>
<a id="3045" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="3051" class="Symbol">{</a><a id="3052" class="Argument">Γ</a> <a id="3054" class="Symbol">=</a> <a id="3056" href="Declarative.Erasure.html#3056" class="Bound">Γ</a><a id="3057" class="Symbol">}</a> <a id="3059" class="Symbol">(</a><a id="3060" href="Declarative.html#5256" class="InductiveConstructor">con</a> <a id="3064" href="Declarative.Erasure.html#3064" class="Bound">t</a><a id="3065" class="Symbol">)</a>   <a id="3069" class="Symbol">=</a> <a id="3071" href="Untyped.html#1570" class="InductiveConstructor">con</a> <a id="3075" class="Symbol">(</a><a id="3076" href="Declarative.Erasure.html#2071" class="Function">eraseTC</a> <a id="3084" class="Symbol">{</a><a id="3085" class="Argument">Γ</a> <a id="3087" class="Symbol">=</a> <a id="3089" href="Declarative.Erasure.html#3056" class="Bound">Γ</a><a id="3090" class="Symbol">}</a> <a id="3092" href="Declarative.Erasure.html#3064" class="Bound">t</a><a id="3093" class="Symbol">)</a>
<a id="3095" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="3101" class="Symbol">(</a><a id="3102" href="Declarative.html#5342" class="InductiveConstructor">ibuiltin</a> <a id="3111" href="Declarative.Erasure.html#3111" class="Bound">b</a><a id="3112" class="Symbol">)</a>      <a id="3119" class="Symbol">=</a> <a id="3121" href="Untyped.html#1667" class="InductiveConstructor">error</a>
<a id="3127" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="3133" class="Symbol">(</a><a id="3134" href="Declarative.html#5424" class="InductiveConstructor">error</a> <a id="3140" href="Declarative.Erasure.html#3140" class="Bound">A</a><a id="3141" class="Symbol">)</a>         <a id="3151" class="Symbol">=</a> <a id="3153" href="Untyped.html#1667" class="InductiveConstructor">error</a>

<a id="backVar⋆"></a><a id="3160" href="Declarative.Erasure.html#3160" class="Function">backVar⋆</a> <a id="3169" class="Symbol">:</a> <a id="3171" class="Symbol">∀{</a><a id="3173" href="Declarative.Erasure.html#3173" class="Bound">Φ</a><a id="3174" class="Symbol">}(</a><a id="3176" href="Declarative.Erasure.html#3176" class="Bound">Γ</a> <a id="3178" class="Symbol">:</a> <a id="3180" href="Declarative.html#1523" class="Datatype">Ctx</a> <a id="3184" href="Declarative.Erasure.html#3173" class="Bound">Φ</a><a id="3185" class="Symbol">)</a> <a id="3187" class="Symbol">→</a> <a id="3189" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a> <a id="3193" class="Symbol">(</a><a id="3194" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="3198" href="Declarative.Erasure.html#3176" class="Bound">Γ</a><a id="3199" class="Symbol">)</a> <a id="3201" class="Symbol">→</a> <a id="3203" href="Declarative.Erasure.html#3173" class="Bound">Φ</a> <a id="3205" href="Type.html#2011" class="Datatype Operator">⊢⋆</a> <a id="3208" href="Type.html#591" class="InductiveConstructor">*</a>
<a id="3210" href="Declarative.Erasure.html#3160" class="Function">backVar⋆</a> <a id="3219" class="Symbol">(</a><a id="3220" href="Declarative.Erasure.html#3220" class="Bound">Γ</a> <a id="3222" href="Declarative.html#1560" class="InductiveConstructor Operator">,⋆</a> <a id="3225" href="Declarative.Erasure.html#3225" class="Bound">J</a><a id="3226" class="Symbol">)</a> <a id="3228" href="Declarative.Erasure.html#3228" class="Bound">x</a> <a id="3230" class="Symbol">=</a> <a id="3232" href="Type.RenamingSubstitution.html#1130" class="Function">T.weaken</a> <a id="3241" class="Symbol">(</a><a id="3242" href="Declarative.Erasure.html#3160" class="Function">backVar⋆</a> <a id="3251" href="Declarative.Erasure.html#3220" class="Bound">Γ</a> <a id="3253" href="Declarative.Erasure.html#3228" class="Bound">x</a><a id="3254" class="Symbol">)</a>
<a id="3256" href="Declarative.Erasure.html#3160" class="Function">backVar⋆</a> <a id="3265" class="Symbol">(</a><a id="3266" href="Declarative.Erasure.html#3266" class="Bound">Γ</a> <a id="3268" href="Declarative.html#1603" class="InductiveConstructor Operator">,</a> <a id="3270" href="Declarative.Erasure.html#3270" class="Bound">A</a><a id="3271" class="Symbol">)</a> <a id="3273" href="Data.Fin.Base.html#1088" class="InductiveConstructor">zero</a> <a id="3278" class="Symbol">=</a> <a id="3280" href="Declarative.Erasure.html#3270" class="Bound">A</a>
<a id="3282" href="Declarative.Erasure.html#3160" class="Function">backVar⋆</a> <a id="3291" class="Symbol">(</a><a id="3292" href="Declarative.Erasure.html#3292" class="Bound">Γ</a> <a id="3294" href="Declarative.html#1603" class="InductiveConstructor Operator">,</a> <a id="3296" href="Declarative.Erasure.html#3296" class="Bound">A</a><a id="3297" class="Symbol">)</a> <a id="3299" class="Symbol">(</a><a id="3300" href="Data.Fin.Base.html#1119" class="InductiveConstructor">suc</a> <a id="3304" href="Declarative.Erasure.html#3304" class="Bound">x</a><a id="3305" class="Symbol">)</a> <a id="3307" class="Symbol">=</a> <a id="3309" href="Declarative.Erasure.html#3160" class="Function">backVar⋆</a> <a id="3318" href="Declarative.Erasure.html#3292" class="Bound">Γ</a> <a id="3320" href="Declarative.Erasure.html#3304" class="Bound">x</a>

<a id="backVar"></a><a id="3323" href="Declarative.Erasure.html#3323" class="Function">backVar</a> <a id="3331" class="Symbol">:</a> <a id="3333" class="Symbol">∀{</a><a id="3335" href="Declarative.Erasure.html#3335" class="Bound">Φ</a><a id="3336" class="Symbol">}(</a><a id="3338" href="Declarative.Erasure.html#3338" class="Bound">Γ</a> <a id="3340" class="Symbol">:</a> <a id="3342" href="Declarative.html#1523" class="Datatype">Ctx</a> <a id="3346" href="Declarative.Erasure.html#3335" class="Bound">Φ</a><a id="3347" class="Symbol">)(</a><a id="3349" href="Declarative.Erasure.html#3349" class="Bound">i</a> <a id="3351" class="Symbol">:</a> <a id="3353" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a> <a id="3357" class="Symbol">(</a><a id="3358" href="Declarative.Erasure.html#835" class="Function">len</a> <a id="3362" href="Declarative.Erasure.html#3338" class="Bound">Γ</a><a id="3363" class="Symbol">))</a> <a id="3366" class="Symbol">→</a> <a id="3368" href="Declarative.Erasure.html#3338" class="Bound">Γ</a> <a id="3370" href="Declarative.html#1844" class="Datatype Operator">∋</a> <a id="3372" class="Symbol">(</a><a id="3373" href="Declarative.Erasure.html#3160" class="Function">backVar⋆</a> <a id="3382" href="Declarative.Erasure.html#3338" class="Bound">Γ</a> <a id="3384" href="Declarative.Erasure.html#3349" class="Bound">i</a><a id="3385" class="Symbol">)</a>
<a id="3387" href="Declarative.Erasure.html#3323" class="Function">backVar</a> <a id="3395" class="Symbol">(</a><a id="3396" href="Declarative.Erasure.html#3396" class="Bound">Γ</a> <a id="3398" href="Declarative.html#1560" class="InductiveConstructor Operator">,⋆</a> <a id="3401" href="Declarative.Erasure.html#3401" class="Bound">J</a><a id="3402" class="Symbol">)</a> <a id="3404" href="Declarative.Erasure.html#3404" class="Bound">i</a> <a id="3406" class="Symbol">=</a> <a id="3408" href="Declarative.html#1965" class="InductiveConstructor">T</a> <a id="3410" class="Symbol">(</a><a id="3411" href="Declarative.Erasure.html#3323" class="Function">backVar</a> <a id="3419" href="Declarative.Erasure.html#3396" class="Bound">Γ</a> <a id="3421" href="Declarative.Erasure.html#3404" class="Bound">i</a><a id="3422" class="Symbol">)</a>
<a id="3424" href="Declarative.Erasure.html#3323" class="Function">backVar</a> <a id="3432" class="Symbol">(</a><a id="3433" href="Declarative.Erasure.html#3433" class="Bound">Γ</a> <a id="3435" href="Declarative.html#1603" class="InductiveConstructor Operator">,</a> <a id="3437" href="Declarative.Erasure.html#3437" class="Bound">A</a><a id="3438" class="Symbol">)</a> <a id="3440" href="Data.Fin.Base.html#1088" class="InductiveConstructor">zero</a>    <a id="3448" class="Symbol">=</a> <a id="3450" href="Declarative.html#1885" class="InductiveConstructor">Z</a>
<a id="3452" href="Declarative.Erasure.html#3323" class="Function">backVar</a> <a id="3460" class="Symbol">(</a><a id="3461" href="Declarative.Erasure.html#3461" class="Bound">Γ</a> <a id="3463" href="Declarative.html#1603" class="InductiveConstructor Operator">,</a> <a id="3465" href="Declarative.Erasure.html#3465" class="Bound">A</a><a id="3466" class="Symbol">)</a> <a id="3468" class="Symbol">(</a><a id="3469" href="Data.Fin.Base.html#1119" class="InductiveConstructor">suc</a> <a id="3473" href="Declarative.Erasure.html#3473" class="Bound">i</a><a id="3474" class="Symbol">)</a> <a id="3476" class="Symbol">=</a> <a id="3478" href="Declarative.html#1919" class="InductiveConstructor">S</a> <a id="3480" class="Symbol">(</a><a id="3481" href="Declarative.Erasure.html#3323" class="Function">backVar</a> <a id="3489" href="Declarative.Erasure.html#3461" class="Bound">Γ</a> <a id="3491" href="Declarative.Erasure.html#3473" class="Bound">i</a><a id="3492" class="Symbol">)</a>

<a id="3495" href="Declarative.Erasure.html#2624" class="Function">erase-Sub</a> <a id="3505" href="Declarative.Erasure.html#3505" class="Bound">σ⋆</a> <a id="3508" href="Declarative.Erasure.html#3508" class="Bound">σ</a> <a id="3510" href="Declarative.Erasure.html#3510" class="Bound">i</a> <a id="3512" class="Symbol">=</a> <a id="3514" href="Declarative.Erasure.html#2578" class="Function">erase</a> <a id="3520" class="Symbol">(</a><a id="3521" href="Declarative.Erasure.html#3508" class="Bound">σ</a> <a id="3523" class="Symbol">(</a><a id="3524" href="Declarative.Erasure.html#3323" class="Function">backVar</a> <a id="3532" class="Symbol">_</a> <a id="3534" href="Declarative.Erasure.html#3510" class="Bound">i</a><a id="3535" class="Symbol">))</a>
</pre>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/plutus-metatheory/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Plutus metatheory library</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Plutus metatheory library</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/input-output-hk"><svg class="svg-icon"><use xlink:href="/plutus-metatheory/assets/minima-social-icons.svg#github"></use></svg> <span class="username">input-output-hk</span></a></li><li><a href="https://www.twitter.com/InputOutputHK"><svg class="svg-icon"><use xlink:href="/plutus-metatheory/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">InputOutputHK</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>
This repository contains a model of Plutus Core (PLC) written in Agda. We prove metatheoretic properties of the model in Agda and test the production PLC implementation against the model in Haskell by compiling the Agda code to Haskell and executing it.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
