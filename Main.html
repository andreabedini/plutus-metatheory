<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Main</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Markup">\begin{code}</a>
<a id="14" class="Keyword">module</a> <a id="21" href="Main.html" class="Module">Main</a> <a id="26" class="Keyword">where</a>
<a id="32" class="Keyword">open</a> <a id="37" class="Keyword">import</a> <a id="44" href="Agda.Builtin.IO.html" class="Module">Agda.Builtin.IO</a>
<a id="60" class="Keyword">open</a> <a id="65" class="Keyword">import</a> <a id="72" href="Agda.Builtin.Unit.html" class="Module">Agda.Builtin.Unit</a>
<a id="90" class="Keyword">open</a> <a id="95" class="Keyword">import</a> <a id="102" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a>

<a id="123" class="Keyword">postulate</a>
  <a id="putStrLn"></a><a id="135" href="Main.html#135" class="Postulate">putStrLn</a> <a id="144" class="Symbol">:</a> <a id="146" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="153" class="Symbol">→</a> <a id="155" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="158" href="Agda.Builtin.Unit.html#137" class="Record">⊤</a>

<a id="161" class="Symbol">{-#</a> <a id="165" class="Keyword">FOREIGN</a> <a id="173" class="Pragma">GHC</a> <a id="177" class="Pragma">import</a> <a id="184" class="Pragma">qualified</a> <a id="194" class="Pragma">Data.Text.IO</a> <a id="207" class="Pragma">as</a> <a id="210" class="Pragma">Text</a> <a id="215" class="Symbol">#-}</a>
<a id="219" class="Symbol">{-#</a> <a id="223" class="Keyword">FOREIGN</a> <a id="231" class="Pragma">GHC</a> <a id="235" class="Pragma">import</a> <a id="242" class="Pragma">qualified</a> <a id="252" class="Pragma">Data.Text</a> <a id="262" class="Pragma">as</a> <a id="265" class="Pragma">T</a> <a id="267" class="Symbol">#-}</a>
<a id="271" class="Symbol">{-#</a> <a id="275" class="Keyword">COMPILE</a> <a id="283" class="Pragma">GHC</a> <a id="287" href="Main.html#135" class="Postulate">putStrLn</a> <a id="296" class="Pragma">=</a> <a id="298" class="Pragma">Text.putStrLn</a> <a id="312" class="Symbol">#-}</a>

<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Type.html" class="Module">Type</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Builtin.html" class="Module">Builtin</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Builtin.Constant.Type.html" class="Module">Builtin.Constant.Type</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Builtin.Constant.Term.html" class="Module">Builtin.Constant.Term</a> <a id="422" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="427" href="Type.html#596" class="Datatype">Kind</a> <a id="432" href="Type.html#615" class="InductiveConstructor">*</a> <a id="434" href="Type.html#1945" class="Datatype Operator">_⊢⋆_</a> <a id="439" href="Type.html#2429" class="InductiveConstructor">con</a>
<a id="443" class="Keyword">open</a> <a id="448" class="Keyword">import</a> <a id="455" href="Builtin.Signature.html" class="Module">Builtin.Signature</a>

<a id="474" class="Keyword">open</a> <a id="479" class="Keyword">import</a> <a id="486" href="Agda.Builtin.TrustMe.html" class="Module">Agda.Builtin.TrustMe</a>
<a id="507" class="Keyword">open</a> <a id="512" class="Keyword">import</a> <a id="519" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="557" class="Keyword">open</a> <a id="562" class="Keyword">import</a> <a id="569" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a>
<a id="586" class="Keyword">open</a> <a id="591" class="Keyword">import</a> <a id="598" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="607" class="Keyword">open</a> <a id="612" class="Keyword">import</a> <a id="619" href="Agda.Builtin.Int.html" class="Module">Agda.Builtin.Int</a>
<a id="636" class="Keyword">open</a> <a id="641" class="Keyword">import</a> <a id="648" href="Data.Integer.html" class="Module">Data.Integer</a>

<a id="662" class="Keyword">open</a> <a id="667" class="Keyword">import</a> <a id="674" href="Data.Product.html" class="Module">Data.Product</a> <a id="687" class="Keyword">renaming</a> <a id="696" class="Symbol">(</a><a id="697" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,_</a> <a id="701" class="Symbol">to</a> <a id="704" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">_,,_</a><a id="708" class="Symbol">)</a>
<a id="710" class="Comment">--open import test.AddInteger</a>
<a id="740" class="Comment">--open import test.IntegerLiteral</a>
<a id="774" class="Comment">--open import test.IntegerOverflow -- can&#39;t be used</a>
<a id="826" class="Comment">--open import test.Negation -- TODO</a>
<a id="862" class="Comment">--open import test.StringLiteral</a>

<a id="896" class="Keyword">open</a> <a id="901" href="Agda.Builtin.IO.html" class="Module">Agda.Builtin.IO</a>
<a id="917" class="Keyword">open</a> <a id="922" class="Keyword">import</a> <a id="929" href="Data.String.html" class="Module">Data.String</a>
<a id="941" class="Keyword">postulate</a>
  <a id="return"></a><a id="953" href="Main.html#953" class="Postulate">return</a> <a id="960" class="Symbol">:</a> <a id="962" class="Symbol">∀</a> <a id="964" class="Symbol">{</a><a id="965" href="Main.html#965" class="Bound">a</a><a id="966" class="Symbol">}</a> <a id="968" class="Symbol">{</a><a id="969" href="Main.html#969" class="Bound">A</a> <a id="971" class="Symbol">:</a> <a id="973" class="PrimitiveType">Set</a> <a id="977" href="Main.html#965" class="Bound">a</a><a id="978" class="Symbol">}</a> <a id="980" class="Symbol">→</a> <a id="982" href="Main.html#969" class="Bound">A</a> <a id="984" class="Symbol">→</a> <a id="986" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="989" href="Main.html#969" class="Bound">A</a>
  <a id="_&gt;&gt;=_"></a><a id="993" href="Main.html#993" class="Postulate Operator">_&gt;&gt;=_</a>  <a id="1000" class="Symbol">:</a> <a id="1002" class="Symbol">∀</a> <a id="1004" class="Symbol">{</a><a id="1005" href="Main.html#1005" class="Bound">a</a> <a id="1007" href="Main.html#1007" class="Bound">b</a><a id="1008" class="Symbol">}</a> <a id="1010" class="Symbol">{</a><a id="1011" href="Main.html#1011" class="Bound">A</a> <a id="1013" class="Symbol">:</a> <a id="1015" class="PrimitiveType">Set</a> <a id="1019" href="Main.html#1005" class="Bound">a</a><a id="1020" class="Symbol">}</a> <a id="1022" class="Symbol">{</a><a id="1023" href="Main.html#1023" class="Bound">B</a> <a id="1025" class="Symbol">:</a> <a id="1027" class="PrimitiveType">Set</a> <a id="1031" href="Main.html#1007" class="Bound">b</a><a id="1032" class="Symbol">}</a> <a id="1034" class="Symbol">→</a> <a id="1036" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="1039" href="Main.html#1011" class="Bound">A</a> <a id="1041" class="Symbol">→</a> <a id="1043" class="Symbol">(</a><a id="1044" href="Main.html#1011" class="Bound">A</a> <a id="1046" class="Symbol">→</a> <a id="1048" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="1051" href="Main.html#1023" class="Bound">B</a><a id="1052" class="Symbol">)</a> <a id="1054" class="Symbol">→</a> <a id="1056" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="1059" href="Main.html#1023" class="Bound">B</a>

<a id="1062" class="Symbol">{-#</a> <a id="1066" class="Keyword">COMPILE</a> <a id="1074" class="Pragma">GHC</a> <a id="1078" href="Main.html#953" class="Postulate">return</a> <a id="1085" class="Pragma">=</a> <a id="1087" class="Pragma">\_</a> <a id="1090" class="Pragma">_</a> <a id="1092" class="Pragma">-&gt;</a> <a id="1095" class="Pragma">return</a>    <a id="1105" class="Symbol">#-}</a>
<a id="1109" class="Symbol">{-#</a> <a id="1113" class="Keyword">COMPILE</a> <a id="1121" class="Pragma">GHC</a> <a id="1125" href="Main.html#993" class="Postulate Operator">_&gt;&gt;=_</a>  <a id="1132" class="Pragma">=</a> <a id="1134" class="Pragma">\_</a> <a id="1137" class="Pragma">_</a> <a id="1139" class="Pragma">_</a> <a id="1141" class="Pragma">_</a> <a id="1143" class="Pragma">-&gt;</a> <a id="1146" class="Pragma">(&gt;&gt;=)</a> <a id="1152" class="Symbol">#-}</a>

<a id="_&gt;&gt;_"></a><a id="1157" href="Main.html#1157" class="Function Operator">_&gt;&gt;_</a>  <a id="1163" class="Symbol">:</a> <a id="1165" class="Symbol">∀</a> <a id="1167" class="Symbol">{</a><a id="1168" href="Main.html#1168" class="Bound">a</a> <a id="1170" href="Main.html#1170" class="Bound">b</a><a id="1171" class="Symbol">}</a> <a id="1173" class="Symbol">{</a><a id="1174" href="Main.html#1174" class="Bound">A</a> <a id="1176" class="Symbol">:</a> <a id="1178" class="PrimitiveType">Set</a> <a id="1182" href="Main.html#1168" class="Bound">a</a><a id="1183" class="Symbol">}</a> <a id="1185" class="Symbol">{</a><a id="1186" href="Main.html#1186" class="Bound">B</a> <a id="1188" class="Symbol">:</a> <a id="1190" class="PrimitiveType">Set</a> <a id="1194" href="Main.html#1170" class="Bound">b</a><a id="1195" class="Symbol">}</a> <a id="1197" class="Symbol">→</a> <a id="1199" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="1202" href="Main.html#1174" class="Bound">A</a> <a id="1204" class="Symbol">→</a> <a id="1206" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="1209" href="Main.html#1186" class="Bound">B</a> <a id="1211" class="Symbol">→</a> <a id="1213" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="1216" href="Main.html#1186" class="Bound">B</a>
<a id="1218" href="Main.html#1218" class="Bound">x</a> <a id="1220" href="Main.html#1157" class="Function Operator">&gt;&gt;</a> <a id="1223" href="Main.html#1223" class="Bound">y</a> <a id="1225" class="Symbol">=</a> <a id="1227" href="Main.html#1218" class="Bound">x</a> <a id="1229" href="Main.html#993" class="Postulate Operator">&gt;&gt;=</a> <a id="1233" class="Symbol">λ</a> <a id="1235" href="Main.html#1235" class="Bound">_</a> <a id="1237" class="Symbol">→</a> <a id="1239" href="Main.html#1223" class="Bound">y</a>

<a id="1242" class="Keyword">open</a> <a id="1247" class="Keyword">import</a> <a id="1254" href="Raw.html" class="Module">Raw</a>
<a id="1258" class="Keyword">open</a> <a id="1263" class="Keyword">import</a> <a id="1270" href="Scoped.html" class="Module">Scoped</a>
<a id="1277" class="Keyword">open</a> <a id="1282" class="Keyword">import</a> <a id="1289" href="Utils.html" class="Module">Utils</a>

<a id="1296" class="Keyword">postulate</a>
  <a id="imap"></a><a id="1308" href="Main.html#1308" class="Postulate">imap</a> <a id="1313" class="Symbol">:</a> <a id="1315" class="Symbol">∀{</a><a id="1317" href="Main.html#1317" class="Bound">A</a> <a id="1319" href="Main.html#1319" class="Bound">B</a> <a id="1321" class="Symbol">:</a> <a id="1323" class="PrimitiveType">Set</a><a id="1326" class="Symbol">}</a> <a id="1328" class="Symbol">→</a> <a id="1330" class="Symbol">(</a><a id="1331" href="Main.html#1317" class="Bound">A</a> <a id="1333" class="Symbol">→</a> <a id="1335" href="Main.html#1319" class="Bound">B</a><a id="1336" class="Symbol">)</a> <a id="1338" class="Symbol">→</a> <a id="1340" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="1343" href="Main.html#1317" class="Bound">A</a> <a id="1345" class="Symbol">→</a> <a id="1347" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="1350" href="Main.html#1319" class="Bound">B</a>
  <a id="mmap"></a><a id="1354" href="Main.html#1354" class="Postulate">mmap</a> <a id="1359" class="Symbol">:</a> <a id="1361" class="Symbol">∀{</a><a id="1363" href="Main.html#1363" class="Bound">A</a> <a id="1365" href="Main.html#1365" class="Bound">B</a> <a id="1367" class="Symbol">:</a> <a id="1369" class="PrimitiveType">Set</a><a id="1372" class="Symbol">}</a> <a id="1374" class="Symbol">→</a> <a id="1376" class="Symbol">(</a><a id="1377" href="Main.html#1363" class="Bound">A</a> <a id="1379" class="Symbol">→</a> <a id="1381" href="Main.html#1365" class="Bound">B</a><a id="1382" class="Symbol">)</a> <a id="1384" class="Symbol">→</a> <a id="1386" href="Utils.html#39" class="Datatype">Maybe</a> <a id="1392" href="Main.html#1363" class="Bound">A</a> <a id="1394" class="Symbol">→</a> <a id="1396" href="Utils.html#39" class="Datatype">Maybe</a> <a id="1402" href="Main.html#1365" class="Bound">B</a>
  <a id="mbind"></a><a id="1406" href="Main.html#1406" class="Postulate">mbind</a> <a id="1412" class="Symbol">:</a> <a id="1414" class="Symbol">∀{</a><a id="1416" href="Main.html#1416" class="Bound">A</a> <a id="1418" href="Main.html#1418" class="Bound">B</a> <a id="1420" class="Symbol">:</a> <a id="1422" class="PrimitiveType">Set</a><a id="1425" class="Symbol">}</a> <a id="1427" class="Symbol">→</a> <a id="1429" class="Symbol">(</a><a id="1430" href="Main.html#1416" class="Bound">A</a> <a id="1432" class="Symbol">→</a> <a id="1434" href="Utils.html#39" class="Datatype">Maybe</a> <a id="1440" href="Main.html#1418" class="Bound">B</a><a id="1441" class="Symbol">)</a> <a id="1443" class="Symbol">→</a> <a id="1445" href="Utils.html#39" class="Datatype">Maybe</a> <a id="1451" href="Main.html#1416" class="Bound">A</a> <a id="1453" class="Symbol">→</a> <a id="1455" href="Utils.html#39" class="Datatype">Maybe</a> <a id="1461" href="Main.html#1418" class="Bound">B</a>
  <a id="Program"></a><a id="1465" href="Main.html#1465" class="Postulate">Program</a> <a id="1473" class="Symbol">:</a> <a id="1475" class="PrimitiveType">Set</a>
  <a id="convP"></a><a id="1481" href="Main.html#1481" class="Postulate">convP</a> <a id="1487" class="Symbol">:</a> <a id="1489" href="Main.html#1465" class="Postulate">Program</a> <a id="1497" class="Symbol">→</a> <a id="1499" href="Raw.html#741" class="Datatype">RawTm</a>
  <a id="readFile"></a><a id="1507" href="Main.html#1507" class="Postulate">readFile</a> <a id="1516" class="Symbol">:</a> <a id="1518" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="1525" class="Symbol">→</a> <a id="1527" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="1530" href="Builtin.Constant.Type.html#517" class="Postulate">ByteString</a>
  <a id="parse"></a><a id="1543" href="Main.html#1543" class="Postulate">parse</a> <a id="1549" class="Symbol">:</a> <a id="1551" href="Builtin.Constant.Type.html#517" class="Postulate">ByteString</a> <a id="1562" class="Symbol">→</a> <a id="1564" href="Utils.html#39" class="Datatype">Maybe</a> <a id="1570" href="Main.html#1465" class="Postulate">Program</a>
  <a id="showTerm"></a><a id="1580" href="Main.html#1580" class="Postulate">showTerm</a> <a id="1589" class="Symbol">:</a> <a id="1591" href="Raw.html#741" class="Datatype">RawTm</a> <a id="1597" class="Symbol">→</a> <a id="1599" href="Agda.Builtin.String.html#206" class="Postulate">String</a>

<a id="1607" class="Symbol">{-#</a> <a id="1611" class="Keyword">FOREIGN</a> <a id="1619" class="Pragma">GHC</a> <a id="1623" class="Pragma">import</a> <a id="1630" class="Pragma">Language.PlutusCore.Name</a> <a id="1655" class="Symbol">#-}</a>
<a id="1659" class="Symbol">{-#</a> <a id="1663" class="Keyword">FOREIGN</a> <a id="1671" class="Pragma">GHC</a> <a id="1675" class="Pragma">import</a> <a id="1682" class="Pragma">Language.PlutusCore.Lexer</a> <a id="1708" class="Symbol">#-}</a>
<a id="1712" class="Symbol">{-#</a> <a id="1716" class="Keyword">FOREIGN</a> <a id="1724" class="Pragma">GHC</a> <a id="1728" class="Pragma">import</a> <a id="1735" class="Pragma">Language.PlutusCore.Parser</a> <a id="1762" class="Symbol">#-}</a>
<a id="1766" class="Symbol">{-#</a> <a id="1770" class="Keyword">FOREIGN</a> <a id="1778" class="Pragma">GHC</a> <a id="1782" class="Pragma">import</a> <a id="1789" class="Pragma">Language.PlutusCore.Pretty</a> <a id="1816" class="Symbol">#-}</a>
<a id="1820" class="Symbol">{-#</a> <a id="1824" class="Keyword">FOREIGN</a> <a id="1832" class="Pragma">GHC</a> <a id="1836" class="Pragma">import</a> <a id="1843" class="Pragma">Data.Either</a> <a id="1855" class="Symbol">#-}</a>

<a id="1860" class="Symbol">{-#</a> <a id="1864" class="Keyword">FOREIGN</a> <a id="1872" class="Pragma">GHC</a> <a id="1876" class="Pragma">import</a> <a id="1883" class="Pragma">Raw</a> <a id="1887" class="Symbol">#-}</a>
<a id="1891" class="Symbol">{-#</a> <a id="1895" class="Keyword">COMPILE</a> <a id="1903" class="Pragma">GHC</a> <a id="1907" href="Main.html#1481" class="Postulate">convP</a> <a id="1913" class="Pragma">=</a> <a id="1915" class="Pragma">convP</a> <a id="1921" class="Symbol">#-}</a>
<a id="1925" class="Symbol">{-#</a> <a id="1929" class="Keyword">FOREIGN</a> <a id="1937" class="Pragma">GHC</a> <a id="1941" class="Pragma">import</a> <a id="1948" class="Pragma">qualified</a> <a id="1958" class="Pragma">Data.ByteString.Lazy</a> <a id="1979" class="Pragma">as</a> <a id="1982" class="Pragma">BSL</a> <a id="1986" class="Symbol">#-}</a>
<a id="1990" class="Symbol">{-#</a> <a id="1994" class="Keyword">COMPILE</a> <a id="2002" class="Pragma">GHC</a> <a id="2006" href="Main.html#1308" class="Postulate">imap</a> <a id="2011" class="Pragma">=</a> <a id="2013" class="Pragma">\_</a> <a id="2016" class="Pragma">_</a> <a id="2018" class="Pragma">-&gt;</a> <a id="2021" class="Pragma">fmap</a> <a id="2026" class="Symbol">#-}</a>
<a id="2030" class="Symbol">{-#</a> <a id="2034" class="Keyword">COMPILE</a> <a id="2042" class="Pragma">GHC</a> <a id="2046" href="Main.html#1354" class="Postulate">mmap</a> <a id="2051" class="Pragma">=</a> <a id="2053" class="Pragma">\_</a> <a id="2056" class="Pragma">_</a> <a id="2058" class="Pragma">-&gt;</a> <a id="2061" class="Pragma">fmap</a> <a id="2066" class="Symbol">#-}</a>
<a id="2070" class="Symbol">{-#</a> <a id="2074" class="Keyword">COMPILE</a> <a id="2082" class="Pragma">GHC</a> <a id="2086" href="Main.html#1406" class="Postulate">mbind</a> <a id="2092" class="Pragma">=</a> <a id="2094" class="Pragma">\_</a> <a id="2097" class="Pragma">_</a> <a id="2099" class="Pragma">f</a> <a id="2101" class="Pragma">a</a> <a id="2103" class="Pragma">-&gt;</a> <a id="2106" class="Pragma">f</a> <a id="2108" class="Pragma">=&lt;&lt;</a> <a id="2112" class="Pragma">a</a> <a id="2114" class="Symbol">#-}</a>
<a id="2118" class="Symbol">{-#</a> <a id="2122" class="Keyword">FOREIGN</a> <a id="2130" class="Pragma">GHC</a> <a id="2134" class="Pragma">import</a> <a id="2141" class="Pragma">Data.Either</a> <a id="2153" class="Symbol">#-}</a>
<a id="2157" class="Symbol">{-#</a> <a id="2161" class="Keyword">COMPILE</a> <a id="2169" class="Pragma">GHC</a> <a id="2173" href="Main.html#1543" class="Postulate">parse</a> <a id="2179" class="Pragma">=</a> <a id="2181" class="Pragma">either</a> <a id="2188" class="Pragma">(\_</a> <a id="2192" class="Pragma">-&gt;</a> <a id="2195" class="Pragma">Nothing)</a> <a id="2204" class="Pragma">Just</a> <a id="2209" class="Pragma">.</a> <a id="2211" class="Pragma">parse</a> <a id="2217" class="Symbol">#-}</a>
<a id="2221" class="Symbol">{-#</a> <a id="2225" class="Keyword">FOREIGN</a> <a id="2233" class="Pragma">GHC</a> <a id="2237" class="Pragma">import</a> <a id="2244" class="Pragma">Language.PlutusCore</a> <a id="2264" class="Symbol">#-}</a>
<a id="2268" class="Symbol">{-#</a> <a id="2272" class="Keyword">COMPILE</a> <a id="2280" class="Pragma">GHC</a> <a id="2284" href="Main.html#1465" class="Postulate">Program</a> <a id="2292" class="Pragma">=</a> <a id="2294" class="Pragma">type</a> <a id="2299" class="Pragma">Language.PlutusCore.Program</a> <a id="2327" class="Pragma">TyName</a> <a id="2334" class="Pragma">Name</a> <a id="2339" class="Pragma">Language.PlutusCore.Lexer.AlexPosn</a> <a id="2374" class="Symbol">#-}</a>
<a id="2378" class="Symbol">{-#</a> <a id="2382" class="Keyword">COMPILE</a> <a id="2390" class="Pragma">GHC</a> <a id="2394" href="Main.html#1507" class="Postulate">readFile</a> <a id="2403" class="Pragma">=</a> <a id="2405" class="Pragma">\</a> <a id="2407" class="Pragma">s</a> <a id="2409" class="Pragma">-&gt;</a> <a id="2412" class="Pragma">BSL.readFile</a> <a id="2425" class="Pragma">(T.unpack</a> <a id="2435" class="Pragma">s)</a> <a id="2438" class="Symbol">#-}</a>
<a id="2442" class="Symbol">{-#</a> <a id="2446" class="Keyword">COMPILE</a> <a id="2454" class="Pragma">GHC</a> <a id="2458" href="Main.html#1580" class="Postulate">showTerm</a> <a id="2467" class="Pragma">=</a> <a id="2469" class="Pragma">T.pack</a> <a id="2476" class="Pragma">.</a> <a id="2478" class="Pragma">show</a> <a id="2483" class="Symbol">#-}</a>
<a id="2487" class="Keyword">open</a> <a id="2492" class="Keyword">import</a> <a id="2499" href="Function.html" class="Module">Function</a>

<a id="2509" class="Keyword">open</a> <a id="2514" class="Keyword">import</a> <a id="2521" href="Untyped.html" class="Module">Untyped</a> <a id="2529" class="Symbol">as</a> <a id="2532" class="Module">U</a>
<a id="2534" class="Keyword">import</a> <a id="2541" href="Untyped.Reduction.html" class="Module">Untyped.Reduction</a> <a id="2559" class="Symbol">as</a> <a id="2562" class="Module">U</a>
<a id="2564" class="Keyword">import</a> <a id="2571" href="Scoped.html" class="Module">Scoped</a> <a id="2578" class="Symbol">as</a> <a id="2581" class="Module">S</a>
<a id="2583" class="Keyword">import</a> <a id="2590" href="Scoped.Reduction.html" class="Module">Scoped.Reduction</a> <a id="2607" class="Symbol">as</a> <a id="2610" class="Module">S</a>

<a id="2613" class="Keyword">open</a> <a id="2618" class="Keyword">import</a> <a id="2625" href="Data.Sum.html" class="Module">Data.Sum</a>

<a id="mapper"></a><a id="2635" href="Main.html#2635" class="Function">mapper</a> <a id="2642" class="Symbol">:</a> <a id="2644" class="Symbol">{</a><a id="2645" href="Main.html#2645" class="Bound">A</a> <a id="2647" href="Main.html#2647" class="Bound">B</a> <a id="2649" class="Symbol">:</a> <a id="2651" class="PrimitiveType">Set</a><a id="2654" class="Symbol">}</a> <a id="2656" class="Symbol">→</a> <a id="2658" class="Symbol">(</a><a id="2659" href="Main.html#2645" class="Bound">A</a> <a id="2661" class="Symbol">→</a> <a id="2663" href="Main.html#2647" class="Bound">B</a><a id="2664" class="Symbol">)</a> <a id="2666" class="Symbol">→</a> <a id="2668" href="Utils.html#39" class="Datatype">Maybe</a> <a id="2674" href="Main.html#2645" class="Bound">A</a> <a id="2676" class="Symbol">→</a> <a id="2678" href="Utils.html#39" class="Datatype">Maybe</a> <a id="2684" href="Main.html#2647" class="Bound">B</a>
<a id="2686" href="Main.html#2635" class="Function">mapper</a> <a id="2693" href="Main.html#2693" class="Bound">f</a> <a id="2695" href="Utils.html#90" class="InductiveConstructor">nothing</a> <a id="2703" class="Symbol">=</a> <a id="2705" href="Utils.html#90" class="InductiveConstructor">nothing</a>
<a id="2713" href="Main.html#2635" class="Function">mapper</a> <a id="2720" href="Main.html#2720" class="Bound">f</a> <a id="2722" class="Symbol">(</a><a id="2723" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="2728" href="Main.html#2728" class="Bound">a</a><a id="2729" class="Symbol">)</a> <a id="2731" class="Symbol">=</a> <a id="2733" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="2738" class="Symbol">(</a><a id="2739" href="Main.html#2720" class="Bound">f</a> <a id="2741" href="Main.html#2728" class="Bound">a</a><a id="2742" class="Symbol">)</a>

<a id="2745" class="Keyword">open</a> <a id="2750" class="Keyword">import</a> <a id="2757" href="Untyped.html" class="Module">Untyped</a>


<a id="2767" class="Comment">-- untyped evaluation</a>
<a id="2789" class="Comment">--utestPLC : ByteString → Maybe String</a>
<a id="2828" class="Comment">--utestPLC plc = mmap (U.ugly ∘ (λ (t : 0 ⊢) → proj₁ (U.run t 100)) ∘ erase⊢) (mbind (deBruijnifyTm nil) (mmap convP (parse plc)))</a>

<a id="2960" class="Keyword">open</a> <a id="2965" class="Keyword">import</a> <a id="2972" href="Data.Fin.html" class="Module">Data.Fin</a>

<a id="2982" class="Keyword">postulate</a> <a id="prettyPrint"></a><a id="2992" href="Main.html#2992" class="Postulate">prettyPrint</a> <a id="3004" class="Symbol">:</a> <a id="3006" href="Raw.html#741" class="Datatype">RawTm</a> <a id="3012" class="Symbol">→</a> <a id="3014" href="Agda.Builtin.String.html#206" class="Postulate">String</a>

<a id="3022" class="Symbol">{-#</a> <a id="3026" class="Keyword">COMPILE</a> <a id="3034" class="Pragma">GHC</a> <a id="3038" href="Main.html#2992" class="Postulate">prettyPrint</a> <a id="3050" class="Pragma">=</a> <a id="3052" class="Pragma">prettyText</a> <a id="3063" class="Pragma">.</a> <a id="3065" class="Pragma">unconv</a> <a id="3072" class="Symbol">#-}</a>

<a id="3077" class="Keyword">open</a> <a id="3082" class="Keyword">import</a> <a id="3089" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="3098" class="Keyword">hiding</a> <a id="3105" class="Symbol">(</a><a id="3106" href="Data.Vec.html#4190" class="Function Operator">_&gt;&gt;=_</a><a id="3111" class="Symbol">)</a>

<a id="3114" class="Comment">-- extrinsically typed evaluation</a>
<a id="stestPLC"></a><a id="3148" href="Main.html#3148" class="Function">stestPLC</a> <a id="3157" class="Symbol">:</a> <a id="3159" href="Builtin.Constant.Type.html#517" class="Postulate">ByteString</a> <a id="3170" class="Symbol">→</a> <a id="3172" href="Agda.Builtin.String.html#206" class="Postulate">String</a>
<a id="3179" href="Main.html#3148" class="Function">stestPLC</a> <a id="3188" href="Main.html#3188" class="Bound">plc</a> <a id="3192" class="Keyword">with</a> <a id="3197" href="Main.html#1543" class="Postulate">parse</a> <a id="3203" href="Main.html#3188" class="Bound">plc</a>
<a id="3207" href="Main.html#3148" class="Function">stestPLC</a> <a id="3216" href="Main.html#3216" class="Bound">plc</a> <a id="3220" class="Symbol">|</a> <a id="3222" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3227" href="Main.html#3227" class="Bound">t</a> <a id="3229" class="Keyword">with</a> <a id="3234" href="Scoped.html#5271" class="Function">deBruijnifyTm</a> <a id="3248" href="Scoped.html#4261" class="InductiveConstructor">nil</a> <a id="3252" class="Symbol">(</a><a id="3253" href="Main.html#1481" class="Postulate">convP</a> <a id="3259" href="Main.html#3227" class="Bound">t</a><a id="3260" class="Symbol">)</a>
<a id="3262" href="Main.html#3148" class="Function">stestPLC</a> <a id="3271" href="Main.html#3271" class="Bound">plc</a> <a id="3275" class="Symbol">|</a> <a id="3277" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3282" href="Main.html#3282" class="Bound">t</a> <a id="3284" class="Symbol">|</a> <a id="3286" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3291" href="Main.html#3291" class="Bound">t&#39;</a> <a id="3294" class="Keyword">with</a> <a id="3299" href="Scoped.Reduction.html#12487" class="Function">S.run</a> <a id="3305" class="Symbol">(</a><a id="3306" href="Scoped.html#8255" class="Function">saturate</a> <a id="3315" href="Main.html#3291" class="Bound">t&#39;</a><a id="3317" class="Symbol">)</a> <a id="3319" class="Number">1000000</a>
<a id="3327" href="Main.html#3148" class="Function">stestPLC</a> <a id="3336" href="Main.html#3336" class="Bound">plc</a> <a id="3340" class="Symbol">|</a> <a id="3342" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3347" href="Main.html#3347" class="Bound">t</a> <a id="3349" class="Symbol">|</a> <a id="3351" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3356" href="Main.html#3356" class="Bound">t&#39;</a> <a id="3359" class="Symbol">|</a> <a id="3361" href="Main.html#3361" class="Bound">t&#39;&#39;</a> <a id="3365" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,,</a> <a id="3368" href="Main.html#3368" class="Bound">p</a> <a id="3370" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,,</a> <a id="3373" href="Data.Sum.Base.html#565" class="InductiveConstructor">inj₁</a> <a id="3378" class="Symbol">(</a><a id="3379" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3384" href="Main.html#3384" class="Bound">v</a><a id="3385" class="Symbol">)</a> <a id="3387" class="Symbol">=</a>
<a id="3389" class="Comment">--  prettyPrint (unDeBruijnify zero Z (unsaturate t&#39;&#39;))</a>
 <a id="3446" href="Main.html#2992" class="Postulate">prettyPrint</a> <a id="3458" class="Symbol">(</a><a id="3459" href="Scoped.html#12628" class="Function">deDeBruijnify</a> <a id="3473" href="Data.Vec.html#813" class="InductiveConstructor">[]</a> <a id="3476" href="Scoped.html#4261" class="InductiveConstructor">nil</a> <a id="3480" class="Symbol">(</a><a id="3481" href="Scoped.html#9162" class="Function">unsaturate</a> <a id="3492" href="Main.html#3361" class="Bound">t&#39;&#39;</a><a id="3495" class="Symbol">))</a>
<a id="3498" href="Main.html#3148" class="Function">stestPLC</a> <a id="3507" href="Main.html#3507" class="Bound">plc</a> <a id="3511" class="Symbol">|</a> <a id="3513" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3518" href="Main.html#3518" class="Bound">t</a> <a id="3520" class="Symbol">|</a> <a id="3522" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3527" href="Main.html#3527" class="Bound">t&#39;</a> <a id="3530" class="Symbol">|</a> <a id="3532" href="Main.html#3532" class="Bound">t&#39;&#39;</a> <a id="3536" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,,</a> <a id="3539" href="Main.html#3539" class="Bound">p</a> <a id="3541" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,,</a> <a id="3544" href="Data.Sum.Base.html#565" class="InductiveConstructor">inj₁</a> <a id="3549" href="Utils.html#90" class="InductiveConstructor">nothing</a> <a id="3557" class="Symbol">=</a> <a id="3559" class="String">&quot;out of fuel&quot;</a>
<a id="3573" href="Main.html#3148" class="Function">stestPLC</a> <a id="3582" href="Main.html#3582" class="Bound">plc</a> <a id="3586" class="Symbol">|</a> <a id="3588" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3593" href="Main.html#3593" class="Bound">t</a> <a id="3595" class="Symbol">|</a> <a id="3597" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3602" href="Main.html#3602" class="Bound">t&#39;</a> <a id="3605" class="Symbol">|</a> <a id="3607" href="Main.html#3607" class="Bound">t&#39;&#39;</a> <a id="3611" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,,</a> <a id="3614" href="Main.html#3614" class="Bound">p</a> <a id="3616" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,,</a> <a id="3619" href="Data.Sum.Base.html#590" class="InductiveConstructor">inj₂</a> <a id="3624" href="Main.html#3624" class="Bound">e</a> <a id="3626" class="Symbol">=</a>
  <a id="3630" class="String">&quot;runtime error&quot;</a> <a id="3646" href="Data.String.Base.html#1176" class="Function Operator">Data.String.++</a>
  <a id="3663" href="Main.html#2992" class="Postulate">prettyPrint</a> <a id="3675" class="Symbol">(</a><a id="3676" href="Scoped.html#12628" class="Function">deDeBruijnify</a> <a id="3690" href="Data.Vec.html#813" class="InductiveConstructor">[]</a> <a id="3693" href="Scoped.html#4261" class="InductiveConstructor">nil</a> <a id="3697" class="Symbol">(</a><a id="3698" href="Scoped.html#9162" class="Function">unsaturate</a> <a id="3709" href="Main.html#3607" class="Bound">t&#39;&#39;</a><a id="3712" class="Symbol">))</a>
<a id="3715" href="Main.html#3148" class="Function">stestPLC</a> <a id="3724" href="Main.html#3724" class="Bound">plc</a> <a id="3728" class="Symbol">|</a> <a id="3730" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3735" href="Main.html#3735" class="Bound">t</a> <a id="3737" class="Symbol">|</a> <a id="3739" href="Utils.html#90" class="InductiveConstructor">nothing</a> <a id="3747" class="Symbol">=</a> <a id="3749" class="String">&quot;scope error&quot;</a>
<a id="3763" href="Main.html#3148" class="Function">stestPLC</a> <a id="3772" href="Main.html#3772" class="Bound">plc</a> <a id="3776" class="Symbol">|</a> <a id="3778" href="Utils.html#90" class="InductiveConstructor">nothing</a> <a id="3786" class="Symbol">=</a> <a id="3788" class="String">&quot;parse error&quot;</a>

<a id="blah"></a><a id="3803" href="Main.html#3803" class="Function">blah</a> <a id="3808" class="Symbol">:</a> <a id="3810" href="Builtin.Constant.Type.html#517" class="Postulate">ByteString</a> <a id="3821" class="Symbol">→</a> <a id="3823" href="Agda.Builtin.String.html#206" class="Postulate">String</a>
<a id="3830" href="Main.html#3803" class="Function">blah</a> <a id="3835" href="Main.html#3835" class="Bound">plc</a> <a id="3839" class="Keyword">with</a> <a id="3844" href="Main.html#1543" class="Postulate">parse</a> <a id="3850" href="Main.html#3835" class="Bound">plc</a>
<a id="3854" href="Main.html#3803" class="Function">blah</a> <a id="3859" href="Main.html#3859" class="Bound">plc</a> <a id="3863" class="Symbol">|</a> <a id="3865" href="Utils.html#90" class="InductiveConstructor">nothing</a> <a id="3873" class="Symbol">=</a> <a id="3875" class="String">&quot;parse error&quot;</a>
<a id="3889" href="Main.html#3803" class="Function">blah</a> <a id="3894" href="Main.html#3894" class="Bound">plc</a> <a id="3898" class="Symbol">|</a> <a id="3900" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3905" href="Main.html#3905" class="Bound">t</a> <a id="3907" class="Keyword">with</a> <a id="3912" href="Scoped.html#5271" class="Function">deBruijnifyTm</a> <a id="3926" href="Scoped.html#4261" class="InductiveConstructor">nil</a> <a id="3930" class="Symbol">(</a><a id="3931" href="Main.html#1481" class="Postulate">convP</a> <a id="3937" href="Main.html#3905" class="Bound">t</a><a id="3938" class="Symbol">)</a>
<a id="3940" href="Main.html#3803" class="Function">blah</a> <a id="3945" href="Main.html#3945" class="Bound">plc</a> <a id="3949" class="Symbol">|</a> <a id="3951" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3956" href="Main.html#3956" class="Bound">t</a> <a id="3958" class="Symbol">|</a> <a id="3960" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="3965" href="Main.html#3965" class="Bound">t&#39;</a> <a id="3968" class="Symbol">=</a> <a id="3970" class="String">&quot;so far so good&quot;</a>
<a id="3987" href="Main.html#3803" class="Function">blah</a> <a id="3992" href="Main.html#3992" class="Bound">plc</a> <a id="3996" class="Symbol">|</a> <a id="3998" href="Utils.html#69" class="InductiveConstructor">just</a> <a id="4003" href="Main.html#4003" class="Bound">t</a> <a id="4005" class="Symbol">|</a> <a id="4007" href="Utils.html#90" class="InductiveConstructor">nothing</a> <a id="4015" class="Symbol">=</a> <a id="4017" class="String">&quot;deBruijnifying failed&quot;</a>

<a id="testFile"></a><a id="4042" href="Main.html#4042" class="Function">testFile</a> <a id="4051" class="Symbol">:</a> <a id="4053" href="Agda.Builtin.String.html#206" class="Postulate">String</a> <a id="4060" class="Symbol">→</a> <a id="4062" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="4065" href="Agda.Builtin.String.html#206" class="Postulate">String</a>
<a id="4072" href="Main.html#4042" class="Function">testFile</a> <a id="4081" href="Main.html#4081" class="Bound">fn</a> <a id="4084" class="Symbol">=</a> <a id="4086" class="Keyword">do</a>
  <a id="4091" href="Main.html#4091" class="Bound">t</a> <a id="4093" href="Main.html#993" class="Postulate Operator">←</a> <a id="4095" href="Main.html#1507" class="Postulate">readFile</a> <a id="4104" href="Main.html#4081" class="Bound">fn</a>
  <a id="4109" href="Main.html#953" class="Postulate">return</a> <a id="4116" class="Symbol">(</a><a id="4117" href="Main.html#3148" class="Function">stestPLC</a> <a id="4126" href="Main.html#4091" class="Bound">t</a><a id="4127" class="Symbol">)</a>


<a id="4131" class="Symbol">{-#</a> <a id="4135" class="Keyword">FOREIGN</a> <a id="4143" class="Pragma">GHC</a> <a id="4147" class="Pragma">import</a> <a id="4154" class="Pragma">System.Environment</a> <a id="4173" class="Symbol">#-}</a>

<a id="4178" class="Keyword">open</a> <a id="4183" class="Keyword">import</a> <a id="4190" href="Data.List.html" class="Module">Data.List</a>

<a id="4201" class="Keyword">postulate</a> <a id="getArgs"></a><a id="4211" href="Main.html#4211" class="Postulate">getArgs</a> <a id="4219" class="Symbol">:</a> <a id="4221" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="4224" class="Symbol">(</a><a id="4225" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="4230" href="Agda.Builtin.String.html#206" class="Postulate">String</a><a id="4236" class="Symbol">)</a>

<a id="4239" class="Symbol">{-#</a> <a id="4243" class="Keyword">COMPILE</a> <a id="4251" class="Pragma">GHC</a> <a id="4255" href="Main.html#4211" class="Postulate">getArgs</a> <a id="4263" class="Pragma">=</a> <a id="4265" class="Pragma">(fmap</a> <a id="4271" class="Pragma">.</a> <a id="4273" class="Pragma">fmap)</a> <a id="4279" class="Pragma">T.pack</a> <a id="4286" class="Pragma">$</a> <a id="4288" class="Pragma">getArgs</a> <a id="4296" class="Symbol">#-}</a>

<a id="main"></a><a id="4301" href="Main.html#4301" class="Function">main</a> <a id="4306" class="Symbol">:</a> <a id="4308" href="Agda.Builtin.IO.html#111" class="Postulate">IO</a> <a id="4311" href="Agda.Builtin.Unit.html#137" class="Record">⊤</a>
<a id="4313" href="Main.html#4301" class="Function">main</a> <a id="4318" class="Symbol">=</a> <a id="4320" class="Keyword">do</a>
  <a id="4325" class="Symbol">(</a><a id="4326" href="Main.html#4326" class="Bound">arg</a> <a id="4330" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="4332" href="Main.html#4332" class="Bound">args</a><a id="4336" class="Symbol">)</a> <a id="4338" href="Main.html#993" class="Postulate Operator">←</a> <a id="4340" href="Main.html#4211" class="Postulate">getArgs</a>
    <a id="4352" class="Keyword">where</a> <a id="4358" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="4361" class="Symbol">→</a> <a id="4363" href="Main.html#953" class="Postulate">return</a> <a id="4370" class="Symbol">_</a>
  <a id="4374" href="Main.html#4042" class="Function">testFile</a> <a id="4383" href="Main.html#4326" class="Bound">arg</a> <a id="4387" href="Main.html#993" class="Postulate Operator">&gt;&gt;=</a> <a id="4391" href="Main.html#135" class="Postulate">putStrLn</a>

<a id="ex0"></a><a id="4401" href="Main.html#4401" class="Function">ex0</a> <a id="4405" class="Symbol">:</a> <a id="4407" href="Raw.html#741" class="Datatype">RawTm</a>
<a id="4413" href="Main.html#4401" class="Function">ex0</a> <a id="4417" class="Symbol">=</a> <a id="4419" href="Raw.html#944" class="InductiveConstructor">con</a> <a id="4423" class="Symbol">(</a><a id="4424" href="Raw.html#640" class="InductiveConstructor">integer</a> <a id="4432" class="Symbol">(</a><a id="4433" href="Agda.Builtin.Int.html#237" class="InductiveConstructor">pos</a> <a id="4437" class="Number">1</a><a id="4438" class="Symbol">))</a>

<a id="4442" class="Comment">{-
ex1 : RawTm
ex1 = (Λ &quot;s&quot; # (ƛ &quot;i&quot; (_·_ (con integer) (` &quot;s&quot;)) (_·_ (_·_ (_·⋆_ (builtin addInteger) (` &quot;s&quot;)) (` &quot;i&quot;)) (_·_ (_·_ (_·⋆_ (_·⋆_ (builtin resizeInteger) (size 2)) (` &quot;s&quot;)) (_·_ (_·⋆_ (builtin sizeOfInteger) (` &quot;s&quot;)) (` &quot;i&quot;))) (con (integer 2 (pos 1)))))))
-}</a>

<a id="4715" class="Keyword">open</a> <a id="4720" class="Keyword">import</a> <a id="4727" href="Scoped.Reduction.html" class="Module">Scoped.Reduction</a>
<a id="frun"></a><a id="4744" href="Main.html#4744" class="Function">frun</a> <a id="4749" class="Symbol">:</a>  <a id="4752" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="4754" class="Symbol">→</a> <a id="4756" class="Symbol">(</a><a id="4757" href="Main.html#4757" class="Bound">t</a> <a id="4759" class="Symbol">:</a> <a id="4761" href="Scoped.html#2022" class="Datatype">ScopedTm</a> <a id="4770" href="Scoped.html#1329" class="InductiveConstructor">Z</a><a id="4771" class="Symbol">)</a>
    <a id="4777" class="Symbol">→</a> <a id="4779" href="Agda.Builtin.Sigma.html#139" class="Record">Σ</a> <a id="4781" class="Symbol">(</a><a id="4782" href="Scoped.html#2022" class="Datatype">ScopedTm</a> <a id="4791" href="Scoped.html#1329" class="InductiveConstructor">Z</a><a id="4792" class="Symbol">)</a> <a id="4794" class="Symbol">λ</a> <a id="4796" href="Main.html#4796" class="Bound">t&#39;</a> <a id="4799" class="Symbol">→</a> <a id="4801" href="Main.html#4757" class="Bound">t</a> <a id="4803" href="Scoped.Reduction.html#8327" class="Datatype Operator">—→⋆</a> <a id="4807" href="Main.html#4796" class="Bound">t&#39;</a> <a id="4810" href="Data.Product.html#1389" class="Function Operator">×</a> <a id="4812" class="Symbol">(</a><a id="4813" href="Utils.html#39" class="Datatype">Maybe</a> <a id="4819" class="Symbol">(</a><a id="4820" href="Scoped.Reduction.html#620" class="Datatype">Value</a> <a id="4826" href="Main.html#4796" class="Bound">t&#39;</a><a id="4828" class="Symbol">)</a> <a id="4830" href="Data.Sum.Base.html#509" class="Datatype Operator">⊎</a> <a id="4832" href="Scoped.Reduction.html#1350" class="Datatype">Error</a> <a id="4838" href="Main.html#4796" class="Bound">t&#39;</a><a id="4840" class="Symbol">)</a>
<a id="4842" href="Main.html#4744" class="Function">frun</a> <a id="4847" href="Main.html#4847" class="Bound">n</a> <a id="4849" href="Main.html#4849" class="Bound">t</a> <a id="4851" class="Symbol">=</a> <a id="4853" href="Scoped.Reduction.html#12487" class="Function">run</a> <a id="4857" href="Main.html#4849" class="Bound">t</a> <a id="4859" href="Main.html#4847" class="Bound">n</a>
<a id="4861" class="Markup">\end{code}</a><a id="4871" class="Background">

deBruijnifyTm nil ex1

just
(Λ &quot;s&quot; #
 (ƛ &quot;i&quot; (con integer · ` zero)
  (((builtin addInteger [] [] ·⋆ ` zero) · ` Z) ·
   ((((builtin resizeInteger [] [] ·⋆ size 2) ·⋆ ` zero) ·
     ((builtin sizeOfInteger [] [] ·⋆ ` zero) · ` Z))
    · con (integer 2 (pos 1) tt)))))

mapper saturate (deBruijnifyTm nil ex1)

just
(Λ &quot;s&quot; #
 (ƛ &quot;i&quot; (con integer · ` zero)
  (builtin addInteger (` zero ∷ [])
   (` Z ∷
    builtin resizeInteger (size 2 ∷ ` zero ∷ [])
    (builtin sizeOfInteger (` zero ∷ []) (` Z ∷ []) ∷
     con (integer 2 (pos 1) tt) ∷ [])
    ∷ []))))

unsaturate

Λ &quot;s&quot; #
(ƛ &quot;i&quot; (con integer · ` zero)
 (builtin addInteger (` zero ∷ [])
  (` Z ∷
   builtin resizeInteger (size 2 ∷ ` zero ∷ [])
   (builtin sizeOfInteger (` zero ∷ []) (` Z ∷ []) ∷
    con (integer 2 (pos 1) tt) ∷ [])
   ∷ [])))
</a></pre></body></html>