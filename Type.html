<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Type</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Markup">\begin{code}</a>
<a id="14" class="Keyword">module</a> <a id="21" href="Type.html" class="Module">Type</a> <a id="26" class="Keyword">where</a>
<a id="32" class="Markup">\end{code}</a><a id="42" class="Background">

## Fixity declarations

To begin, we get all our infix declarations out of the way.

</a><a id="129" class="Markup">\begin{code}</a>
<a id="142" class="Keyword">infix</a>  <a id="149" class="Number">4</a> <a id="151" href="Type.html#1217" class="Datatype Operator">_∋⋆_</a>
<a id="156" class="Keyword">infix</a>  <a id="163" class="Number">4</a> <a id="165" href="Type.html#1945" class="Datatype Operator">_⊢⋆_</a>
<a id="170" class="Keyword">infixl</a> <a id="177" class="Number">5</a> <a id="179" href="Type.html#896" class="InductiveConstructor Operator">_,⋆_</a>

<a id="185" class="Keyword">infix</a>  <a id="192" class="Number">6</a> <a id="194" href="Type.html#2035" class="InductiveConstructor">Π</a>
<a id="196" class="Keyword">infixr</a> <a id="203" class="Number">7</a> <a id="205" href="Type.html#2112" class="InductiveConstructor Operator">_⇒_</a>

<a id="210" class="Keyword">infix</a>  <a id="217" class="Number">5</a> <a id="219" href="Type.html#2179" class="InductiveConstructor">ƛ</a>
<a id="221" class="Keyword">infixl</a> <a id="228" class="Number">7</a> <a id="230" href="Type.html#2264" class="InductiveConstructor Operator">_·_</a>
<a id="234" class="Keyword">infix</a>  <a id="241" class="Number">9</a> <a id="243" href="Type.html#1304" class="InductiveConstructor">S</a>
<a id="245" class="Markup">\end{code}</a><a id="255" class="Background">

## Imports

</a><a id="269" class="Markup">\begin{code}</a>
<a id="282" class="Keyword">open</a> <a id="287" class="Keyword">import</a> <a id="294" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a>

<a id="312" class="Keyword">open</a> <a id="317" class="Keyword">import</a> <a id="324" href="Builtin.Constant.Type.html" class="Module">Builtin.Constant.Type</a>
<a id="346" class="Markup">\end{code}</a><a id="356" class="Background">

## Kinds

The kind of types is `*`. Plutus core core is based on System Fω which
is higher order so we have `⇒` for type level functions. We also have
a kind called `#` which is used for sized integers and bytestrings.

</a><a id="578" class="Markup">\begin{code}</a>
<a id="591" class="Keyword">data</a> <a id="Kind"></a><a id="596" href="Type.html#596" class="Datatype">Kind</a> <a id="601" class="Symbol">:</a> <a id="603" class="PrimitiveType">Set</a> <a id="607" class="Keyword">where</a>
  <a id="Kind.*"></a><a id="615" href="Type.html#615" class="InductiveConstructor">*</a>   <a id="619" class="Symbol">:</a> <a id="621" href="Type.html#596" class="Datatype">Kind</a>               <a id="640" class="Comment">-- type</a>
  <a id="Kind._⇒_"></a><a id="650" href="Type.html#650" class="InductiveConstructor Operator">_⇒_</a> <a id="654" class="Symbol">:</a> <a id="656" href="Type.html#596" class="Datatype">Kind</a> <a id="661" class="Symbol">→</a> <a id="663" href="Type.html#596" class="Datatype">Kind</a> <a id="668" class="Symbol">→</a> <a id="670" href="Type.html#596" class="Datatype">Kind</a> <a id="675" class="Comment">-- function kind</a>
<a id="692" class="Markup">\end{code}</a><a id="702" class="Background">

Let `J`, `K` range over kinds.

## Type contexts

A type context is either empty or extends a type
context by a type variable of a given kind.

</a><a id="848" class="Markup">\begin{code}</a>
<a id="861" class="Keyword">data</a> <a id="Ctx⋆"></a><a id="866" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="871" class="Symbol">:</a> <a id="873" class="PrimitiveType">Set</a> <a id="877" class="Keyword">where</a>
  <a id="Ctx⋆.∅"></a><a id="885" href="Type.html#885" class="InductiveConstructor">∅</a> <a id="887" class="Symbol">:</a> <a id="889" href="Type.html#866" class="Datatype">Ctx⋆</a>
  <a id="Ctx⋆._,⋆_"></a><a id="896" href="Type.html#896" class="InductiveConstructor Operator">_,⋆_</a> <a id="901" class="Symbol">:</a> <a id="903" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="908" class="Symbol">→</a> <a id="910" href="Type.html#596" class="Datatype">Kind</a> <a id="915" class="Symbol">→</a> <a id="917" href="Type.html#866" class="Datatype">Ctx⋆</a>
<a id="922" class="Markup">\end{code}</a><a id="932" class="Background">

Let `Φ`, `Ψ` range over type contexts.

## Type variables

Type variables are not named, they are numbered (de Bruijn indices).

A type variable is indexed by its context and kind. For a given
context, it&#39;s impossible to construct a variable that is out of
scope.

</a><a id="1199" class="Markup">\begin{code}</a>
<a id="1212" class="Keyword">data</a> <a id="_∋⋆_"></a><a id="1217" href="Type.html#1217" class="Datatype Operator">_∋⋆_</a> <a id="1222" class="Symbol">:</a> <a id="1224" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="1229" class="Symbol">→</a> <a id="1231" href="Type.html#596" class="Datatype">Kind</a> <a id="1236" class="Symbol">→</a> <a id="1238" class="PrimitiveType">Set</a> <a id="1242" class="Keyword">where</a>

  <a id="_∋⋆_.Z"></a><a id="1251" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="1253" class="Symbol">:</a> <a id="1255" class="Symbol">∀</a> <a id="1257" class="Symbol">{</a><a id="1258" href="Type.html#1258" class="Bound">Φ</a> <a id="1260" href="Type.html#1260" class="Bound">J</a><a id="1261" class="Symbol">}</a>
      <a id="1269" class="Comment">-------------</a>
    <a id="1287" class="Symbol">→</a> <a id="1289" href="Type.html#1258" class="Bound">Φ</a> <a id="1291" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="1294" href="Type.html#1260" class="Bound">J</a> <a id="1296" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1299" href="Type.html#1260" class="Bound">J</a>

  <a id="_∋⋆_.S"></a><a id="1304" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1306" class="Symbol">:</a> <a id="1308" class="Symbol">∀</a> <a id="1310" class="Symbol">{</a><a id="1311" href="Type.html#1311" class="Bound">Φ</a> <a id="1313" href="Type.html#1313" class="Bound">J</a> <a id="1315" href="Type.html#1315" class="Bound">K</a><a id="1316" class="Symbol">}</a>
    <a id="1322" class="Symbol">→</a> <a id="1324" href="Type.html#1311" class="Bound">Φ</a> <a id="1326" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1329" href="Type.html#1313" class="Bound">J</a>
      <a id="1337" class="Comment">-------------</a>
    <a id="1355" class="Symbol">→</a> <a id="1357" href="Type.html#1311" class="Bound">Φ</a> <a id="1359" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="1362" href="Type.html#1315" class="Bound">K</a> <a id="1364" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1367" href="Type.html#1313" class="Bound">J</a>
<a id="1369" class="Markup">\end{code}</a><a id="1379" class="Background">

Let `α`, `β` range over type variables.

## Types

A type is indexed by its context and kind. Types are intrinsically
scoped and kinded: it&#39;s impossible to construct an ill-kinded
application and it&#39;s impossible to refer to a variable that is not in
scope.

A type is either a type variable, a pi type, a function type, a
lambda, an application, an iso-recursive type `μ`, a size, or a type
constant (base type). Note that recursive types range over an
arbitrary kind `k` which goes beyond standard iso-recursive types.

</a><a id="1902" class="Markup">\begin{code}</a>
<a id="1915" class="Keyword">open</a> <a id="1920" class="Keyword">import</a> <a id="1927" href="Data.String.html" class="Module">Data.String</a>

<a id="1940" class="Keyword">data</a> <a id="_⊢⋆_"></a><a id="1945" href="Type.html#1945" class="Datatype Operator">_⊢⋆_</a> <a id="1950" class="Symbol">:</a> <a id="1952" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="1957" class="Symbol">→</a> <a id="1959" href="Type.html#596" class="Datatype">Kind</a> <a id="1964" class="Symbol">→</a> <a id="1966" class="PrimitiveType">Set</a> <a id="1970" class="Keyword">where</a>

  <a id="_⊢⋆_.`"></a><a id="1979" href="Type.html#1979" class="InductiveConstructor">`</a> <a id="1981" class="Symbol">:</a> <a id="1983" class="Symbol">∀</a> <a id="1985" class="Symbol">{</a><a id="1986" href="Type.html#1986" class="Bound">Φ</a> <a id="1988" href="Type.html#1988" class="Bound">J</a><a id="1989" class="Symbol">}</a>
    <a id="1995" class="Symbol">→</a> <a id="1997" href="Type.html#1986" class="Bound">Φ</a> <a id="1999" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="2002" href="Type.html#1988" class="Bound">J</a>
      <a id="2010" class="Comment">--------</a>
    <a id="2023" class="Symbol">→</a> <a id="2025" href="Type.html#1986" class="Bound">Φ</a> <a id="2027" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2030" href="Type.html#1988" class="Bound">J</a>

  <a id="_⊢⋆_.Π"></a><a id="2035" href="Type.html#2035" class="InductiveConstructor">Π</a> <a id="2037" class="Symbol">:</a> <a id="2039" class="Symbol">∀</a> <a id="2041" class="Symbol">{</a><a id="2042" href="Type.html#2042" class="Bound">Φ</a> <a id="2044" href="Type.html#2044" class="Bound">K</a><a id="2045" class="Symbol">}</a>
    <a id="2051" class="Symbol">→</a> <a id="2053" href="Agda.Builtin.String.html#206" class="Postulate">String</a>
    <a id="2064" class="Symbol">→</a> <a id="2066" href="Type.html#2042" class="Bound">Φ</a> <a id="2068" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="2071" href="Type.html#2044" class="Bound">K</a> <a id="2073" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2076" href="Type.html#615" class="InductiveConstructor">*</a>
      <a id="2084" class="Comment">-----------</a>
    <a id="2100" class="Symbol">→</a> <a id="2102" href="Type.html#2042" class="Bound">Φ</a> <a id="2104" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2107" href="Type.html#615" class="InductiveConstructor">*</a>

  <a id="_⊢⋆_._⇒_"></a><a id="2112" href="Type.html#2112" class="InductiveConstructor Operator">_⇒_</a> <a id="2116" class="Symbol">:</a> <a id="2118" class="Symbol">∀</a> <a id="2120" class="Symbol">{</a><a id="2121" href="Type.html#2121" class="Bound">Φ</a><a id="2122" class="Symbol">}</a>
    <a id="2128" class="Symbol">→</a> <a id="2130" href="Type.html#2121" class="Bound">Φ</a> <a id="2132" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2135" href="Type.html#615" class="InductiveConstructor">*</a>
    <a id="2141" class="Symbol">→</a> <a id="2143" href="Type.html#2121" class="Bound">Φ</a> <a id="2145" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2148" href="Type.html#615" class="InductiveConstructor">*</a>
      <a id="2156" class="Comment">------</a>
    <a id="2167" class="Symbol">→</a> <a id="2169" href="Type.html#2121" class="Bound">Φ</a> <a id="2171" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2174" href="Type.html#615" class="InductiveConstructor">*</a>

  <a id="_⊢⋆_.ƛ"></a><a id="2179" href="Type.html#2179" class="InductiveConstructor">ƛ</a> <a id="2181" class="Symbol">:</a>  <a id="2184" class="Symbol">∀</a> <a id="2186" class="Symbol">{</a><a id="2187" href="Type.html#2187" class="Bound">Φ</a> <a id="2189" href="Type.html#2189" class="Bound">K</a> <a id="2191" href="Type.html#2191" class="Bound">J</a><a id="2192" class="Symbol">}</a>
    <a id="2198" class="Symbol">→</a> <a id="2200" href="Agda.Builtin.String.html#206" class="Postulate">String</a>
    <a id="2211" class="Symbol">→</a> <a id="2213" href="Type.html#2187" class="Bound">Φ</a> <a id="2215" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="2218" href="Type.html#2189" class="Bound">K</a> <a id="2220" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2223" href="Type.html#2191" class="Bound">J</a> 
      <a id="2232" class="Comment">-----------</a>
    <a id="2248" class="Symbol">→</a> <a id="2250" href="Type.html#2187" class="Bound">Φ</a> <a id="2252" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2255" href="Type.html#2189" class="Bound">K</a> <a id="2257" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2259" href="Type.html#2191" class="Bound">J</a>

  <a id="_⊢⋆_._·_"></a><a id="2264" href="Type.html#2264" class="InductiveConstructor Operator">_·_</a> <a id="2268" class="Symbol">:</a> <a id="2270" class="Symbol">∀{</a><a id="2272" href="Type.html#2272" class="Bound">Φ</a> <a id="2274" href="Type.html#2274" class="Bound">K</a> <a id="2276" href="Type.html#2276" class="Bound">J</a><a id="2277" class="Symbol">}</a>
    <a id="2283" class="Symbol">→</a> <a id="2285" href="Type.html#2272" class="Bound">Φ</a> <a id="2287" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2290" href="Type.html#2274" class="Bound">K</a> <a id="2292" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2294" href="Type.html#2276" class="Bound">J</a>
    <a id="2300" class="Symbol">→</a> <a id="2302" href="Type.html#2272" class="Bound">Φ</a> <a id="2304" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2307" href="Type.html#2274" class="Bound">K</a>
      <a id="2315" class="Comment">------</a>
    <a id="2326" class="Symbol">→</a> <a id="2328" href="Type.html#2272" class="Bound">Φ</a> <a id="2330" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2333" href="Type.html#2276" class="Bound">J</a>

  <a id="_⊢⋆_.μ1"></a><a id="2338" href="Type.html#2338" class="InductiveConstructor">μ1</a> <a id="2341" class="Symbol">:</a> <a id="2343" class="Symbol">∀{</a><a id="2345" href="Type.html#2345" class="Bound">φ</a> <a id="2347" href="Type.html#2347" class="Bound">K</a><a id="2348" class="Symbol">}</a>
      <a id="2356" class="Comment">--------------------------------</a>
    <a id="2393" class="Symbol">→</a> <a id="2395" href="Type.html#2345" class="Bound">φ</a> <a id="2397" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2400" class="Symbol">((</a><a id="2402" href="Type.html#2347" class="Bound">K</a> <a id="2404" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2406" href="Type.html#615" class="InductiveConstructor">*</a><a id="2407" class="Symbol">)</a> <a id="2409" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2411" href="Type.html#2347" class="Bound">K</a> <a id="2413" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2415" href="Type.html#615" class="InductiveConstructor">*</a><a id="2416" class="Symbol">)</a> <a id="2418" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2420" href="Type.html#2347" class="Bound">K</a> <a id="2422" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2424" href="Type.html#615" class="InductiveConstructor">*</a>

  <a id="_⊢⋆_.con"></a><a id="2429" href="Type.html#2429" class="InductiveConstructor">con</a> <a id="2433" class="Symbol">:</a> <a id="2435" class="Symbol">∀{</a><a id="2437" href="Type.html#2437" class="Bound">φ</a><a id="2438" class="Symbol">}</a>
    <a id="2444" class="Symbol">→</a> <a id="2446" href="Builtin.Constant.Type.html#4857" class="Datatype">TyCon</a>
      <a id="2458" class="Comment">------</a>
    <a id="2469" class="Symbol">→</a> <a id="2471" href="Type.html#2437" class="Bound">φ</a> <a id="2473" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2476" href="Type.html#615" class="InductiveConstructor">*</a>

<a id="2479" class="Markup">\end{code}</a><a id="2489" class="Background">

Let `A`, `B`, `C` range over types.

## Type Abbreviations
TODO: these should be in the stdlib
</a><a id="2586" class="Markup">\begin{code}</a>
<a id="unit"></a><a id="2599" href="Type.html#2599" class="Function">unit</a> <a id="2604" class="Symbol">:</a> <a id="2606" class="Symbol">∀{</a><a id="2608" href="Type.html#2608" class="Bound">Γ</a><a id="2609" class="Symbol">}</a> <a id="2611" class="Symbol">→</a> <a id="2613" href="Type.html#2608" class="Bound">Γ</a> <a id="2615" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2618" href="Type.html#615" class="InductiveConstructor">*</a>
<a id="2620" href="Type.html#2599" class="Function">unit</a> <a id="2625" class="Symbol">=</a> <a id="2627" href="Type.html#2035" class="InductiveConstructor">Π</a> <a id="2629" class="String">&quot;α&quot;</a> <a id="2633" class="Symbol">(</a><a id="2634" href="Type.html#1979" class="InductiveConstructor">`</a> <a id="2636" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="2638" href="Type.html#2112" class="InductiveConstructor Operator">⇒</a> <a id="2640" href="Type.html#1979" class="InductiveConstructor">`</a> <a id="2642" href="Type.html#1251" class="InductiveConstructor">Z</a><a id="2643" class="Symbol">)</a>

<a id="boolean"></a><a id="2646" href="Type.html#2646" class="Function">boolean</a> <a id="2654" class="Symbol">:</a> <a id="2656" class="Symbol">∀{</a><a id="2658" href="Type.html#2658" class="Bound">Γ</a><a id="2659" class="Symbol">}</a> <a id="2661" class="Symbol">→</a> <a id="2663" href="Type.html#2658" class="Bound">Γ</a> <a id="2665" href="Type.html#1945" class="Datatype Operator">⊢⋆</a> <a id="2668" href="Type.html#615" class="InductiveConstructor">*</a>
<a id="2670" href="Type.html#2646" class="Function">boolean</a> <a id="2678" class="Symbol">=</a> <a id="2680" href="Type.html#2035" class="InductiveConstructor">Π</a> <a id="2682" class="String">&quot;α&quot;</a> <a id="2686" class="Symbol">(</a><a id="2687" href="Type.html#1979" class="InductiveConstructor">`</a> <a id="2689" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="2691" href="Type.html#2112" class="InductiveConstructor Operator">⇒</a> <a id="2693" href="Type.html#1979" class="InductiveConstructor">`</a> <a id="2695" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="2697" href="Type.html#2112" class="InductiveConstructor Operator">⇒</a> <a id="2699" href="Type.html#1979" class="InductiveConstructor">`</a> <a id="2701" href="Type.html#1251" class="InductiveConstructor">Z</a><a id="2702" class="Symbol">)</a>
<a id="2704" class="Markup">\end{code}</a><a id="2714" class="Background">
</a></pre></body></html>