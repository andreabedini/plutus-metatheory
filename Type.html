<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Type</title><link rel="stylesheet" href="Agda.css"></head><body><pre>\begin{code}
<a id="14" class="Keyword">module</a> <a id="21" href="Type.html" class="Module">Type</a> <a id="26" class="Keyword">where</a>
\end{code}<a id="42" class="Comment">

## Fixity declarations

To begin, we get all our infix declarations out of the way.

</a>\begin{code}
<a id="142" class="Keyword">infix</a>  <a id="149" class="Number">4</a> <a id="151" href="Type.html#1217" class="Datatype Operator">_∋⋆_</a>
<a id="156" class="Keyword">infix</a>  <a id="163" class="Number">4</a> <a id="165" href="Type.html#2168" class="Datatype Operator">_⊢⋆_</a>
<a id="170" class="Keyword">infixl</a> <a id="177" class="Number">5</a> <a id="179" href="Type.html#896" class="InductiveConstructor Operator">_,⋆_</a>

<a id="185" class="Keyword">infix</a>  <a id="192" class="Number">6</a> <a id="194" href="Type.html#2258" class="InductiveConstructor">Π</a>
<a id="196" class="Keyword">infixr</a> <a id="203" class="Number">7</a> <a id="205" href="Type.html#650" class="InductiveConstructor Operator">_⇒_</a>

<a id="210" class="Keyword">infix</a>  <a id="217" class="Number">5</a> <a id="219" href="Type.html#2389" class="InductiveConstructor">ƛ</a>
<a id="221" class="Keyword">infixl</a> <a id="228" class="Number">7</a> <a id="230" href="Type.html#2461" class="InductiveConstructor Operator">_·_</a>
<a id="234" class="Keyword">infix</a>  <a id="241" class="Number">9</a> <a id="243" href="Type.html#1304" class="InductiveConstructor">S</a>
\end{code}<a id="255" class="Comment">

## Imports

</a>\begin{code}
<a id="282" class="Keyword">open</a> <a id="287" class="Keyword">import</a> <a id="294" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a>
\end{code}<a id="321" class="Comment">

## Kinds

The kind of types is `*`. Plutus core core is based on System Fω which
is higher order so we have `⇒` for type level functions. We also have
a kind called `#` which is used for sized integers and bytestrings.

</a>\begin{code}
<a id="556" class="Keyword">data</a> <a id="Kind"></a><a id="561" href="Type.html#561" class="Datatype">Kind</a> <a id="566" class="Symbol">:</a> <a id="568" class="PrimitiveType">Set</a> <a id="572" class="Keyword">where</a>
  <a id="Kind.*"></a><a id="580" href="Type.html#580" class="InductiveConstructor">*</a>   <a id="584" class="Symbol">:</a> <a id="586" href="Type.html#561" class="Datatype">Kind</a>               <a id="605" class="Comment">-- type</a>
  <a id="Kind.#"></a><a id="615" href="Type.html#615" class="InductiveConstructor">#</a>   <a id="619" class="Symbol">:</a> <a id="621" href="Type.html#561" class="Datatype">Kind</a>               <a id="640" class="Comment">-- size</a>
  <a id="Kind._⇒_"></a><a id="650" href="Type.html#650" class="InductiveConstructor Operator">_⇒_</a> <a id="654" class="Symbol">:</a> <a id="656" href="Type.html#561" class="Datatype">Kind</a> <a id="661" class="Symbol">→</a> <a id="663" href="Type.html#561" class="Datatype">Kind</a> <a id="668" class="Symbol">→</a> <a id="670" href="Type.html#561" class="Datatype">Kind</a> <a id="675" class="Comment">-- function kind</a>
\end{code}<a id="702" class="Comment">

Let `J`, `K` range over kinds.

## Type contexts

A type context is either empty or extends a type
context by a type variable of a given kind.

</a>\begin{code}
<a id="861" class="Keyword">data</a> <a id="Ctx⋆"></a><a id="866" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="871" class="Symbol">:</a> <a id="873" class="PrimitiveType">Set</a> <a id="877" class="Keyword">where</a>
  <a id="Ctx⋆.∅"></a><a id="885" href="Type.html#885" class="InductiveConstructor">∅</a> <a id="887" class="Symbol">:</a> <a id="889" href="Type.html#866" class="Datatype">Ctx⋆</a>
  <a id="Ctx⋆._,⋆_"></a><a id="896" href="Type.html#896" class="InductiveConstructor Operator">_,⋆_</a> <a id="901" class="Symbol">:</a> <a id="903" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="908" class="Symbol">→</a> <a id="910" href="Type.html#561" class="Datatype">Kind</a> <a id="915" class="Symbol">→</a> <a id="917" href="Type.html#866" class="Datatype">Ctx⋆</a>
\end{code}<a id="932" class="Comment">

Let `Φ`, `Ψ` range over type contexts.

## Type variables

Type variables are not named, they are numbered (de Bruijn indices).

A type variable is indexed by its context and kind. For a given
context, it&#39;s impossible to construct a variable that is out of
scope.

</a>\begin{code}
<a id="1212" class="Keyword">data</a> <a id="_∋⋆_"></a><a id="1217" href="Type.html#1217" class="Datatype Operator">_∋⋆_</a> <a id="1222" class="Symbol">:</a> <a id="1224" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="1229" class="Symbol">→</a> <a id="1231" href="Type.html#561" class="Datatype">Kind</a> <a id="1236" class="Symbol">→</a> <a id="1238" class="PrimitiveType">Set</a> <a id="1242" class="Keyword">where</a>

  <a id="_∋⋆_.Z"></a><a id="1251" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="1253" class="Symbol">:</a> <a id="1255" class="Symbol">∀</a> <a id="1257" class="Symbol">{</a><a id="1258" href="Type.html#1258" class="Bound">Φ</a> <a id="1260" href="Type.html#1260" class="Bound">J</a><a id="1261" class="Symbol">}</a>
      <a id="1269" class="Comment">-------------</a>
    <a id="1287" class="Symbol">→</a> <a id="1289" href="Type.html#1258" class="Bound">Φ</a> <a id="1291" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="1294" href="Type.html#1260" class="Bound">J</a> <a id="1296" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1299" href="Type.html#1260" class="Bound">J</a>

  <a id="_∋⋆_.S"></a><a id="1304" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1306" class="Symbol">:</a> <a id="1308" class="Symbol">∀</a> <a id="1310" class="Symbol">{</a><a id="1311" href="Type.html#1311" class="Bound">Φ</a> <a id="1313" href="Type.html#1313" class="Bound">J</a> <a id="1315" href="Type.html#1315" class="Bound">K</a><a id="1316" class="Symbol">}</a>
    <a id="1322" class="Symbol">→</a> <a id="1324" href="Type.html#1311" class="Bound">Φ</a> <a id="1326" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1329" href="Type.html#1313" class="Bound">J</a>
      <a id="1337" class="Comment">-------------</a>
    <a id="1355" class="Symbol">→</a> <a id="1357" href="Type.html#1311" class="Bound">Φ</a> <a id="1359" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="1362" href="Type.html#1315" class="Bound">K</a> <a id="1364" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1367" href="Type.html#1313" class="Bound">J</a>
\end{code}<a id="1379" class="Comment">

Let `α`, `β` range over type variables.

## Type constants

We have three base types referred to as type constants, integer,
bytestring, and size, size is used to limit the size of integers and
bytestrings

</a>\begin{code}
<a id="1601" class="Keyword">data</a> <a id="TyCon"></a><a id="1606" href="Type.html#1606" class="Datatype">TyCon</a> <a id="1612" class="Symbol">:</a> <a id="1614" class="PrimitiveType">Set</a> <a id="1618" class="Keyword">where</a>
  <a id="TyCon.integer"></a><a id="1626" href="Type.html#1626" class="InductiveConstructor">integer</a> <a id="TyCon.bytestring"></a><a id="1634" href="Type.html#1634" class="InductiveConstructor">bytestring</a> <a id="TyCon.size"></a><a id="1645" href="Type.html#1645" class="InductiveConstructor">size</a> <a id="1650" class="Symbol">:</a> <a id="1652" href="Type.html#1606" class="Datatype">TyCon</a>
\end{code}<a id="1668" class="Comment">

## Types

A type is indexed by its context and kind. Types are intrinsically
scoped and kinded: it&#39;s impossible to construct an ill-kinded
application and it&#39;s impossible to refer to a variable that is not in
scope.

A type is either a type variable, a pi type, a function type, a
lambda, an application, an iso-recursive type `μ`, a size, or a type
constant (base type). Note that recursive types range over an
arbitrary kind `k` which goes beyond standard iso-recursive types.

</a>\begin{code}
<a id="2163" class="Keyword">data</a> <a id="_⊢⋆_"></a><a id="2168" href="Type.html#2168" class="Datatype Operator">_⊢⋆_</a> <a id="2173" class="Symbol">:</a> <a id="2175" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="2180" class="Symbol">→</a> <a id="2182" href="Type.html#561" class="Datatype">Kind</a> <a id="2187" class="Symbol">→</a> <a id="2189" class="PrimitiveType">Set</a> <a id="2193" class="Keyword">where</a>

  <a id="_⊢⋆_.`"></a><a id="2202" href="Type.html#2202" class="InductiveConstructor">`</a> <a id="2204" class="Symbol">:</a> <a id="2206" class="Symbol">∀</a> <a id="2208" class="Symbol">{</a><a id="2209" href="Type.html#2209" class="Bound">Φ</a> <a id="2211" href="Type.html#2211" class="Bound">J</a><a id="2212" class="Symbol">}</a>
    <a id="2218" class="Symbol">→</a> <a id="2220" href="Type.html#2209" class="Bound">Φ</a> <a id="2222" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="2225" href="Type.html#2211" class="Bound">J</a>
      <a id="2233" class="Comment">--------</a>
    <a id="2246" class="Symbol">→</a> <a id="2248" href="Type.html#2209" class="Bound">Φ</a> <a id="2250" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2253" href="Type.html#2211" class="Bound">J</a>

  <a id="_⊢⋆_.Π"></a><a id="2258" href="Type.html#2258" class="InductiveConstructor">Π</a> <a id="2260" class="Symbol">:</a> <a id="2262" class="Symbol">∀</a> <a id="2264" class="Symbol">{</a><a id="2265" href="Type.html#2265" class="Bound">Φ</a> <a id="2267" href="Type.html#2267" class="Bound">K</a><a id="2268" class="Symbol">}</a>
    <a id="2274" class="Symbol">→</a> <a id="2276" href="Type.html#2265" class="Bound">Φ</a> <a id="2278" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="2281" href="Type.html#2267" class="Bound">K</a> <a id="2283" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2286" href="Type.html#580" class="InductiveConstructor">*</a>
      <a id="2294" class="Comment">-----------</a>
    <a id="2310" class="Symbol">→</a> <a id="2312" href="Type.html#2265" class="Bound">Φ</a> <a id="2314" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2317" href="Type.html#580" class="InductiveConstructor">*</a>

  <a id="_⊢⋆_._⇒_"></a><a id="2322" href="Type.html#2322" class="InductiveConstructor Operator">_⇒_</a> <a id="2326" class="Symbol">:</a> <a id="2328" class="Symbol">∀</a> <a id="2330" class="Symbol">{</a><a id="2331" href="Type.html#2331" class="Bound">Φ</a><a id="2332" class="Symbol">}</a>
    <a id="2338" class="Symbol">→</a> <a id="2340" href="Type.html#2331" class="Bound">Φ</a> <a id="2342" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2345" href="Type.html#580" class="InductiveConstructor">*</a>
    <a id="2351" class="Symbol">→</a> <a id="2353" href="Type.html#2331" class="Bound">Φ</a> <a id="2355" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2358" href="Type.html#580" class="InductiveConstructor">*</a>
      <a id="2366" class="Comment">------</a>
    <a id="2377" class="Symbol">→</a> <a id="2379" href="Type.html#2331" class="Bound">Φ</a> <a id="2381" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2384" href="Type.html#580" class="InductiveConstructor">*</a>

  <a id="_⊢⋆_.ƛ"></a><a id="2389" href="Type.html#2389" class="InductiveConstructor">ƛ</a> <a id="2391" class="Symbol">:</a>  <a id="2394" class="Symbol">∀</a> <a id="2396" class="Symbol">{</a><a id="2397" href="Type.html#2397" class="Bound">Φ</a> <a id="2399" href="Type.html#2399" class="Bound">K</a> <a id="2401" href="Type.html#2401" class="Bound">J</a><a id="2402" class="Symbol">}</a>
    <a id="2408" class="Symbol">→</a> <a id="2410" href="Type.html#2397" class="Bound">Φ</a> <a id="2412" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="2415" href="Type.html#2399" class="Bound">K</a> <a id="2417" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2420" href="Type.html#2401" class="Bound">J</a> 
      <a id="2429" class="Comment">-----------</a>
    <a id="2445" class="Symbol">→</a> <a id="2447" href="Type.html#2397" class="Bound">Φ</a> <a id="2449" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2452" href="Type.html#2399" class="Bound">K</a> <a id="2454" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2456" href="Type.html#2401" class="Bound">J</a>

  <a id="_⊢⋆_._·_"></a><a id="2461" href="Type.html#2461" class="InductiveConstructor Operator">_·_</a> <a id="2465" class="Symbol">:</a> <a id="2467" class="Symbol">∀{</a><a id="2469" href="Type.html#2469" class="Bound">Φ</a> <a id="2471" href="Type.html#2471" class="Bound">K</a> <a id="2473" href="Type.html#2473" class="Bound">J</a><a id="2474" class="Symbol">}</a>
    <a id="2480" class="Symbol">→</a> <a id="2482" href="Type.html#2469" class="Bound">Φ</a> <a id="2484" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2487" href="Type.html#2471" class="Bound">K</a> <a id="2489" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2491" href="Type.html#2473" class="Bound">J</a>
    <a id="2497" class="Symbol">→</a> <a id="2499" href="Type.html#2469" class="Bound">Φ</a> <a id="2501" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2504" href="Type.html#2471" class="Bound">K</a>
      <a id="2512" class="Comment">------</a>
    <a id="2523" class="Symbol">→</a> <a id="2525" href="Type.html#2469" class="Bound">Φ</a> <a id="2527" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2530" href="Type.html#2473" class="Bound">J</a>

  <a id="_⊢⋆_.μ"></a><a id="2535" href="Type.html#2535" class="InductiveConstructor">μ</a> <a id="2537" class="Symbol">:</a> <a id="2539" class="Symbol">∀{</a><a id="2541" href="Type.html#2541" class="Bound">φ</a> <a id="2543" href="Type.html#2543" class="Bound">K</a><a id="2544" class="Symbol">}</a>
    <a id="2550" class="Symbol">→</a> <a id="2552" href="Type.html#2541" class="Bound">φ</a> <a id="2554" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="2557" href="Type.html#2543" class="Bound">K</a> <a id="2559" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2562" href="Type.html#2543" class="Bound">K</a>
      <a id="2570" class="Comment">-----------</a>
    <a id="2586" class="Symbol">→</a> <a id="2588" href="Type.html#2541" class="Bound">φ</a> <a id="2590" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2593" href="Type.html#2543" class="Bound">K</a>

  <a id="_⊢⋆_.μ1"></a><a id="2598" href="Type.html#2598" class="InductiveConstructor">μ1</a> <a id="2601" class="Symbol">:</a> <a id="2603" class="Symbol">∀{</a><a id="2605" href="Type.html#2605" class="Bound">φ</a> <a id="2607" href="Type.html#2607" class="Bound">K</a><a id="2608" class="Symbol">}</a>
     <a id="2615" class="Comment">---------------------------------</a>
    <a id="2653" class="Symbol">→</a> <a id="2655" href="Type.html#2605" class="Bound">φ</a> <a id="2657" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2660" class="Symbol">((</a><a id="2662" href="Type.html#2607" class="Bound">K</a> <a id="2664" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2666" href="Type.html#580" class="InductiveConstructor">*</a><a id="2667" class="Symbol">)</a> <a id="2669" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2671" href="Type.html#2607" class="Bound">K</a> <a id="2673" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2675" href="Type.html#580" class="InductiveConstructor">*</a><a id="2676" class="Symbol">)</a> <a id="2678" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2680" href="Type.html#2607" class="Bound">K</a> <a id="2682" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2684" href="Type.html#580" class="InductiveConstructor">*</a>

  <a id="_⊢⋆_.size⋆"></a><a id="2689" href="Type.html#2689" class="InductiveConstructor">size⋆</a> <a id="2695" class="Symbol">:</a> <a id="2697" class="Symbol">∀{</a><a id="2699" href="Type.html#2699" class="Bound">φ</a><a id="2700" class="Symbol">}</a>
    <a id="2706" class="Symbol">→</a> <a id="2708" href="Agda.Builtin.Nat.html#97" class="Datatype">Nat</a>
      <a id="2718" class="Comment">------</a>
    <a id="2729" class="Symbol">→</a> <a id="2731" href="Type.html#2699" class="Bound">φ</a> <a id="2733" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2736" href="Type.html#615" class="InductiveConstructor">#</a>

  <a id="_⊢⋆_.con"></a><a id="2741" href="Type.html#2741" class="InductiveConstructor">con</a> <a id="2745" class="Symbol">:</a> <a id="2747" class="Symbol">∀{</a><a id="2749" href="Type.html#2749" class="Bound">φ</a><a id="2750" class="Symbol">}</a>
    <a id="2756" class="Symbol">→</a> <a id="2758" href="Type.html#1606" class="Datatype">TyCon</a>
    <a id="2768" class="Symbol">→</a> <a id="2770" href="Type.html#2749" class="Bound">φ</a> <a id="2772" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2775" href="Type.html#615" class="InductiveConstructor">#</a>
      <a id="2783" class="Comment">------</a>
    <a id="2794" class="Symbol">→</a> <a id="2796" href="Type.html#2749" class="Bound">φ</a> <a id="2798" href="Type.html#2168" class="Datatype Operator">⊢⋆</a> <a id="2801" href="Type.html#580" class="InductiveConstructor">*</a>

\end{code}<a id="2814" class="Comment">

Let `A`, `B`, `C` range over types.
</a></pre></body></html>