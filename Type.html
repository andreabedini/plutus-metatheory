<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Type</title><link rel="stylesheet" href="Agda.css"></head><body><pre>\begin{code}
<a id="14" class="Keyword">module</a> <a id="21" href="Type.html" class="Module">Type</a> <a id="26" class="Keyword">where</a>
\end{code}<a id="42" class="Comment">

## Fixity declarations

To begin, we get all our infix declarations out of the way.

</a>\begin{code}
<a id="142" class="Keyword">infix</a>  <a id="149" class="Number">4</a> <a id="151" href="Type.html#1217" class="Datatype Operator">_∋⋆_</a>
<a id="156" class="Keyword">infix</a>  <a id="163" class="Number">4</a> <a id="165" href="Type.html#2167" class="Datatype Operator">_⊢⋆_</a>
<a id="170" class="Keyword">infixl</a> <a id="177" class="Number">5</a> <a id="179" href="Type.html#896" class="InductiveConstructor Operator">_,⋆_</a>

<a id="185" class="Keyword">infix</a>  <a id="192" class="Number">6</a> <a id="194" href="Type.html#2257" class="InductiveConstructor">Π</a>
<a id="196" class="Keyword">infixr</a> <a id="203" class="Number">7</a> <a id="205" href="Type.html#650" class="InductiveConstructor Operator">_⇒_</a>

<a id="210" class="Keyword">infix</a>  <a id="217" class="Number">5</a> <a id="219" href="Type.html#2388" class="InductiveConstructor">ƛ</a>
<a id="221" class="Keyword">infixl</a> <a id="228" class="Number">7</a> <a id="230" href="Type.html#2460" class="InductiveConstructor Operator">_·_</a>
<a id="234" class="Keyword">infix</a>  <a id="241" class="Number">9</a> <a id="243" href="Type.html#1304" class="InductiveConstructor">S</a>
\end{code}<a id="255" class="Comment">

## Imports

</a>\begin{code}
<a id="282" class="Keyword">open</a> <a id="287" class="Keyword">import</a> <a id="294" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a>
\end{code}<a id="321" class="Comment">

## Kinds

The kind of types is `*`. Plutus core core is based on System Fω which
is higher order so we have `⇒` for type level functions. We also have
a kind called `#` which is used for sized integers and bytestrings.

</a>\begin{code}
<a id="556" class="Keyword">data</a> <a id="Kind"></a><a id="561" href="Type.html#561" class="Datatype">Kind</a> <a id="566" class="Symbol">:</a> <a id="568" class="PrimitiveType">Set</a> <a id="572" class="Keyword">where</a>
  <a id="Kind.*"></a><a id="580" href="Type.html#580" class="InductiveConstructor">*</a>   <a id="584" class="Symbol">:</a> <a id="586" href="Type.html#561" class="Datatype">Kind</a>               <a id="605" class="Comment">-- type</a>
  <a id="Kind.#"></a><a id="615" href="Type.html#615" class="InductiveConstructor">#</a>   <a id="619" class="Symbol">:</a> <a id="621" href="Type.html#561" class="Datatype">Kind</a>               <a id="640" class="Comment">-- size</a>
  <a id="Kind._⇒_"></a><a id="650" href="Type.html#650" class="InductiveConstructor Operator">_⇒_</a> <a id="654" class="Symbol">:</a> <a id="656" href="Type.html#561" class="Datatype">Kind</a> <a id="661" class="Symbol">→</a> <a id="663" href="Type.html#561" class="Datatype">Kind</a> <a id="668" class="Symbol">→</a> <a id="670" href="Type.html#561" class="Datatype">Kind</a> <a id="675" class="Comment">-- function kind</a>
\end{code}<a id="702" class="Comment">

Let `J`, `K` range over kinds.

## Type contexts

A type context is either empty or extends a type
context by a type variable of a given kind.

</a>\begin{code}
<a id="861" class="Keyword">data</a> <a id="Ctx⋆"></a><a id="866" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="871" class="Symbol">:</a> <a id="873" class="PrimitiveType">Set</a> <a id="877" class="Keyword">where</a>
  <a id="Ctx⋆.∅"></a><a id="885" href="Type.html#885" class="InductiveConstructor">∅</a> <a id="887" class="Symbol">:</a> <a id="889" href="Type.html#866" class="Datatype">Ctx⋆</a>
  <a id="Ctx⋆._,⋆_"></a><a id="896" href="Type.html#896" class="InductiveConstructor Operator">_,⋆_</a> <a id="901" class="Symbol">:</a> <a id="903" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="908" class="Symbol">→</a> <a id="910" href="Type.html#561" class="Datatype">Kind</a> <a id="915" class="Symbol">→</a> <a id="917" href="Type.html#866" class="Datatype">Ctx⋆</a>
\end{code}<a id="932" class="Comment">

Let `Φ`, `Ψ` range over type contexts.

## Type variables

Type variables are not named, they are numbered (de Bruijn indices).

A type variable is indexed by its context and kind. For a given
context, it&#39;s impossible to construct a variable that is out of
scope.

</a>\begin{code}
<a id="1212" class="Keyword">data</a> <a id="_∋⋆_"></a><a id="1217" href="Type.html#1217" class="Datatype Operator">_∋⋆_</a> <a id="1222" class="Symbol">:</a> <a id="1224" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="1229" class="Symbol">→</a> <a id="1231" href="Type.html#561" class="Datatype">Kind</a> <a id="1236" class="Symbol">→</a> <a id="1238" class="PrimitiveType">Set</a> <a id="1242" class="Keyword">where</a>

  <a id="_∋⋆_.Z"></a><a id="1251" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="1253" class="Symbol">:</a> <a id="1255" class="Symbol">∀</a> <a id="1257" class="Symbol">{</a><a id="1258" href="Type.html#1258" class="Bound">Φ</a> <a id="1260" href="Type.html#1260" class="Bound">J</a><a id="1261" class="Symbol">}</a>
      <a id="1269" class="Comment">-------------</a>
    <a id="1287" class="Symbol">→</a> <a id="1289" href="Type.html#1258" class="Bound">Φ</a> <a id="1291" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="1294" href="Type.html#1260" class="Bound">J</a> <a id="1296" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1299" href="Type.html#1260" class="Bound">J</a>

  <a id="_∋⋆_.S"></a><a id="1304" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1306" class="Symbol">:</a> <a id="1308" class="Symbol">∀</a> <a id="1310" class="Symbol">{</a><a id="1311" href="Type.html#1311" class="Bound">Φ</a> <a id="1313" href="Type.html#1313" class="Bound">J</a> <a id="1315" href="Type.html#1315" class="Bound">K</a><a id="1316" class="Symbol">}</a>
    <a id="1322" class="Symbol">→</a> <a id="1324" href="Type.html#1311" class="Bound">Φ</a> <a id="1326" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1329" href="Type.html#1313" class="Bound">J</a>
      <a id="1337" class="Comment">-------------</a>
    <a id="1355" class="Symbol">→</a> <a id="1357" href="Type.html#1311" class="Bound">Φ</a> <a id="1359" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="1362" href="Type.html#1315" class="Bound">K</a> <a id="1364" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="1367" href="Type.html#1313" class="Bound">J</a>
\end{code}<a id="1379" class="Comment">

Let `α`, `β` range over type variables.

## Type constants

We have three base types referred to as type constants, integer,
bytestring, and size, size is used to limit the size of integers and
bytestrings

</a>\begin{code}
<a id="1601" class="Keyword">data</a> <a id="TyCon"></a><a id="1606" href="Type.html#1606" class="Datatype">TyCon</a> <a id="1612" class="Symbol">:</a> <a id="1614" class="PrimitiveType">Set</a> <a id="1618" class="Keyword">where</a>
  <a id="TyCon.integer"></a><a id="1626" href="Type.html#1626" class="InductiveConstructor">integer</a> <a id="TyCon.bytstring"></a><a id="1634" href="Type.html#1634" class="InductiveConstructor">bytstring</a> <a id="TyCon.size"></a><a id="1644" href="Type.html#1644" class="InductiveConstructor">size</a> <a id="1649" class="Symbol">:</a> <a id="1651" href="Type.html#1606" class="Datatype">TyCon</a>
\end{code}<a id="1667" class="Comment">

## Types

A type is indexed by its context and kind. Types are intrinsically
scoped and kinded: it&#39;s impossible to construct an ill-kinded
application and it&#39;s impossible to refer to a variable that is not in
scope.

A type is either a type variable, a pi type, a function type, a
lambda, an application, an iso-recursive type `μ`, a size, or a type
constant (base type). Note that recursive types range over an
arbitrary kind `k` which goes beyond standard iso-recursive types.

</a>\begin{code}
<a id="2162" class="Keyword">data</a> <a id="_⊢⋆_"></a><a id="2167" href="Type.html#2167" class="Datatype Operator">_⊢⋆_</a> <a id="2172" class="Symbol">:</a> <a id="2174" href="Type.html#866" class="Datatype">Ctx⋆</a> <a id="2179" class="Symbol">→</a> <a id="2181" href="Type.html#561" class="Datatype">Kind</a> <a id="2186" class="Symbol">→</a> <a id="2188" class="PrimitiveType">Set</a> <a id="2192" class="Keyword">where</a>

  <a id="_⊢⋆_.`"></a><a id="2201" href="Type.html#2201" class="InductiveConstructor">`</a> <a id="2203" class="Symbol">:</a> <a id="2205" class="Symbol">∀</a> <a id="2207" class="Symbol">{</a><a id="2208" href="Type.html#2208" class="Bound">Φ</a> <a id="2210" href="Type.html#2210" class="Bound">J</a><a id="2211" class="Symbol">}</a>
    <a id="2217" class="Symbol">→</a> <a id="2219" href="Type.html#2208" class="Bound">Φ</a> <a id="2221" href="Type.html#1217" class="Datatype Operator">∋⋆</a> <a id="2224" href="Type.html#2210" class="Bound">J</a>
      <a id="2232" class="Comment">--------</a>
    <a id="2245" class="Symbol">→</a> <a id="2247" href="Type.html#2208" class="Bound">Φ</a> <a id="2249" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2252" href="Type.html#2210" class="Bound">J</a>

  <a id="_⊢⋆_.Π"></a><a id="2257" href="Type.html#2257" class="InductiveConstructor">Π</a> <a id="2259" class="Symbol">:</a> <a id="2261" class="Symbol">∀</a> <a id="2263" class="Symbol">{</a><a id="2264" href="Type.html#2264" class="Bound">Φ</a> <a id="2266" href="Type.html#2266" class="Bound">K</a><a id="2267" class="Symbol">}</a>
    <a id="2273" class="Symbol">→</a> <a id="2275" href="Type.html#2264" class="Bound">Φ</a> <a id="2277" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="2280" href="Type.html#2266" class="Bound">K</a> <a id="2282" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2285" href="Type.html#580" class="InductiveConstructor">*</a>
      <a id="2293" class="Comment">-----------</a>
    <a id="2309" class="Symbol">→</a> <a id="2311" href="Type.html#2264" class="Bound">Φ</a> <a id="2313" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2316" href="Type.html#580" class="InductiveConstructor">*</a>

  <a id="_⊢⋆_._⇒_"></a><a id="2321" href="Type.html#2321" class="InductiveConstructor Operator">_⇒_</a> <a id="2325" class="Symbol">:</a> <a id="2327" class="Symbol">∀</a> <a id="2329" class="Symbol">{</a><a id="2330" href="Type.html#2330" class="Bound">Φ</a><a id="2331" class="Symbol">}</a>
    <a id="2337" class="Symbol">→</a> <a id="2339" href="Type.html#2330" class="Bound">Φ</a> <a id="2341" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2344" href="Type.html#580" class="InductiveConstructor">*</a>
    <a id="2350" class="Symbol">→</a> <a id="2352" href="Type.html#2330" class="Bound">Φ</a> <a id="2354" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2357" href="Type.html#580" class="InductiveConstructor">*</a>
      <a id="2365" class="Comment">------</a>
    <a id="2376" class="Symbol">→</a> <a id="2378" href="Type.html#2330" class="Bound">Φ</a> <a id="2380" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2383" href="Type.html#580" class="InductiveConstructor">*</a>

  <a id="_⊢⋆_.ƛ"></a><a id="2388" href="Type.html#2388" class="InductiveConstructor">ƛ</a> <a id="2390" class="Symbol">:</a>  <a id="2393" class="Symbol">∀</a> <a id="2395" class="Symbol">{</a><a id="2396" href="Type.html#2396" class="Bound">Φ</a> <a id="2398" href="Type.html#2398" class="Bound">K</a> <a id="2400" href="Type.html#2400" class="Bound">J</a><a id="2401" class="Symbol">}</a>
    <a id="2407" class="Symbol">→</a> <a id="2409" href="Type.html#2396" class="Bound">Φ</a> <a id="2411" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="2414" href="Type.html#2398" class="Bound">K</a> <a id="2416" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2419" href="Type.html#2400" class="Bound">J</a> 
      <a id="2428" class="Comment">-----------</a>
    <a id="2444" class="Symbol">→</a> <a id="2446" href="Type.html#2396" class="Bound">Φ</a> <a id="2448" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2451" href="Type.html#2398" class="Bound">K</a> <a id="2453" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2455" href="Type.html#2400" class="Bound">J</a>

  <a id="_⊢⋆_._·_"></a><a id="2460" href="Type.html#2460" class="InductiveConstructor Operator">_·_</a> <a id="2464" class="Symbol">:</a> <a id="2466" class="Symbol">∀{</a><a id="2468" href="Type.html#2468" class="Bound">Φ</a> <a id="2470" href="Type.html#2470" class="Bound">K</a> <a id="2472" href="Type.html#2472" class="Bound">J</a><a id="2473" class="Symbol">}</a>
    <a id="2479" class="Symbol">→</a> <a id="2481" href="Type.html#2468" class="Bound">Φ</a> <a id="2483" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2486" href="Type.html#2470" class="Bound">K</a> <a id="2488" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="2490" href="Type.html#2472" class="Bound">J</a>
    <a id="2496" class="Symbol">→</a> <a id="2498" href="Type.html#2468" class="Bound">Φ</a> <a id="2500" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2503" href="Type.html#2470" class="Bound">K</a>
      <a id="2511" class="Comment">------</a>
    <a id="2522" class="Symbol">→</a> <a id="2524" href="Type.html#2468" class="Bound">Φ</a> <a id="2526" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2529" href="Type.html#2472" class="Bound">J</a>

  <a id="_⊢⋆_.μ"></a><a id="2534" href="Type.html#2534" class="InductiveConstructor">μ</a> <a id="2536" class="Symbol">:</a> <a id="2538" class="Symbol">∀{</a><a id="2540" href="Type.html#2540" class="Bound">φ</a> <a id="2542" href="Type.html#2542" class="Bound">K</a><a id="2543" class="Symbol">}</a>
    <a id="2549" class="Symbol">→</a> <a id="2551" href="Type.html#2540" class="Bound">φ</a> <a id="2553" href="Type.html#896" class="InductiveConstructor Operator">,⋆</a> <a id="2556" href="Type.html#2542" class="Bound">K</a> <a id="2558" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2561" href="Type.html#2542" class="Bound">K</a>
      <a id="2569" class="Comment">-----------</a>
    <a id="2585" class="Symbol">→</a> <a id="2587" href="Type.html#2540" class="Bound">φ</a> <a id="2589" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2592" href="Type.html#2542" class="Bound">K</a>

  <a id="_⊢⋆_.size⋆"></a><a id="2597" href="Type.html#2597" class="InductiveConstructor">size⋆</a> <a id="2603" class="Symbol">:</a> <a id="2605" class="Symbol">∀{</a><a id="2607" href="Type.html#2607" class="Bound">φ</a><a id="2608" class="Symbol">}</a>
    <a id="2614" class="Symbol">→</a> <a id="2616" href="Agda.Builtin.Nat.html#97" class="Datatype">Nat</a>
      <a id="2626" class="Comment">------</a>
    <a id="2637" class="Symbol">→</a> <a id="2639" href="Type.html#2607" class="Bound">φ</a> <a id="2641" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2644" href="Type.html#615" class="InductiveConstructor">#</a>

  <a id="_⊢⋆_.con"></a><a id="2649" href="Type.html#2649" class="InductiveConstructor">con</a> <a id="2653" class="Symbol">:</a> <a id="2655" class="Symbol">∀{</a><a id="2657" href="Type.html#2657" class="Bound">φ</a><a id="2658" class="Symbol">}</a>
    <a id="2664" class="Symbol">→</a> <a id="2666" href="Type.html#1606" class="Datatype">TyCon</a>
    <a id="2676" class="Symbol">→</a> <a id="2678" href="Type.html#2657" class="Bound">φ</a> <a id="2680" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2683" href="Type.html#615" class="InductiveConstructor">#</a>
      <a id="2691" class="Comment">------</a>
    <a id="2702" class="Symbol">→</a> <a id="2704" href="Type.html#2657" class="Bound">φ</a> <a id="2706" href="Type.html#2167" class="Datatype Operator">⊢⋆</a> <a id="2709" href="Type.html#580" class="InductiveConstructor">*</a>

\end{code}<a id="2722" class="Comment">

Let `A`, `B`, `C` range over types.
</a></pre></body></html>