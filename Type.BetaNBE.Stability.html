<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Type.BetaNBE.Stability</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Markup">\begin{code}</a>
<a id="14" class="Keyword">module</a> <a id="21" href="Type.BetaNBE.Stability.html" class="Module">Type.BetaNBE.Stability</a> <a id="44" class="Keyword">where</a>
<a id="50" class="Markup">\end{code}</a><a id="60" class="Background">

</a><a id="62" class="Markup">\begin{code}</a>
<a id="75" class="Keyword">open</a> <a id="80" class="Keyword">import</a> <a id="87" href="Type.html" class="Module">Type</a>
<a id="92" class="Keyword">open</a> <a id="97" class="Keyword">import</a> <a id="104" href="Type.BetaNormal.html" class="Module">Type.BetaNormal</a>
<a id="120" class="Keyword">open</a> <a id="125" class="Keyword">import</a> <a id="132" href="Type.BetaNBE.html" class="Module">Type.BetaNBE</a>
<a id="145" class="Keyword">open</a> <a id="150" class="Keyword">import</a> <a id="157" href="Type.BetaNBE.Completeness.html" class="Module">Type.BetaNBE.Completeness</a>

<a id="184" class="Keyword">open</a> <a id="189" class="Keyword">import</a> <a id="196" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="234" class="Keyword">open</a> <a id="239" class="Keyword">import</a> <a id="246" href="Function.html" class="Module">Function</a>
<a id="255" class="Markup">\end{code}</a><a id="265" class="Background">

If you take a normal form, embed it back into syntax and then
normalize it again, you get the same result. This is an important
property for substitution on normal forms: we don&#39;t want to eta expand
variables otherwise substituting in by the identity substitution can
perturb the expression.

</a><a id="560" class="Markup">\begin{code}</a>
<a id="stability"></a><a id="573" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="583" class="Symbol">:</a> <a id="585" class="Symbol">∀{</a><a id="587" href="Type.BetaNBE.Stability.html#587" class="Bound">Φ</a> <a id="589" href="Type.BetaNBE.Stability.html#589" class="Bound">K</a><a id="590" class="Symbol">}(</a><a id="592" href="Type.BetaNBE.Stability.html#592" class="Bound">n</a> <a id="594" class="Symbol">:</a> <a id="596" href="Type.BetaNBE.Stability.html#587" class="Bound">Φ</a> <a id="598" href="Type.BetaNormal.html#885" class="Datatype Operator">⊢Nf⋆</a> <a id="603" href="Type.BetaNBE.Stability.html#589" class="Bound">K</a><a id="604" class="Symbol">)</a> <a id="606" class="Symbol">→</a> <a id="608" href="Type.BetaNBE.html#3969" class="Function">nf</a> <a id="611" class="Symbol">(</a><a id="612" href="Type.BetaNormal.html#4538" class="Function">embNf</a> <a id="618" href="Type.BetaNBE.Stability.html#592" class="Bound">n</a><a id="619" class="Symbol">)</a> <a id="621" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="623" href="Type.BetaNBE.Stability.html#592" class="Bound">n</a>
<a id="stabilityNe"></a><a id="625" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNe</a> <a id="637" class="Symbol">:</a> <a id="639" class="Symbol">∀{</a><a id="641" href="Type.BetaNBE.Stability.html#641" class="Bound">Φ</a> <a id="643" href="Type.BetaNBE.Stability.html#643" class="Bound">K</a><a id="644" class="Symbol">}(</a><a id="646" href="Type.BetaNBE.Stability.html#646" class="Bound">n</a> <a id="648" class="Symbol">:</a> <a id="650" href="Type.BetaNBE.Stability.html#641" class="Bound">Φ</a> <a id="652" href="Type.BetaNormal.html#918" class="Datatype Operator">⊢Ne⋆</a> <a id="657" href="Type.BetaNBE.Stability.html#643" class="Bound">K</a><a id="658" class="Symbol">)</a> <a id="660" class="Symbol">→</a> <a id="662" href="Type.BetaNBE.html#3325" class="Function">eval</a> <a id="667" class="Symbol">(</a><a id="668" href="Type.BetaNormal.html#4573" class="Function">embNe</a> <a id="674" href="Type.BetaNBE.Stability.html#646" class="Bound">n</a><a id="675" class="Symbol">)</a> <a id="677" class="Symbol">(</a><a id="678" href="Type.BetaNBE.html#3720" class="Function">idEnv</a> <a id="684" class="Symbol">_)</a>  <a id="688" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="690" href="Type.BetaNBE.html#871" class="Function">reflect</a> <a id="698" href="Type.BetaNBE.Stability.html#646" class="Bound">n</a>

<a id="701" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="711" class="Symbol">(</a><a id="712" href="Type.BetaNormal.html#1205" class="InductiveConstructor">Π</a> <a id="714" href="Type.BetaNBE.Stability.html#714" class="Bound">x</a> <a id="716" href="Type.BetaNBE.Stability.html#716" class="Bound">B</a><a id="717" class="Symbol">)</a> <a id="719" class="Symbol">=</a>
  <a id="723" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a> <a id="728" class="Symbol">(</a><a id="729" href="Type.BetaNormal.html#1205" class="InductiveConstructor">Π</a> <a id="731" href="Type.BetaNBE.Stability.html#714" class="Bound">x</a><a id="732" class="Symbol">)</a> <a id="734" class="Symbol">(</a><a id="735" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">trans</a> <a id="741" class="Symbol">(</a><a id="742" href="Type.BetaNBE.Completeness.html#8602" class="Function">idext</a> <a id="748" class="Symbol">(λ</a> <a id="751" class="Symbol">{</a> <a id="753" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="755" class="Symbol">→</a> <a id="757" href="Type.BetaNBE.Completeness.html#3281" class="Function">reflectCR</a> <a id="767" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
                          <a id="798" class="Symbol">;</a> <a id="800" class="Symbol">(</a><a id="801" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="803" href="Type.BetaNBE.Stability.html#803" class="Bound">α</a><a id="804" class="Symbol">)</a> <a id="806" class="Symbol">→</a> <a id="808" href="Type.BetaNBE.Completeness.html#4850" class="Function">renVal-reflect</a> <a id="823" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="825" class="Symbol">(</a><a id="826" href="Type.BetaNormal.html#953" class="InductiveConstructor">`</a> <a id="828" href="Type.BetaNBE.Stability.html#803" class="Bound">α</a><a id="829" class="Symbol">)})</a>
                       <a id="856" class="Symbol">(</a><a id="857" href="Type.BetaNormal.html#4538" class="Function">embNf</a> <a id="863" href="Type.BetaNBE.Stability.html#716" class="Bound">B</a><a id="864" class="Symbol">))</a>
                <a id="883" class="Symbol">(</a><a id="884" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="894" href="Type.BetaNBE.Stability.html#716" class="Bound">B</a><a id="895" class="Symbol">))</a>
<a id="898" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="908" class="Symbol">(</a><a id="909" href="Type.BetaNBE.Stability.html#909" class="Bound">A</a> <a id="911" href="Type.BetaNormal.html#1286" class="InductiveConstructor Operator">⇒</a> <a id="913" href="Type.BetaNBE.Stability.html#913" class="Bound">B</a><a id="914" class="Symbol">)</a> <a id="916" class="Symbol">=</a> <a id="918" href="Relation.Binary.PropositionalEquality.html#1362" class="Function">cong₂</a> <a id="924" href="Type.BetaNormal.html#1286" class="InductiveConstructor Operator">_⇒_</a> <a id="928" class="Symbol">(</a><a id="929" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="939" href="Type.BetaNBE.Stability.html#909" class="Bound">A</a><a id="940" class="Symbol">)</a> <a id="942" class="Symbol">(</a><a id="943" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="953" href="Type.BetaNBE.Stability.html#913" class="Bound">B</a><a id="954" class="Symbol">)</a>
<a id="956" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="966" class="Symbol">(</a><a id="967" href="Type.BetaNormal.html#1359" class="InductiveConstructor">ƛ</a> <a id="969" href="Type.BetaNBE.Stability.html#969" class="Bound">x</a> <a id="971" href="Type.BetaNBE.Stability.html#971" class="Bound">B</a><a id="972" class="Symbol">)</a>    <a id="977" class="Symbol">=</a>
  <a id="981" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a> <a id="986" class="Symbol">(</a><a id="987" href="Type.BetaNormal.html#1359" class="InductiveConstructor">ƛ</a> <a id="989" href="Type.BetaNBE.Stability.html#969" class="Bound">x</a><a id="990" class="Symbol">)</a> <a id="992" class="Symbol">(</a><a id="993" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">trans</a> <a id="999" class="Symbol">(</a><a id="1000" href="Type.BetaNBE.Completeness.html#3464" class="Function">reifyCR</a> <a id="1008" class="Symbol">(</a><a id="1009" href="Type.BetaNBE.Completeness.html#8602" class="Function">idext</a> <a id="1015" class="Symbol">(λ</a> <a id="1018" class="Symbol">{</a> <a id="1020" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="1022" class="Symbol">→</a> <a id="1024" href="Type.BetaNBE.Completeness.html#3281" class="Function">reflectCR</a> <a id="1034" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
                                      <a id="1077" class="Symbol">;</a> <a id="1079" class="Symbol">(</a><a id="1080" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1082" href="Type.BetaNBE.Stability.html#1082" class="Bound">α</a><a id="1083" class="Symbol">)</a> <a id="1085" class="Symbol">→</a> <a id="1087" href="Type.BetaNBE.Completeness.html#4850" class="Function">renVal-reflect</a> <a id="1102" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1104" class="Symbol">(</a><a id="1105" href="Type.BetaNormal.html#953" class="InductiveConstructor">`</a> <a id="1107" href="Type.BetaNBE.Stability.html#1082" class="Bound">α</a><a id="1108" class="Symbol">)})</a>
                                   <a id="1147" class="Symbol">(</a><a id="1148" href="Type.BetaNormal.html#4538" class="Function">embNf</a> <a id="1154" href="Type.BetaNBE.Stability.html#971" class="Bound">B</a><a id="1155" class="Symbol">)))</a>
                <a id="1175" class="Symbol">(</a><a id="1176" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1186" href="Type.BetaNBE.Stability.html#971" class="Bound">B</a><a id="1187" class="Symbol">))</a>
<a id="1190" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1200" class="Symbol">(</a><a id="1201" href="Type.BetaNormal.html#1509" class="InductiveConstructor">con</a> <a id="1205" href="Type.BetaNBE.Stability.html#1205" class="Bound">tcn</a><a id="1208" class="Symbol">)</a>   <a id="1212" class="Symbol">=</a> <a id="1214" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
<a id="1219" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1229" class="Symbol">{</a><a id="1230" class="Argument">K</a> <a id="1232" class="Symbol">=</a> <a id="1234" href="Type.html#615" class="InductiveConstructor">*</a><a id="1235" class="Symbol">}</a>     <a id="1241" class="Symbol">(</a><a id="1242" href="Type.BetaNormal.html#1449" class="InductiveConstructor">ne</a> <a id="1245" href="Type.BetaNBE.Stability.html#1245" class="Bound">n</a><a id="1246" class="Symbol">)</a> <a id="1248" class="Symbol">=</a> <a id="1250" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNe</a> <a id="1262" href="Type.BetaNBE.Stability.html#1245" class="Bound">n</a>
<a id="1264" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1274" class="Symbol">{</a><a id="1275" class="Argument">K</a> <a id="1277" class="Symbol">=</a> <a id="1279" href="Type.BetaNBE.Stability.html#1279" class="Bound">K</a> <a id="1281" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="1283" href="Type.BetaNBE.Stability.html#1283" class="Bound">J</a><a id="1284" class="Symbol">}</a> <a id="1286" class="Symbol">(</a><a id="1287" href="Type.BetaNormal.html#1449" class="InductiveConstructor">ne</a> <a id="1290" href="Type.BetaNBE.Stability.html#1290" class="Bound">n</a><a id="1291" class="Symbol">)</a> <a id="1293" class="Symbol">=</a> <a id="1295" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a> <a id="1300" class="Symbol">(λ</a> <a id="1303" href="Type.BetaNBE.Stability.html#1303" class="Bound">v</a> <a id="1305" class="Symbol">→</a> <a id="1307" href="Type.BetaNBE.html#1561" class="Function">reify</a> <a id="1313" href="Type.BetaNBE.Stability.html#1303" class="Bound">v</a><a id="1314" class="Symbol">)</a> <a id="1316" class="Symbol">(</a><a id="1317" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNe</a> <a id="1329" href="Type.BetaNBE.Stability.html#1290" class="Bound">n</a><a id="1330" class="Symbol">)</a>

<a id="1333" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNe</a> <a id="1345" class="Symbol">(</a><a id="1346" href="Type.BetaNormal.html#953" class="InductiveConstructor">`</a> <a id="1348" href="Type.BetaNBE.Stability.html#1348" class="Bound">α</a><a id="1349" class="Symbol">)</a>    <a id="1354" class="Symbol">=</a> <a id="1356" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
<a id="1361" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNe</a> <a id="1373" class="Symbol">(</a><a id="1374" href="Type.BetaNBE.Stability.html#1374" class="Bound">n</a> <a id="1376" href="Type.BetaNormal.html#1011" class="InductiveConstructor Operator">·</a> <a id="1378" href="Type.BetaNBE.Stability.html#1378" class="Bound">n&#39;</a><a id="1380" class="Symbol">)</a> <a id="1382" class="Symbol">=</a>
  <a id="1386" href="Relation.Binary.PropositionalEquality.Core.html#923" class="Function">trans</a> <a id="1392" class="Symbol">(</a><a id="1393" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a> <a id="1398" class="Symbol">(</a><a id="1399" href="Type.BetaNBE.html#2905" class="Function Operator">_·V</a> <a id="1403" class="Symbol">(</a><a id="1404" href="Type.BetaNBE.html#3325" class="Function">eval</a> <a id="1409" class="Symbol">(</a><a id="1410" href="Type.BetaNormal.html#4538" class="Function">embNf</a> <a id="1416" href="Type.BetaNBE.Stability.html#1378" class="Bound">n&#39;</a><a id="1418" class="Symbol">)</a> <a id="1420" class="Symbol">(</a><a id="1421" href="Type.BetaNBE.html#3720" class="Function">idEnv</a> <a id="1427" class="Symbol">_)))</a> <a id="1432" class="Symbol">(</a><a id="1433" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNe</a> <a id="1445" href="Type.BetaNBE.Stability.html#1374" class="Bound">n</a><a id="1446" class="Symbol">))</a>
        <a id="1457" class="Symbol">(</a><a id="1458" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a> <a id="1463" class="Symbol">(λ</a> <a id="1466" href="Type.BetaNBE.Stability.html#1466" class="Bound">n&#39;&#39;</a> <a id="1470" class="Symbol">→</a> <a id="1472" href="Type.BetaNBE.html#871" class="Function">reflect</a> <a id="1480" class="Symbol">(</a><a id="1481" href="Type.BetaNBE.Stability.html#1374" class="Bound">n</a> <a id="1483" href="Type.BetaNormal.html#1011" class="InductiveConstructor Operator">·</a> <a id="1485" href="Type.BetaNBE.Stability.html#1466" class="Bound">n&#39;&#39;</a><a id="1488" class="Symbol">))</a> <a id="1491" class="Symbol">(</a><a id="1492" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1502" href="Type.BetaNBE.Stability.html#1378" class="Bound">n&#39;</a><a id="1504" class="Symbol">))</a>
<a id="1507" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNe</a> <a id="1519" href="Type.BetaNormal.html#1093" class="InductiveConstructor">μ1</a>      <a id="1527" class="Symbol">=</a> <a id="1529" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
<a id="1534" class="Markup">\end{code}</a><a id="1544" class="Background">
</a></pre></body></html>