<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Type.BetaNBE.Stability</title><link rel="stylesheet" href="Agda.css"></head><body><pre>\begin{code}
<a id="14" class="Keyword">module</a> <a id="21" href="Type.BetaNBE.Stability.html" class="Module">Type.BetaNBE.Stability</a> <a id="44" class="Keyword">where</a>
\end{code}<a id="60" class="Comment">

</a>\begin{code}
<a id="75" class="Keyword">open</a> <a id="80" class="Keyword">import</a> <a id="87" href="Type.html" class="Module">Type</a>
<a id="92" class="Keyword">open</a> <a id="97" class="Keyword">import</a> <a id="104" href="Type.BetaNormal.html" class="Module">Type.BetaNormal</a>
<a id="120" class="Keyword">open</a> <a id="125" class="Keyword">import</a> <a id="132" href="Type.BetaNBE.html" class="Module">Type.BetaNBE</a>
<a id="145" class="Keyword">open</a> <a id="150" class="Keyword">import</a> <a id="157" href="Type.BetaNBE.Completeness.html" class="Module">Type.BetaNBE.Completeness</a>

<a id="184" class="Keyword">open</a> <a id="189" class="Keyword">import</a> <a id="196" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="234" class="Keyword">open</a> <a id="239" class="Keyword">import</a> <a id="246" href="Function.html" class="Module">Function</a>
\end{code}<a id="265" class="Comment">

If you take a normal form, embed it back into syntax and then
normalize it again, you get the same result. This is an important
property for substitution on normal forms: we don&#39;t want to eta expand
variables otherwise substituting in by the identity substitution can
perturb the expression.

</a>\begin{code}
<a id="stability"></a><a id="573" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="583" class="Symbol">:</a> <a id="585" class="Symbol">∀{</a><a id="587" href="Type.BetaNBE.Stability.html#587" class="Bound">Φ</a> <a id="589" href="Type.BetaNBE.Stability.html#589" class="Bound">K</a><a id="590" class="Symbol">}(</a><a id="592" href="Type.BetaNBE.Stability.html#592" class="Bound">n</a> <a id="594" class="Symbol">:</a> <a id="596" href="Type.BetaNBE.Stability.html#587" class="Bound">Φ</a> <a id="598" href="Type.BetaNormal.html#812" class="Datatype Operator">⊢Nf⋆</a> <a id="603" href="Type.BetaNBE.Stability.html#589" class="Bound">K</a><a id="604" class="Symbol">)</a> <a id="606" class="Symbol">→</a> <a id="608" href="Type.BetaNBE.html#4105" class="Function">nf</a> <a id="611" class="Symbol">(</a><a id="612" href="Type.BetaNormal.html#5113" class="Function">embNf</a> <a id="618" href="Type.BetaNBE.Stability.html#592" class="Bound">n</a><a id="619" class="Symbol">)</a> <a id="621" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="623" href="Type.BetaNBE.Stability.html#592" class="Bound">n</a>
<a id="stabilityNeN"></a><a id="625" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNeN</a> <a id="638" class="Symbol">:</a> <a id="640" class="Symbol">∀{</a><a id="642" href="Type.BetaNBE.Stability.html#642" class="Bound">Φ</a> <a id="644" href="Type.BetaNBE.Stability.html#644" class="Bound">K</a><a id="645" class="Symbol">}(</a><a id="647" href="Type.BetaNBE.Stability.html#647" class="Bound">n</a> <a id="649" class="Symbol">:</a> <a id="651" href="Type.BetaNBE.Stability.html#642" class="Bound">Φ</a> <a id="653" href="Type.BetaNormal.html#845" class="Datatype Operator">⊢NeN⋆</a> <a id="659" href="Type.BetaNBE.Stability.html#644" class="Bound">K</a><a id="660" class="Symbol">)</a> <a id="662" class="Symbol">→</a> <a id="664" href="Type.BetaNBE.html#3388" class="Function">eval</a> <a id="669" class="Symbol">(</a><a id="670" href="Type.BetaNormal.html#5148" class="Function">embNeN</a> <a id="677" href="Type.BetaNBE.Stability.html#647" class="Bound">n</a><a id="678" class="Symbol">)</a> <a id="680" class="Symbol">(</a><a id="681" href="Type.BetaNBE.html#3856" class="Function">idEnv</a> <a id="687" class="Symbol">_)</a>  <a id="691" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="693" href="Type.BetaNBE.html#864" class="Function">reflect</a> <a id="701" href="Type.BetaNBE.Stability.html#647" class="Bound">n</a>

<a id="704" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="714" class="Symbol">(</a><a id="715" href="Type.BetaNormal.html#1111" class="InductiveConstructor">Π</a> <a id="717" href="Type.BetaNBE.Stability.html#717" class="Bound">B</a><a id="718" class="Symbol">)</a> <a id="720" class="Symbol">=</a>
  <a id="724" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="729" href="Type.BetaNormal.html#1111" class="InductiveConstructor">Π</a> <a id="731" class="Symbol">(</a><a id="732" href="Relation.Binary.PropositionalEquality.Core.html#627" class="Function">trans</a> <a id="738" class="Symbol">(</a><a id="739" href="Type.BetaNBE.Completeness.html#8719" class="Function">idext</a> <a id="745" class="Symbol">(λ</a> <a id="748" class="Symbol">{</a> <a id="750" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="752" class="Symbol">→</a> <a id="754" href="Type.BetaNBE.Completeness.html#3091" class="Function">reflectPER</a> <a id="765" class="Symbol">_</a> <a id="767" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
                          <a id="798" class="Symbol">;</a> <a id="800" class="Symbol">(</a><a id="801" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="803" href="Type.BetaNBE.Stability.html#803" class="Bound">α</a><a id="804" class="Symbol">)</a> <a id="806" class="Symbol">→</a> <a id="808" href="Type.BetaNBE.Completeness.html#4513" class="Function">renameVal-reflect</a> <a id="826" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="828" class="Symbol">(</a><a id="829" href="Type.BetaNormal.html#881" class="InductiveConstructor">`</a> <a id="831" href="Type.BetaNBE.Stability.html#803" class="Bound">α</a><a id="832" class="Symbol">)})</a>
                       <a id="859" class="Symbol">(</a><a id="860" href="Type.BetaNormal.html#5113" class="Function">embNf</a> <a id="866" href="Type.BetaNBE.Stability.html#717" class="Bound">B</a><a id="867" class="Symbol">))</a>
                <a id="886" class="Symbol">(</a><a id="887" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="897" href="Type.BetaNBE.Stability.html#717" class="Bound">B</a><a id="898" class="Symbol">))</a>
<a id="901" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="911" class="Symbol">(</a><a id="912" href="Type.BetaNBE.Stability.html#912" class="Bound">A</a> <a id="914" href="Type.BetaNormal.html#1179" class="InductiveConstructor Operator">⇒</a> <a id="916" href="Type.BetaNBE.Stability.html#916" class="Bound">B</a><a id="917" class="Symbol">)</a> <a id="919" class="Symbol">=</a> <a id="921" href="Relation.Binary.PropositionalEquality.html#1313" class="Function">cong₂</a> <a id="927" href="Type.BetaNormal.html#1179" class="InductiveConstructor Operator">_⇒_</a> <a id="931" class="Symbol">(</a><a id="932" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="942" href="Type.BetaNBE.Stability.html#912" class="Bound">A</a><a id="943" class="Symbol">)</a> <a id="945" class="Symbol">(</a><a id="946" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="956" href="Type.BetaNBE.Stability.html#916" class="Bound">B</a><a id="957" class="Symbol">)</a>
<a id="959" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="969" class="Symbol">(</a><a id="970" href="Type.BetaNormal.html#1252" class="InductiveConstructor">ƛ</a> <a id="972" href="Type.BetaNBE.Stability.html#972" class="Bound">B</a><a id="973" class="Symbol">)</a>    <a id="978" class="Symbol">=</a>
  <a id="982" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="987" href="Type.BetaNormal.html#1252" class="InductiveConstructor">ƛ</a> <a id="989" class="Symbol">(</a><a id="990" href="Relation.Binary.PropositionalEquality.Core.html#627" class="Function">trans</a> <a id="996" class="Symbol">(</a><a id="997" href="Type.BetaNBE.Completeness.html#3273" class="Function">reifyPER</a> <a id="1006" class="Symbol">_</a> <a id="1008" class="Symbol">(</a><a id="1009" href="Type.BetaNBE.Completeness.html#8719" class="Function">idext</a> <a id="1015" class="Symbol">(λ</a> <a id="1018" class="Symbol">{</a> <a id="1020" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="1022" class="Symbol">→</a> <a id="1024" href="Type.BetaNBE.Completeness.html#3091" class="Function">reflectPER</a> <a id="1035" class="Symbol">_</a> <a id="1037" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
                                      <a id="1080" class="Symbol">;</a> <a id="1082" class="Symbol">(</a><a id="1083" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1085" href="Type.BetaNBE.Stability.html#1085" class="Bound">α</a><a id="1086" class="Symbol">)</a> <a id="1088" class="Symbol">→</a> <a id="1090" href="Type.BetaNBE.Completeness.html#4513" class="Function">renameVal-reflect</a> <a id="1108" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1110" class="Symbol">(</a><a id="1111" href="Type.BetaNormal.html#881" class="InductiveConstructor">`</a> <a id="1113" href="Type.BetaNBE.Stability.html#1085" class="Bound">α</a><a id="1114" class="Symbol">)})</a>
                                   <a id="1153" class="Symbol">(</a><a id="1154" href="Type.BetaNormal.html#5113" class="Function">embNf</a> <a id="1160" href="Type.BetaNBE.Stability.html#972" class="Bound">B</a><a id="1161" class="Symbol">)))</a>
                <a id="1181" class="Symbol">(</a><a id="1182" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1192" href="Type.BetaNBE.Stability.html#972" class="Bound">B</a><a id="1193" class="Symbol">))</a>
<a id="1196" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1206" class="Symbol">(</a><a id="1207" href="Type.BetaNormal.html#1390" class="InductiveConstructor">size⋆</a> <a id="1213" href="Type.BetaNBE.Stability.html#1213" class="Bound">n</a><a id="1214" class="Symbol">)</a>   <a id="1218" class="Symbol">=</a> <a id="1220" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
<a id="1225" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1235" class="Symbol">(</a><a id="1236" href="Type.BetaNormal.html#1423" class="InductiveConstructor">con</a> <a id="1240" href="Type.BetaNBE.Stability.html#1240" class="Bound">tcn</a> <a id="1244" href="Type.BetaNBE.Stability.html#1244" class="Bound">s</a><a id="1245" class="Symbol">)</a> <a id="1247" class="Symbol">=</a> <a id="1249" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="1254" class="Symbol">(</a><a id="1255" href="Type.BetaNormal.html#1423" class="InductiveConstructor">con</a> <a id="1259" href="Type.BetaNBE.Stability.html#1240" class="Bound">tcn</a><a id="1262" class="Symbol">)</a> <a id="1264" class="Symbol">(</a><a id="1265" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1275" href="Type.BetaNBE.Stability.html#1244" class="Bound">s</a><a id="1276" class="Symbol">)</a>
<a id="1278" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1288" class="Symbol">{</a><a id="1289" class="Argument">K</a> <a id="1291" class="Symbol">=</a> <a id="1293" href="Type.html#580" class="InductiveConstructor">*</a><a id="1294" class="Symbol">}</a>     <a id="1300" class="Symbol">(</a><a id="1301" href="Type.BetaNormal.html#1329" class="InductiveConstructor">ne</a> <a id="1304" href="Type.BetaNBE.Stability.html#1304" class="Bound">n</a><a id="1305" class="Symbol">)</a> <a id="1307" class="Symbol">=</a> <a id="1309" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNeN</a> <a id="1322" href="Type.BetaNBE.Stability.html#1304" class="Bound">n</a>
<a id="1324" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1334" class="Symbol">{</a><a id="1335" class="Argument">K</a> <a id="1337" class="Symbol">=</a> <a id="1339" href="Type.html#615" class="InductiveConstructor">#</a><a id="1340" class="Symbol">}</a>     <a id="1346" class="Symbol">(</a><a id="1347" href="Type.BetaNormal.html#1329" class="InductiveConstructor">ne</a> <a id="1350" href="Type.BetaNBE.Stability.html#1350" class="Bound">n</a><a id="1351" class="Symbol">)</a> <a id="1353" class="Symbol">=</a> <a id="1355" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNeN</a> <a id="1368" href="Type.BetaNBE.Stability.html#1350" class="Bound">n</a>
<a id="1370" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1380" class="Symbol">{</a><a id="1381" class="Argument">K</a> <a id="1383" class="Symbol">=</a> <a id="1385" href="Type.BetaNBE.Stability.html#1385" class="Bound">K</a> <a id="1387" href="Type.html#650" class="InductiveConstructor Operator">⇒</a> <a id="1389" href="Type.BetaNBE.Stability.html#1389" class="Bound">J</a><a id="1390" class="Symbol">}</a> <a id="1392" class="Symbol">(</a><a id="1393" href="Type.BetaNormal.html#1329" class="InductiveConstructor">ne</a> <a id="1396" href="Type.BetaNBE.Stability.html#1396" class="Bound">n</a><a id="1397" class="Symbol">)</a> <a id="1399" class="Symbol">=</a> <a id="1401" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="1406" class="Symbol">(λ</a> <a id="1409" href="Type.BetaNBE.Stability.html#1409" class="Bound">v</a> <a id="1411" class="Symbol">→</a> <a id="1413" href="Type.BetaNBE.html#1640" class="Function">reify</a> <a id="1419" href="Type.BetaNBE.Stability.html#1409" class="Bound">v</a><a id="1420" class="Symbol">)</a> <a id="1422" class="Symbol">(</a><a id="1423" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNeN</a> <a id="1436" href="Type.BetaNBE.Stability.html#1396" class="Bound">n</a><a id="1437" class="Symbol">)</a>

<a id="1440" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNeN</a> <a id="1453" class="Symbol">(</a><a id="1454" href="Type.BetaNormal.html#881" class="InductiveConstructor">`</a> <a id="1456" href="Type.BetaNBE.Stability.html#1456" class="Bound">α</a><a id="1457" class="Symbol">)</a>    <a id="1462" class="Symbol">=</a> <a id="1464" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
<a id="1469" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNeN</a> <a id="1482" class="Symbol">(</a><a id="1483" href="Type.BetaNBE.Stability.html#1483" class="Bound">n</a> <a id="1485" href="Type.BetaNormal.html#940" class="InductiveConstructor Operator">·</a> <a id="1487" href="Type.BetaNBE.Stability.html#1487" class="Bound">n&#39;</a><a id="1489" class="Symbol">)</a> <a id="1491" class="Symbol">=</a>
  <a id="1495" href="Relation.Binary.PropositionalEquality.Core.html#627" class="Function">trans</a> <a id="1501" class="Symbol">(</a><a id="1502" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="1507" class="Symbol">(</a><a id="1508" href="Type.BetaNBE.html#2974" class="Function Operator">_·V</a> <a id="1512" class="Symbol">(</a><a id="1513" href="Type.BetaNBE.html#3388" class="Function">eval</a> <a id="1518" class="Symbol">(</a><a id="1519" href="Type.BetaNormal.html#5113" class="Function">embNf</a> <a id="1525" href="Type.BetaNBE.Stability.html#1487" class="Bound">n&#39;</a><a id="1527" class="Symbol">)</a> <a id="1529" class="Symbol">(</a><a id="1530" href="Type.BetaNBE.html#3856" class="Function">idEnv</a> <a id="1536" class="Symbol">_)))</a> <a id="1541" class="Symbol">(</a><a id="1542" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNeN</a> <a id="1555" href="Type.BetaNBE.Stability.html#1483" class="Bound">n</a><a id="1556" class="Symbol">))</a>
        <a id="1567" class="Symbol">(</a><a id="1568" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="1573" class="Symbol">(λ</a> <a id="1576" href="Type.BetaNBE.Stability.html#1576" class="Bound">n&#39;&#39;</a> <a id="1580" class="Symbol">→</a> <a id="1582" href="Type.BetaNBE.html#864" class="Function">reflect</a> <a id="1590" class="Symbol">(</a><a id="1591" href="Type.BetaNBE.Stability.html#1483" class="Bound">n</a> <a id="1593" href="Type.BetaNormal.html#940" class="InductiveConstructor Operator">·</a> <a id="1595" href="Type.BetaNBE.Stability.html#1576" class="Bound">n&#39;&#39;</a><a id="1598" class="Symbol">))</a> <a id="1601" class="Symbol">(</a><a id="1602" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1612" href="Type.BetaNBE.Stability.html#1487" class="Bound">n&#39;</a><a id="1614" class="Symbol">))</a>
<a id="1617" href="Type.BetaNBE.Stability.html#625" class="Function">stabilityNeN</a> <a id="1630" class="Symbol">(</a><a id="1631" href="Type.BetaNormal.html#1024" class="InductiveConstructor">μ</a> <a id="1633" href="Type.BetaNBE.Stability.html#1633" class="Bound">B</a><a id="1634" class="Symbol">)</a>    <a id="1639" class="Symbol">=</a>
  <a id="1643" href="Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="1648" class="Symbol">(</a><a id="1649" href="Type.BetaNBE.html#864" class="Function">reflect</a> <a id="1657" href="Function.html#759" class="Function Operator">∘</a> <a id="1659" href="Type.BetaNormal.html#1024" class="InductiveConstructor">μ</a><a id="1660" class="Symbol">)</a>
       <a id="1669" class="Symbol">(</a><a id="1670" href="Relation.Binary.PropositionalEquality.Core.html#627" class="Function">trans</a> <a id="1676" class="Symbol">(</a><a id="1677" href="Type.BetaNBE.Completeness.html#3273" class="Function">reifyPER</a> <a id="1686" class="Symbol">_</a> <a id="1688" class="Symbol">(</a><a id="1689" href="Type.BetaNBE.Completeness.html#8719" class="Function">idext</a> <a id="1695" class="Symbol">(λ</a> <a id="1698" class="Symbol">{</a> <a id="1700" href="Type.html#1251" class="InductiveConstructor">Z</a> <a id="1702" class="Symbol">→</a> <a id="1704" href="Type.BetaNBE.Completeness.html#3091" class="Function">reflectPER</a> <a id="1715" class="Symbol">_</a> <a id="1717" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
                                 <a id="1755" class="Symbol">;</a> <a id="1757" class="Symbol">(</a><a id="1758" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1760" href="Type.BetaNBE.Stability.html#1760" class="Bound">x</a><a id="1761" class="Symbol">)</a> <a id="1763" class="Symbol">→</a> <a id="1765" href="Type.BetaNBE.Completeness.html#4513" class="Function">renameVal-reflect</a> <a id="1783" href="Type.html#1304" class="InductiveConstructor">S</a> <a id="1785" class="Symbol">(</a><a id="1786" href="Type.BetaNormal.html#881" class="InductiveConstructor">`</a> <a id="1788" href="Type.BetaNBE.Stability.html#1760" class="Bound">x</a><a id="1789" class="Symbol">)})</a> <a id="1793" class="Symbol">(</a><a id="1794" href="Type.BetaNormal.html#5113" class="Function">embNf</a> <a id="1800" href="Type.BetaNBE.Stability.html#1633" class="Bound">B</a><a id="1801" class="Symbol">)))</a>
              <a id="1819" class="Symbol">(</a><a id="1820" href="Type.BetaNBE.Stability.html#573" class="Function">stability</a> <a id="1830" href="Type.BetaNBE.Stability.html#1633" class="Bound">B</a><a id="1831" class="Symbol">))</a>
\end{code}<a id="1844" class="Comment">
</a></pre></body></html>